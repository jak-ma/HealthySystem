{"version":3,"file":"index.umd.min.js","sources":["../../../node_modules/.pnpm/node_modules/tslib/tslib.es6.js","../src/packages/g-plugin-device-renderer/src/components/Renderable3D.ts","../src/packages/g-plugin-device-renderer/src/LightPool.ts","../src/packages/g-plugin-device-renderer/src/Mesh.ts","../src/packages/g-plugin-device-renderer/src/MeshUpdater.ts","../src/packages/g-plugin-device-renderer/src/PickingIdGenerator.ts","../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/common.js","../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/mat4.js","../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec3.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/rotate-vector.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/process/arc-2-cubic.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/is-nil.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/is-type.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/is-string.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/clamp.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/is-number.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-nil.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-type.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/clamp.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-number.js","../../../node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js","../../../node_modules/.pnpm/@antv+g-device-api@1.3.9/node_modules/@antv/g-device-api/es/index.js","../src/packages/g-plugin-device-renderer/src/render/DeviceProgram.ts","../src/packages/g-plugin-device-renderer/src/render/DynamicUniformBuffer.ts","../src/packages/g-plugin-device-renderer/src/render/HashMap.ts","../src/packages/g-plugin-device-renderer/src/render/RenderCache.ts","../src/packages/g-plugin-device-renderer/src/interfaces.ts","../src/packages/g-plugin-device-renderer/src/render/interfaces.ts","../src/packages/g-plugin-device-renderer/src/render/RenderGraphPass.ts","../src/packages/g-plugin-device-renderer/src/render/utils/layer.ts","../src/packages/g-plugin-device-renderer/src/render/RenderTarget.ts","../src/packages/g-plugin-device-renderer/src/render/SingleSampledTexture.ts","../src/packages/g-plugin-device-renderer/src/render/RenderGraph.ts","../src/packages/g-plugin-device-renderer/src/render/utils/projection.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInst.ts","../src/packages/g-plugin-device-renderer/src/render/utils/matrix.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInstList.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInstPool.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInstManager.ts","../src/packages/g-plugin-device-renderer/src/render/RenderHelper.ts","../src/packages/g-plugin-device-renderer/src/render/RenderTargetDescription.ts","../src/packages/g-plugin-device-renderer/src/render/RenderGraphHelpers.ts","../src/packages/g-plugin-device-renderer/src/render/TextureHolder.ts","../src/packages/g-plugin-device-renderer/src/lights/Fog.ts","../src/packages/g-plugin-device-renderer/src/render/TemporalTexture.ts","../src/packages/g-plugin-device-renderer/src/lights/Light.ts","../src/packages/g-plugin-device-renderer/src/geometries/BufferGeometry.ts","../src/packages/g-plugin-device-renderer/src/passes/FXAA.ts","../src/packages/g-plugin-device-renderer/src/RenderGraphPlugin.ts","../src/packages/g-plugin-device-renderer/src/PickingPlugin.ts","../src/packages/g-plugin-device-renderer/src/renderer/Batch.ts","../src/packages/g-plugin-device-renderer/src/materials/Material.ts","../src/packages/g-plugin-device-renderer/src/materials/ShaderMaterial.ts","../src/packages/g-plugin-device-renderer/src/utils/enum.ts","../src/packages/g-plugin-device-renderer/src/utils/compression.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Instanced.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/SDF.ts","../../../node_modules/.pnpm/earcut@2.2.3/node_modules/earcut/src/earcut.js","../../g-math/dist/index.esm.js","../src/packages/g-plugin-device-renderer/src/utils/sample.ts","../src/packages/g-plugin-device-renderer/src/utils/tiny-sdf.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/InstancedPath.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/InstancedFill.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/InstancedLine.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Image.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/AlphaImage.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/GlyphAtlas.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/GlyphManager.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Text.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/SymbolQuad.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Mesh.ts","../src/packages/g-plugin-device-renderer/src/renderer/Circle.ts","../src/packages/g-plugin-device-renderer/src/renderer/Path.ts","../src/packages/g-plugin-device-renderer/src/renderer/Group.ts","../src/packages/g-plugin-device-renderer/src/renderer/Image.ts","../src/packages/g-plugin-device-renderer/src/renderer/Text.ts","../src/packages/g-plugin-device-renderer/src/renderer/Line.ts","../src/packages/g-plugin-device-renderer/src/renderer/Mesh.ts","../src/packages/g-plugin-device-renderer/src/renderer/Rect.ts","../src/packages/g-plugin-device-renderer/src/renderer/BatchManager.ts","../src/packages/g-plugin-device-renderer/src/TexturePool.ts","../src/packages/g-plugin-device-renderer/src/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n",null,null,null,null,null,"/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","export function rotateVector(x, y, rad) {\n    var X = x * Math.cos(rad) - y * Math.sin(rad);\n    var Y = x * Math.sin(rad) + y * Math.cos(rad);\n    return { x: X, y: Y };\n}\n//# sourceMappingURL=rotate-vector.js.map","import { rotateVector } from '../util/rotate-vector';\n/**\n * Converts A (arc-to) segments to C (cubic-bezier-to).\n *\n * For more information of where this math came from visit:\n * http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n */\nexport function arcToCubic(X1, Y1, RX, RY, angle, LAF, SF, X2, Y2, recursive) {\n    var x1 = X1;\n    var y1 = Y1;\n    var rx = RX;\n    var ry = RY;\n    var x2 = X2;\n    var y2 = Y2;\n    // for more information of where this Math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    var d120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    /** @type {number[]} */\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    if (!recursive) {\n        xy = rotateVector(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotateVector(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx *= h;\n            ry *= h;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (LAF === SF ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        // eslint-disable-next-line no-bitwise -- Impossible to satisfy no-bitwise\n        f1 = Math.asin(((((y1 - cy) / ry) * Math.pow(10, 9)) >> 0) / Math.pow(10, 9));\n        // eslint-disable-next-line no-bitwise -- Impossible to satisfy no-bitwise\n        f2 = Math.asin(((((y2 - cy) / ry) * Math.pow(10, 9)) >> 0) / Math.pow(10, 9));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        if (f1 < 0)\n            f1 = Math.PI * 2 + f1;\n        if (f2 < 0)\n            f2 = Math.PI * 2 + f2;\n        if (SF && f1 > f2) {\n            f1 -= Math.PI * 2;\n        }\n        if (!SF && f2 > f1) {\n            f2 -= Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0], f2 = recursive[1], cx = recursive[2], cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > d120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + d120 * (SF && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = arcToCubic(x2, y2, rx, ry, angle, 0, SF, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return m2.concat(m3, m4, res);\n        // return [...m2, ...m3, ...m4, ...res];\n    }\n    res = m2.concat(m3, m4, res);\n    // res = [...m2, ...m3, ...m4, ...res];\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i += 1) {\n        newres[i] = i % 2 ? rotateVector(res[i - 1], res[i], rad).y : rotateVector(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n}\n// const TAU = Math.PI * 2;\n// const mapToEllipse = (\n//   { x, y }: { x: number; y: number },\n//   rx: number,\n//   ry: number,\n//   cosphi: number,\n//   sinphi: number,\n//   centerx: number,\n//   centery: number,\n// ) => {\n//   x *= rx;\n//   y *= ry;\n//   const xp = cosphi * x - sinphi * y;\n//   const yp = sinphi * x + cosphi * y;\n//   return {\n//     x: xp + centerx,\n//     y: yp + centery,\n//   };\n// };\n// const approxUnitArc = (ang1: number, ang2: number) => {\n//   // If 90 degree circular arc, use a constant\n//   // as derived from http://spencermortensen.com/articles/bezier-circle\n//   const a =\n//     ang2 === 1.5707963267948966\n//       ? 0.551915024494\n//       : ang2 === -1.5707963267948966\n//       ? -0.551915024494\n//       : (4 / 3) * Math.tan(ang2 / 4);\n//   const x1 = Math.cos(ang1);\n//   const y1 = Math.sin(ang1);\n//   const x2 = Math.cos(ang1 + ang2);\n//   const y2 = Math.sin(ang1 + ang2);\n//   return [\n//     {\n//       x: x1 - y1 * a,\n//       y: y1 + x1 * a,\n//     },\n//     {\n//       x: x2 + y2 * a,\n//       y: y2 - x2 * a,\n//     },\n//     {\n//       x: x2,\n//       y: y2,\n//     },\n//   ];\n// };\n// const vectorAngle = (ux: number, uy: number, vx: number, vy: number) => {\n//   const sign = ux * vy - uy * vx < 0 ? -1 : 1;\n//   let dot = ux * vx + uy * vy;\n//   if (dot > 1) {\n//     dot = 1;\n//   }\n//   if (dot < -1) {\n//     dot = -1;\n//   }\n//   return sign * Math.acos(dot);\n// };\n// const getArcCenter = (\n//   px: any,\n//   py: any,\n//   cx: any,\n//   cy: any,\n//   rx: number,\n//   ry: number,\n//   largeArcFlag: number,\n//   sweepFlag: number,\n//   sinphi: number,\n//   cosphi: number,\n//   pxp: number,\n//   pyp: number,\n// ) => {\n//   const rxsq = Math.pow(rx, 2);\n//   const rysq = Math.pow(ry, 2);\n//   const pxpsq = Math.pow(pxp, 2);\n//   const pypsq = Math.pow(pyp, 2);\n//   let radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n//   if (radicant < 0) {\n//     radicant = 0;\n//   }\n//   radicant /= rxsq * pypsq + rysq * pxpsq;\n//   radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n//   const centerxp = ((radicant * rx) / ry) * pyp;\n//   const centeryp = ((radicant * -ry) / rx) * pxp;\n//   const centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n//   const centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n//   const vx1 = (pxp - centerxp) / rx;\n//   const vy1 = (pyp - centeryp) / ry;\n//   const vx2 = (-pxp - centerxp) / rx;\n//   const vy2 = (-pyp - centeryp) / ry;\n//   const ang1 = vectorAngle(1, 0, vx1, vy1);\n//   let ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n//   if (sweepFlag === 0 && ang2 > 0) {\n//     ang2 -= TAU;\n//   }\n//   if (sweepFlag === 1 && ang2 < 0) {\n//     ang2 += TAU;\n//   }\n//   return [centerx, centery, ang1, ang2];\n// };\n// const arcToBezier = ({ px, py, cx, cy, rx, ry, xAxisRotation = 0, largeArcFlag = 0, sweepFlag = 0 }) => {\n//   const curves = [];\n//   if (rx === 0 || ry === 0) {\n//     return [{ x1: 0, y1: 0, x2: 0, y2: 0, x: cx, y: cy }];\n//   }\n//   const sinphi = Math.sin((xAxisRotation * TAU) / 360);\n//   const cosphi = Math.cos((xAxisRotation * TAU) / 360);\n//   const pxp = (cosphi * (px - cx)) / 2 + (sinphi * (py - cy)) / 2;\n//   const pyp = (-sinphi * (px - cx)) / 2 + (cosphi * (py - cy)) / 2;\n//   if (pxp === 0 && pyp === 0) {\n//     return [{ x1: 0, y1: 0, x2: 0, y2: 0, x: cx, y: cy }];\n//   }\n//   rx = Math.abs(rx);\n//   ry = Math.abs(ry);\n//   const lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n//   if (lambda > 1) {\n//     rx *= Math.sqrt(lambda);\n//     ry *= Math.sqrt(lambda);\n//   }\n//   let [centerx, centery, ang1, ang2] = getArcCenter(\n//     px,\n//     py,\n//     cx,\n//     cy,\n//     rx,\n//     ry,\n//     largeArcFlag,\n//     sweepFlag,\n//     sinphi,\n//     cosphi,\n//     pxp,\n//     pyp,\n//   );\n//   // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n//   // 1.0000000001. This causes `segments` to be greater than one, which is an\n//   // unecessary split, and adds extra points to the bezier curve. To alleviate\n//   // this issue, we round to 1.0 when the ratio is close to 1.0.\n//   let ratio = Math.abs(ang2) / (TAU / 4);\n//   if (Math.abs(1.0 - ratio) < 0.0000001) {\n//     ratio = 1.0;\n//   }\n//   const segments = Math.max(Math.ceil(ratio), 1);\n//   ang2 /= segments;\n//   for (let i = 0; i < segments; i++) {\n//     curves.push(approxUnitArc(ang1, ang2));\n//     ang1 += ang2;\n//   }\n//   return curves.map((curve) => {\n//     const { x: x1, y: y1 } = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery);\n//     const { x: x2, y: y2 } = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery);\n//     const { x, y } = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery);\n//     return { x1, y1, x2, y2, x, y };\n//   });\n// };\n// export function arcToCubic(\n//   x1: number,\n//   y1: number,\n//   rx: number,\n//   ry: number,\n//   angle: number,\n//   LAF: number,\n//   SF: number,\n//   x2: number,\n//   y2: number,\n// ) {\n//   const curves = arcToBezier({\n//     px: x1,\n//     py: y1,\n//     cx: x2,\n//     cy: y2,\n//     rx,\n//     ry,\n//     xAxisRotation: angle,\n//     largeArcFlag: LAF,\n//     sweepFlag: SF,\n//   });\n//   return curves.reduce((prev, cur) => {\n//     const { x1, y1, x2, y2, x, y } = cur;\n//     prev.push(x1, y1, x2, y2, x, y);\n//     return prev;\n//   }, [] as number[]);\n// }\n//# sourceMappingURL=arc-2-cubic.js.map","// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","import isType from './is-type';\nexport default (function (str) {\n    return isType(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","/**\n * \n * @return {Boolean} \n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","/**\n * \n * @return {Boolean} \n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { isNil, isNumber, clamp } from '@antv/util';\nimport { __read, __extends, __values, __assign, __awaiter, __generator, __spreadArray, __rest } from 'tslib';\nimport EventEmitter from 'eventemitter3';\n\n/**\n * ported from @luma.gl/constants\n *\n * Standard WebGL and WebGL2 constants\n * These constants are also defined on the WebGLRenderingContext interface.\n */\nvar GL;\n(function (GL) {\n    // Clearing buffers\n    // Constants passed to clear() to clear buffer masks.\n    GL[GL[\"DEPTH_BUFFER_BIT\"] = 256] = \"DEPTH_BUFFER_BIT\";\n    GL[GL[\"STENCIL_BUFFER_BIT\"] = 1024] = \"STENCIL_BUFFER_BIT\";\n    GL[GL[\"COLOR_BUFFER_BIT\"] = 16384] = \"COLOR_BUFFER_BIT\";\n    // Rendering primitives\n    // Constants passed to drawElements() or drawArrays() to specify what kind of primitive to render.\n    GL[GL[\"POINTS\"] = 0] = \"POINTS\";\n    GL[GL[\"LINES\"] = 1] = \"LINES\";\n    GL[GL[\"LINE_LOOP\"] = 2] = \"LINE_LOOP\";\n    GL[GL[\"LINE_STRIP\"] = 3] = \"LINE_STRIP\";\n    GL[GL[\"TRIANGLES\"] = 4] = \"TRIANGLES\";\n    GL[GL[\"TRIANGLE_STRIP\"] = 5] = \"TRIANGLE_STRIP\";\n    GL[GL[\"TRIANGLE_FAN\"] = 6] = \"TRIANGLE_FAN\";\n    // Blending modes\n    // Constants passed to blendFunc() or blendFuncSeparate() to specify the blending mode (for both, RBG and alpha, or separately).\n    GL[GL[\"ZERO\"] = 0] = \"ZERO\";\n    GL[GL[\"ONE\"] = 1] = \"ONE\";\n    GL[GL[\"SRC_COLOR\"] = 768] = \"SRC_COLOR\";\n    GL[GL[\"ONE_MINUS_SRC_COLOR\"] = 769] = \"ONE_MINUS_SRC_COLOR\";\n    GL[GL[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n    GL[GL[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n    GL[GL[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n    GL[GL[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n    GL[GL[\"DST_COLOR\"] = 774] = \"DST_COLOR\";\n    GL[GL[\"ONE_MINUS_DST_COLOR\"] = 775] = \"ONE_MINUS_DST_COLOR\";\n    GL[GL[\"SRC_ALPHA_SATURATE\"] = 776] = \"SRC_ALPHA_SATURATE\";\n    GL[GL[\"CONSTANT_COLOR\"] = 32769] = \"CONSTANT_COLOR\";\n    GL[GL[\"ONE_MINUS_CONSTANT_COLOR\"] = 32770] = \"ONE_MINUS_CONSTANT_COLOR\";\n    GL[GL[\"CONSTANT_ALPHA\"] = 32771] = \"CONSTANT_ALPHA\";\n    GL[GL[\"ONE_MINUS_CONSTANT_ALPHA\"] = 32772] = \"ONE_MINUS_CONSTANT_ALPHA\";\n    // Blending equations\n    // Constants passed to blendEquation() or blendEquationSeparate() to control\n    // how the blending is calculated (for both, RBG and alpha, or separately).\n    GL[GL[\"FUNC_ADD\"] = 32774] = \"FUNC_ADD\";\n    GL[GL[\"FUNC_SUBTRACT\"] = 32778] = \"FUNC_SUBTRACT\";\n    GL[GL[\"FUNC_REVERSE_SUBTRACT\"] = 32779] = \"FUNC_REVERSE_SUBTRACT\";\n    // Getting GL parameter information\n    // Constants passed to getParameter() to specify what information to return.\n    GL[GL[\"BLEND_EQUATION\"] = 32777] = \"BLEND_EQUATION\";\n    GL[GL[\"BLEND_EQUATION_RGB\"] = 32777] = \"BLEND_EQUATION_RGB\";\n    GL[GL[\"BLEND_EQUATION_ALPHA\"] = 34877] = \"BLEND_EQUATION_ALPHA\";\n    GL[GL[\"BLEND_DST_RGB\"] = 32968] = \"BLEND_DST_RGB\";\n    GL[GL[\"BLEND_SRC_RGB\"] = 32969] = \"BLEND_SRC_RGB\";\n    GL[GL[\"BLEND_DST_ALPHA\"] = 32970] = \"BLEND_DST_ALPHA\";\n    GL[GL[\"BLEND_SRC_ALPHA\"] = 32971] = \"BLEND_SRC_ALPHA\";\n    GL[GL[\"BLEND_COLOR\"] = 32773] = \"BLEND_COLOR\";\n    GL[GL[\"ARRAY_BUFFER_BINDING\"] = 34964] = \"ARRAY_BUFFER_BINDING\";\n    GL[GL[\"ELEMENT_ARRAY_BUFFER_BINDING\"] = 34965] = \"ELEMENT_ARRAY_BUFFER_BINDING\";\n    GL[GL[\"LINE_WIDTH\"] = 2849] = \"LINE_WIDTH\";\n    GL[GL[\"ALIASED_POINT_SIZE_RANGE\"] = 33901] = \"ALIASED_POINT_SIZE_RANGE\";\n    GL[GL[\"ALIASED_LINE_WIDTH_RANGE\"] = 33902] = \"ALIASED_LINE_WIDTH_RANGE\";\n    GL[GL[\"CULL_FACE_MODE\"] = 2885] = \"CULL_FACE_MODE\";\n    GL[GL[\"FRONT_FACE\"] = 2886] = \"FRONT_FACE\";\n    GL[GL[\"DEPTH_RANGE\"] = 2928] = \"DEPTH_RANGE\";\n    GL[GL[\"DEPTH_WRITEMASK\"] = 2930] = \"DEPTH_WRITEMASK\";\n    GL[GL[\"DEPTH_CLEAR_VALUE\"] = 2931] = \"DEPTH_CLEAR_VALUE\";\n    GL[GL[\"DEPTH_FUNC\"] = 2932] = \"DEPTH_FUNC\";\n    GL[GL[\"STENCIL_CLEAR_VALUE\"] = 2961] = \"STENCIL_CLEAR_VALUE\";\n    GL[GL[\"STENCIL_FUNC\"] = 2962] = \"STENCIL_FUNC\";\n    GL[GL[\"STENCIL_FAIL\"] = 2964] = \"STENCIL_FAIL\";\n    GL[GL[\"STENCIL_PASS_DEPTH_FAIL\"] = 2965] = \"STENCIL_PASS_DEPTH_FAIL\";\n    GL[GL[\"STENCIL_PASS_DEPTH_PASS\"] = 2966] = \"STENCIL_PASS_DEPTH_PASS\";\n    GL[GL[\"STENCIL_REF\"] = 2967] = \"STENCIL_REF\";\n    GL[GL[\"STENCIL_VALUE_MASK\"] = 2963] = \"STENCIL_VALUE_MASK\";\n    GL[GL[\"STENCIL_WRITEMASK\"] = 2968] = \"STENCIL_WRITEMASK\";\n    GL[GL[\"STENCIL_BACK_FUNC\"] = 34816] = \"STENCIL_BACK_FUNC\";\n    GL[GL[\"STENCIL_BACK_FAIL\"] = 34817] = \"STENCIL_BACK_FAIL\";\n    GL[GL[\"STENCIL_BACK_PASS_DEPTH_FAIL\"] = 34818] = \"STENCIL_BACK_PASS_DEPTH_FAIL\";\n    GL[GL[\"STENCIL_BACK_PASS_DEPTH_PASS\"] = 34819] = \"STENCIL_BACK_PASS_DEPTH_PASS\";\n    GL[GL[\"STENCIL_BACK_REF\"] = 36003] = \"STENCIL_BACK_REF\";\n    GL[GL[\"STENCIL_BACK_VALUE_MASK\"] = 36004] = \"STENCIL_BACK_VALUE_MASK\";\n    GL[GL[\"STENCIL_BACK_WRITEMASK\"] = 36005] = \"STENCIL_BACK_WRITEMASK\";\n    GL[GL[\"VIEWPORT\"] = 2978] = \"VIEWPORT\";\n    GL[GL[\"SCISSOR_BOX\"] = 3088] = \"SCISSOR_BOX\";\n    GL[GL[\"COLOR_CLEAR_VALUE\"] = 3106] = \"COLOR_CLEAR_VALUE\";\n    GL[GL[\"COLOR_WRITEMASK\"] = 3107] = \"COLOR_WRITEMASK\";\n    GL[GL[\"UNPACK_ALIGNMENT\"] = 3317] = \"UNPACK_ALIGNMENT\";\n    GL[GL[\"PACK_ALIGNMENT\"] = 3333] = \"PACK_ALIGNMENT\";\n    GL[GL[\"MAX_TEXTURE_SIZE\"] = 3379] = \"MAX_TEXTURE_SIZE\";\n    GL[GL[\"MAX_VIEWPORT_DIMS\"] = 3386] = \"MAX_VIEWPORT_DIMS\";\n    GL[GL[\"SUBPIXEL_BITS\"] = 3408] = \"SUBPIXEL_BITS\";\n    GL[GL[\"RED_BITS\"] = 3410] = \"RED_BITS\";\n    GL[GL[\"GREEN_BITS\"] = 3411] = \"GREEN_BITS\";\n    GL[GL[\"BLUE_BITS\"] = 3412] = \"BLUE_BITS\";\n    GL[GL[\"ALPHA_BITS\"] = 3413] = \"ALPHA_BITS\";\n    GL[GL[\"DEPTH_BITS\"] = 3414] = \"DEPTH_BITS\";\n    GL[GL[\"STENCIL_BITS\"] = 3415] = \"STENCIL_BITS\";\n    GL[GL[\"POLYGON_OFFSET_UNITS\"] = 10752] = \"POLYGON_OFFSET_UNITS\";\n    GL[GL[\"POLYGON_OFFSET_FACTOR\"] = 32824] = \"POLYGON_OFFSET_FACTOR\";\n    GL[GL[\"TEXTURE_BINDING_2D\"] = 32873] = \"TEXTURE_BINDING_2D\";\n    GL[GL[\"SAMPLE_BUFFERS\"] = 32936] = \"SAMPLE_BUFFERS\";\n    GL[GL[\"SAMPLES\"] = 32937] = \"SAMPLES\";\n    GL[GL[\"SAMPLE_COVERAGE_VALUE\"] = 32938] = \"SAMPLE_COVERAGE_VALUE\";\n    GL[GL[\"SAMPLE_COVERAGE_INVERT\"] = 32939] = \"SAMPLE_COVERAGE_INVERT\";\n    GL[GL[\"COMPRESSED_TEXTURE_FORMATS\"] = 34467] = \"COMPRESSED_TEXTURE_FORMATS\";\n    GL[GL[\"VENDOR\"] = 7936] = \"VENDOR\";\n    GL[GL[\"RENDERER\"] = 7937] = \"RENDERER\";\n    GL[GL[\"VERSION\"] = 7938] = \"VERSION\";\n    GL[GL[\"IMPLEMENTATION_COLOR_READ_TYPE\"] = 35738] = \"IMPLEMENTATION_COLOR_READ_TYPE\";\n    GL[GL[\"IMPLEMENTATION_COLOR_READ_FORMAT\"] = 35739] = \"IMPLEMENTATION_COLOR_READ_FORMAT\";\n    GL[GL[\"BROWSER_DEFAULT_WEBGL\"] = 37444] = \"BROWSER_DEFAULT_WEBGL\";\n    // Buffers\n    // Constants passed to bufferData(), bufferSubData(), bindBuffer(), or\n    // getBufferParameter().\n    GL[GL[\"STATIC_DRAW\"] = 35044] = \"STATIC_DRAW\";\n    GL[GL[\"STREAM_DRAW\"] = 35040] = \"STREAM_DRAW\";\n    GL[GL[\"DYNAMIC_DRAW\"] = 35048] = \"DYNAMIC_DRAW\";\n    GL[GL[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n    GL[GL[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n    GL[GL[\"BUFFER_SIZE\"] = 34660] = \"BUFFER_SIZE\";\n    GL[GL[\"BUFFER_USAGE\"] = 34661] = \"BUFFER_USAGE\";\n    // Vertex attributes\n    // Constants passed to getVertexAttrib().\n    GL[GL[\"CURRENT_VERTEX_ATTRIB\"] = 34342] = \"CURRENT_VERTEX_ATTRIB\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_ENABLED\"] = 34338] = \"VERTEX_ATTRIB_ARRAY_ENABLED\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_SIZE\"] = 34339] = \"VERTEX_ATTRIB_ARRAY_SIZE\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_STRIDE\"] = 34340] = \"VERTEX_ATTRIB_ARRAY_STRIDE\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_TYPE\"] = 34341] = \"VERTEX_ATTRIB_ARRAY_TYPE\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_NORMALIZED\"] = 34922] = \"VERTEX_ATTRIB_ARRAY_NORMALIZED\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_POINTER\"] = 34373] = \"VERTEX_ATTRIB_ARRAY_POINTER\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\"] = 34975] = \"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\";\n    // Culling\n    // Constants passed to cullFace().\n    GL[GL[\"CULL_FACE\"] = 2884] = \"CULL_FACE\";\n    GL[GL[\"FRONT\"] = 1028] = \"FRONT\";\n    GL[GL[\"BACK\"] = 1029] = \"BACK\";\n    GL[GL[\"FRONT_AND_BACK\"] = 1032] = \"FRONT_AND_BACK\";\n    // Enabling and disabling\n    // Constants passed to enable() or disable().\n    GL[GL[\"BLEND\"] = 3042] = \"BLEND\";\n    GL[GL[\"DEPTH_TEST\"] = 2929] = \"DEPTH_TEST\";\n    GL[GL[\"DITHER\"] = 3024] = \"DITHER\";\n    GL[GL[\"POLYGON_OFFSET_FILL\"] = 32823] = \"POLYGON_OFFSET_FILL\";\n    GL[GL[\"SAMPLE_ALPHA_TO_COVERAGE\"] = 32926] = \"SAMPLE_ALPHA_TO_COVERAGE\";\n    GL[GL[\"SAMPLE_COVERAGE\"] = 32928] = \"SAMPLE_COVERAGE\";\n    GL[GL[\"SCISSOR_TEST\"] = 3089] = \"SCISSOR_TEST\";\n    GL[GL[\"STENCIL_TEST\"] = 2960] = \"STENCIL_TEST\";\n    // Errors\n    // Constants returned from getError().\n    GL[GL[\"NO_ERROR\"] = 0] = \"NO_ERROR\";\n    GL[GL[\"INVALID_ENUM\"] = 1280] = \"INVALID_ENUM\";\n    GL[GL[\"INVALID_VALUE\"] = 1281] = \"INVALID_VALUE\";\n    GL[GL[\"INVALID_OPERATION\"] = 1282] = \"INVALID_OPERATION\";\n    GL[GL[\"OUT_OF_MEMORY\"] = 1285] = \"OUT_OF_MEMORY\";\n    GL[GL[\"CONTEXT_LOST_WEBGL\"] = 37442] = \"CONTEXT_LOST_WEBGL\";\n    // Front face directions\n    // Constants passed to frontFace().\n    GL[GL[\"CW\"] = 2304] = \"CW\";\n    GL[GL[\"CCW\"] = 2305] = \"CCW\";\n    // Hints\n    // Constants passed to hint()\n    GL[GL[\"DONT_CARE\"] = 4352] = \"DONT_CARE\";\n    GL[GL[\"FASTEST\"] = 4353] = \"FASTEST\";\n    GL[GL[\"NICEST\"] = 4354] = \"NICEST\";\n    GL[GL[\"GENERATE_MIPMAP_HINT\"] = 33170] = \"GENERATE_MIPMAP_HINT\";\n    // Data types\n    GL[GL[\"BYTE\"] = 5120] = \"BYTE\";\n    GL[GL[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n    GL[GL[\"SHORT\"] = 5122] = \"SHORT\";\n    GL[GL[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n    GL[GL[\"INT\"] = 5124] = \"INT\";\n    GL[GL[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n    GL[GL[\"FLOAT\"] = 5126] = \"FLOAT\";\n    GL[GL[\"DOUBLE\"] = 5130] = \"DOUBLE\";\n    // Pixel formats\n    GL[GL[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n    GL[GL[\"ALPHA\"] = 6406] = \"ALPHA\";\n    GL[GL[\"RGB\"] = 6407] = \"RGB\";\n    GL[GL[\"RGBA\"] = 6408] = \"RGBA\";\n    GL[GL[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n    GL[GL[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n    // Pixel types\n    // UNSIGNED_BYTE = 0x1401,\n    GL[GL[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n    GL[GL[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n    GL[GL[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n    // Shaders\n    // Constants passed to createShader() or getShaderParameter()\n    GL[GL[\"FRAGMENT_SHADER\"] = 35632] = \"FRAGMENT_SHADER\";\n    GL[GL[\"VERTEX_SHADER\"] = 35633] = \"VERTEX_SHADER\";\n    GL[GL[\"COMPILE_STATUS\"] = 35713] = \"COMPILE_STATUS\";\n    GL[GL[\"DELETE_STATUS\"] = 35712] = \"DELETE_STATUS\";\n    GL[GL[\"LINK_STATUS\"] = 35714] = \"LINK_STATUS\";\n    GL[GL[\"VALIDATE_STATUS\"] = 35715] = \"VALIDATE_STATUS\";\n    GL[GL[\"ATTACHED_SHADERS\"] = 35717] = \"ATTACHED_SHADERS\";\n    GL[GL[\"ACTIVE_ATTRIBUTES\"] = 35721] = \"ACTIVE_ATTRIBUTES\";\n    GL[GL[\"ACTIVE_UNIFORMS\"] = 35718] = \"ACTIVE_UNIFORMS\";\n    GL[GL[\"MAX_VERTEX_ATTRIBS\"] = 34921] = \"MAX_VERTEX_ATTRIBS\";\n    GL[GL[\"MAX_VERTEX_UNIFORM_VECTORS\"] = 36347] = \"MAX_VERTEX_UNIFORM_VECTORS\";\n    GL[GL[\"MAX_VARYING_VECTORS\"] = 36348] = \"MAX_VARYING_VECTORS\";\n    GL[GL[\"MAX_COMBINED_TEXTURE_IMAGE_UNITS\"] = 35661] = \"MAX_COMBINED_TEXTURE_IMAGE_UNITS\";\n    GL[GL[\"MAX_VERTEX_TEXTURE_IMAGE_UNITS\"] = 35660] = \"MAX_VERTEX_TEXTURE_IMAGE_UNITS\";\n    GL[GL[\"MAX_TEXTURE_IMAGE_UNITS\"] = 34930] = \"MAX_TEXTURE_IMAGE_UNITS\";\n    GL[GL[\"MAX_FRAGMENT_UNIFORM_VECTORS\"] = 36349] = \"MAX_FRAGMENT_UNIFORM_VECTORS\";\n    GL[GL[\"SHADER_TYPE\"] = 35663] = \"SHADER_TYPE\";\n    GL[GL[\"SHADING_LANGUAGE_VERSION\"] = 35724] = \"SHADING_LANGUAGE_VERSION\";\n    GL[GL[\"CURRENT_PROGRAM\"] = 35725] = \"CURRENT_PROGRAM\";\n    // Depth or stencil tests\n    // Constants passed to depthFunc() or stencilFunc().\n    GL[GL[\"NEVER\"] = 512] = \"NEVER\";\n    GL[GL[\"ALWAYS\"] = 519] = \"ALWAYS\";\n    GL[GL[\"LESS\"] = 513] = \"LESS\";\n    GL[GL[\"EQUAL\"] = 514] = \"EQUAL\";\n    GL[GL[\"LEQUAL\"] = 515] = \"LEQUAL\";\n    GL[GL[\"GREATER\"] = 516] = \"GREATER\";\n    GL[GL[\"GEQUAL\"] = 518] = \"GEQUAL\";\n    GL[GL[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n    // Stencil actions\n    // Constants passed to stencilOp().\n    GL[GL[\"KEEP\"] = 7680] = \"KEEP\";\n    GL[GL[\"REPLACE\"] = 7681] = \"REPLACE\";\n    GL[GL[\"INCR\"] = 7682] = \"INCR\";\n    GL[GL[\"DECR\"] = 7683] = \"DECR\";\n    GL[GL[\"INVERT\"] = 5386] = \"INVERT\";\n    GL[GL[\"INCR_WRAP\"] = 34055] = \"INCR_WRAP\";\n    GL[GL[\"DECR_WRAP\"] = 34056] = \"DECR_WRAP\";\n    // Textures\n    // Constants passed to texParameteri(),\n    // texParameterf(), bindTexture(), texImage2D(), and others.\n    GL[GL[\"NEAREST\"] = 9728] = \"NEAREST\";\n    GL[GL[\"LINEAR\"] = 9729] = \"LINEAR\";\n    GL[GL[\"NEAREST_MIPMAP_NEAREST\"] = 9984] = \"NEAREST_MIPMAP_NEAREST\";\n    GL[GL[\"LINEAR_MIPMAP_NEAREST\"] = 9985] = \"LINEAR_MIPMAP_NEAREST\";\n    GL[GL[\"NEAREST_MIPMAP_LINEAR\"] = 9986] = \"NEAREST_MIPMAP_LINEAR\";\n    GL[GL[\"LINEAR_MIPMAP_LINEAR\"] = 9987] = \"LINEAR_MIPMAP_LINEAR\";\n    GL[GL[\"TEXTURE_MAG_FILTER\"] = 10240] = \"TEXTURE_MAG_FILTER\";\n    GL[GL[\"TEXTURE_MIN_FILTER\"] = 10241] = \"TEXTURE_MIN_FILTER\";\n    GL[GL[\"TEXTURE_WRAP_S\"] = 10242] = \"TEXTURE_WRAP_S\";\n    GL[GL[\"TEXTURE_WRAP_T\"] = 10243] = \"TEXTURE_WRAP_T\";\n    GL[GL[\"TEXTURE_2D\"] = 3553] = \"TEXTURE_2D\";\n    GL[GL[\"TEXTURE\"] = 5890] = \"TEXTURE\";\n    GL[GL[\"TEXTURE_CUBE_MAP\"] = 34067] = \"TEXTURE_CUBE_MAP\";\n    GL[GL[\"TEXTURE_BINDING_CUBE_MAP\"] = 34068] = \"TEXTURE_BINDING_CUBE_MAP\";\n    GL[GL[\"TEXTURE_CUBE_MAP_POSITIVE_X\"] = 34069] = \"TEXTURE_CUBE_MAP_POSITIVE_X\";\n    GL[GL[\"TEXTURE_CUBE_MAP_NEGATIVE_X\"] = 34070] = \"TEXTURE_CUBE_MAP_NEGATIVE_X\";\n    GL[GL[\"TEXTURE_CUBE_MAP_POSITIVE_Y\"] = 34071] = \"TEXTURE_CUBE_MAP_POSITIVE_Y\";\n    GL[GL[\"TEXTURE_CUBE_MAP_NEGATIVE_Y\"] = 34072] = \"TEXTURE_CUBE_MAP_NEGATIVE_Y\";\n    GL[GL[\"TEXTURE_CUBE_MAP_POSITIVE_Z\"] = 34073] = \"TEXTURE_CUBE_MAP_POSITIVE_Z\";\n    GL[GL[\"TEXTURE_CUBE_MAP_NEGATIVE_Z\"] = 34074] = \"TEXTURE_CUBE_MAP_NEGATIVE_Z\";\n    GL[GL[\"MAX_CUBE_MAP_TEXTURE_SIZE\"] = 34076] = \"MAX_CUBE_MAP_TEXTURE_SIZE\";\n    // TEXTURE0 - 31 0x84C0 - 0x84DF A texture unit.\n    GL[GL[\"TEXTURE0\"] = 33984] = \"TEXTURE0\";\n    GL[GL[\"ACTIVE_TEXTURE\"] = 34016] = \"ACTIVE_TEXTURE\";\n    GL[GL[\"REPEAT\"] = 10497] = \"REPEAT\";\n    GL[GL[\"CLAMP_TO_EDGE\"] = 33071] = \"CLAMP_TO_EDGE\";\n    GL[GL[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n    // Emulation\n    GL[GL[\"TEXTURE_WIDTH\"] = 4096] = \"TEXTURE_WIDTH\";\n    GL[GL[\"TEXTURE_HEIGHT\"] = 4097] = \"TEXTURE_HEIGHT\";\n    // Uniform types\n    GL[GL[\"FLOAT_VEC2\"] = 35664] = \"FLOAT_VEC2\";\n    GL[GL[\"FLOAT_VEC3\"] = 35665] = \"FLOAT_VEC3\";\n    GL[GL[\"FLOAT_VEC4\"] = 35666] = \"FLOAT_VEC4\";\n    GL[GL[\"INT_VEC2\"] = 35667] = \"INT_VEC2\";\n    GL[GL[\"INT_VEC3\"] = 35668] = \"INT_VEC3\";\n    GL[GL[\"INT_VEC4\"] = 35669] = \"INT_VEC4\";\n    GL[GL[\"BOOL\"] = 35670] = \"BOOL\";\n    GL[GL[\"BOOL_VEC2\"] = 35671] = \"BOOL_VEC2\";\n    GL[GL[\"BOOL_VEC3\"] = 35672] = \"BOOL_VEC3\";\n    GL[GL[\"BOOL_VEC4\"] = 35673] = \"BOOL_VEC4\";\n    GL[GL[\"FLOAT_MAT2\"] = 35674] = \"FLOAT_MAT2\";\n    GL[GL[\"FLOAT_MAT3\"] = 35675] = \"FLOAT_MAT3\";\n    GL[GL[\"FLOAT_MAT4\"] = 35676] = \"FLOAT_MAT4\";\n    GL[GL[\"SAMPLER_2D\"] = 35678] = \"SAMPLER_2D\";\n    GL[GL[\"SAMPLER_CUBE\"] = 35680] = \"SAMPLER_CUBE\";\n    // Shader precision-specified types\n    GL[GL[\"LOW_FLOAT\"] = 36336] = \"LOW_FLOAT\";\n    GL[GL[\"MEDIUM_FLOAT\"] = 36337] = \"MEDIUM_FLOAT\";\n    GL[GL[\"HIGH_FLOAT\"] = 36338] = \"HIGH_FLOAT\";\n    GL[GL[\"LOW_INT\"] = 36339] = \"LOW_INT\";\n    GL[GL[\"MEDIUM_INT\"] = 36340] = \"MEDIUM_INT\";\n    GL[GL[\"HIGH_INT\"] = 36341] = \"HIGH_INT\";\n    // Framebuffers and renderbuffers\n    GL[GL[\"FRAMEBUFFER\"] = 36160] = \"FRAMEBUFFER\";\n    GL[GL[\"RENDERBUFFER\"] = 36161] = \"RENDERBUFFER\";\n    GL[GL[\"RGBA4\"] = 32854] = \"RGBA4\";\n    GL[GL[\"RGB5_A1\"] = 32855] = \"RGB5_A1\";\n    GL[GL[\"RGB565\"] = 36194] = \"RGB565\";\n    GL[GL[\"DEPTH_COMPONENT16\"] = 33189] = \"DEPTH_COMPONENT16\";\n    GL[GL[\"STENCIL_INDEX\"] = 6401] = \"STENCIL_INDEX\";\n    GL[GL[\"STENCIL_INDEX8\"] = 36168] = \"STENCIL_INDEX8\";\n    GL[GL[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n    GL[GL[\"RENDERBUFFER_WIDTH\"] = 36162] = \"RENDERBUFFER_WIDTH\";\n    GL[GL[\"RENDERBUFFER_HEIGHT\"] = 36163] = \"RENDERBUFFER_HEIGHT\";\n    GL[GL[\"RENDERBUFFER_INTERNAL_FORMAT\"] = 36164] = \"RENDERBUFFER_INTERNAL_FORMAT\";\n    GL[GL[\"RENDERBUFFER_RED_SIZE\"] = 36176] = \"RENDERBUFFER_RED_SIZE\";\n    GL[GL[\"RENDERBUFFER_GREEN_SIZE\"] = 36177] = \"RENDERBUFFER_GREEN_SIZE\";\n    GL[GL[\"RENDERBUFFER_BLUE_SIZE\"] = 36178] = \"RENDERBUFFER_BLUE_SIZE\";\n    GL[GL[\"RENDERBUFFER_ALPHA_SIZE\"] = 36179] = \"RENDERBUFFER_ALPHA_SIZE\";\n    GL[GL[\"RENDERBUFFER_DEPTH_SIZE\"] = 36180] = \"RENDERBUFFER_DEPTH_SIZE\";\n    GL[GL[\"RENDERBUFFER_STENCIL_SIZE\"] = 36181] = \"RENDERBUFFER_STENCIL_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\"] = 36048] = \"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\"] = 36049] = \"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\"] = 36050] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\"] = 36051] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\";\n    GL[GL[\"COLOR_ATTACHMENT0\"] = 36064] = \"COLOR_ATTACHMENT0\";\n    GL[GL[\"DEPTH_ATTACHMENT\"] = 36096] = \"DEPTH_ATTACHMENT\";\n    GL[GL[\"STENCIL_ATTACHMENT\"] = 36128] = \"STENCIL_ATTACHMENT\";\n    GL[GL[\"DEPTH_STENCIL_ATTACHMENT\"] = 33306] = \"DEPTH_STENCIL_ATTACHMENT\";\n    GL[GL[\"NONE\"] = 0] = \"NONE\";\n    GL[GL[\"FRAMEBUFFER_COMPLETE\"] = 36053] = \"FRAMEBUFFER_COMPLETE\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\"] = 36054] = \"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\"] = 36055] = \"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\"] = 36057] = \"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\";\n    GL[GL[\"FRAMEBUFFER_UNSUPPORTED\"] = 36061] = \"FRAMEBUFFER_UNSUPPORTED\";\n    GL[GL[\"FRAMEBUFFER_BINDING\"] = 36006] = \"FRAMEBUFFER_BINDING\";\n    GL[GL[\"RENDERBUFFER_BINDING\"] = 36007] = \"RENDERBUFFER_BINDING\";\n    GL[GL[\"READ_FRAMEBUFFER\"] = 36008] = \"READ_FRAMEBUFFER\";\n    GL[GL[\"DRAW_FRAMEBUFFER\"] = 36009] = \"DRAW_FRAMEBUFFER\";\n    GL[GL[\"MAX_RENDERBUFFER_SIZE\"] = 34024] = \"MAX_RENDERBUFFER_SIZE\";\n    GL[GL[\"INVALID_FRAMEBUFFER_OPERATION\"] = 1286] = \"INVALID_FRAMEBUFFER_OPERATION\";\n    // Pixel storage modes\n    // Constants passed to pixelStorei().\n    GL[GL[\"UNPACK_FLIP_Y_WEBGL\"] = 37440] = \"UNPACK_FLIP_Y_WEBGL\";\n    GL[GL[\"UNPACK_PREMULTIPLY_ALPHA_WEBGL\"] = 37441] = \"UNPACK_PREMULTIPLY_ALPHA_WEBGL\";\n    GL[GL[\"UNPACK_COLORSPACE_CONVERSION_WEBGL\"] = 37443] = \"UNPACK_COLORSPACE_CONVERSION_WEBGL\";\n    // /////////////////////////////////////////////////////\n    // Additional constants defined WebGL 2\n    // These constants are defined on the WebGL2RenderingContext interface.\n    // All WebGL 1 constants are also available in a WebGL 2 context.\n    // /////////////////////////////////////////////////////\n    // Getting GL parameter information\n    // Constants passed to getParameter()\n    // to specify what information to return.\n    GL[GL[\"READ_BUFFER\"] = 3074] = \"READ_BUFFER\";\n    GL[GL[\"UNPACK_ROW_LENGTH\"] = 3314] = \"UNPACK_ROW_LENGTH\";\n    GL[GL[\"UNPACK_SKIP_ROWS\"] = 3315] = \"UNPACK_SKIP_ROWS\";\n    GL[GL[\"UNPACK_SKIP_PIXELS\"] = 3316] = \"UNPACK_SKIP_PIXELS\";\n    GL[GL[\"PACK_ROW_LENGTH\"] = 3330] = \"PACK_ROW_LENGTH\";\n    GL[GL[\"PACK_SKIP_ROWS\"] = 3331] = \"PACK_SKIP_ROWS\";\n    GL[GL[\"PACK_SKIP_PIXELS\"] = 3332] = \"PACK_SKIP_PIXELS\";\n    GL[GL[\"TEXTURE_BINDING_3D\"] = 32874] = \"TEXTURE_BINDING_3D\";\n    GL[GL[\"UNPACK_SKIP_IMAGES\"] = 32877] = \"UNPACK_SKIP_IMAGES\";\n    GL[GL[\"UNPACK_IMAGE_HEIGHT\"] = 32878] = \"UNPACK_IMAGE_HEIGHT\";\n    GL[GL[\"MAX_3D_TEXTURE_SIZE\"] = 32883] = \"MAX_3D_TEXTURE_SIZE\";\n    GL[GL[\"MAX_ELEMENTS_VERTICES\"] = 33000] = \"MAX_ELEMENTS_VERTICES\";\n    GL[GL[\"MAX_ELEMENTS_INDICES\"] = 33001] = \"MAX_ELEMENTS_INDICES\";\n    GL[GL[\"MAX_TEXTURE_LOD_BIAS\"] = 34045] = \"MAX_TEXTURE_LOD_BIAS\";\n    GL[GL[\"MAX_FRAGMENT_UNIFORM_COMPONENTS\"] = 35657] = \"MAX_FRAGMENT_UNIFORM_COMPONENTS\";\n    GL[GL[\"MAX_VERTEX_UNIFORM_COMPONENTS\"] = 35658] = \"MAX_VERTEX_UNIFORM_COMPONENTS\";\n    GL[GL[\"MAX_ARRAY_TEXTURE_LAYERS\"] = 35071] = \"MAX_ARRAY_TEXTURE_LAYERS\";\n    GL[GL[\"MIN_PROGRAM_TEXEL_OFFSET\"] = 35076] = \"MIN_PROGRAM_TEXEL_OFFSET\";\n    GL[GL[\"MAX_PROGRAM_TEXEL_OFFSET\"] = 35077] = \"MAX_PROGRAM_TEXEL_OFFSET\";\n    GL[GL[\"MAX_VARYING_COMPONENTS\"] = 35659] = \"MAX_VARYING_COMPONENTS\";\n    GL[GL[\"FRAGMENT_SHADER_DERIVATIVE_HINT\"] = 35723] = \"FRAGMENT_SHADER_DERIVATIVE_HINT\";\n    GL[GL[\"RASTERIZER_DISCARD\"] = 35977] = \"RASTERIZER_DISCARD\";\n    GL[GL[\"VERTEX_ARRAY_BINDING\"] = 34229] = \"VERTEX_ARRAY_BINDING\";\n    GL[GL[\"MAX_VERTEX_OUTPUT_COMPONENTS\"] = 37154] = \"MAX_VERTEX_OUTPUT_COMPONENTS\";\n    GL[GL[\"MAX_FRAGMENT_INPUT_COMPONENTS\"] = 37157] = \"MAX_FRAGMENT_INPUT_COMPONENTS\";\n    GL[GL[\"MAX_SERVER_WAIT_TIMEOUT\"] = 37137] = \"MAX_SERVER_WAIT_TIMEOUT\";\n    GL[GL[\"MAX_ELEMENT_INDEX\"] = 36203] = \"MAX_ELEMENT_INDEX\";\n    // Textures\n    // Constants passed to texParameteri(),\n    // texParameterf(), bindTexture(), texImage2D(), and others.\n    GL[GL[\"RED\"] = 6403] = \"RED\";\n    GL[GL[\"RGB8\"] = 32849] = \"RGB8\";\n    GL[GL[\"RGBA8\"] = 32856] = \"RGBA8\";\n    GL[GL[\"RGB10_A2\"] = 32857] = \"RGB10_A2\";\n    GL[GL[\"TEXTURE_3D\"] = 32879] = \"TEXTURE_3D\";\n    GL[GL[\"TEXTURE_WRAP_R\"] = 32882] = \"TEXTURE_WRAP_R\";\n    GL[GL[\"TEXTURE_MIN_LOD\"] = 33082] = \"TEXTURE_MIN_LOD\";\n    GL[GL[\"TEXTURE_MAX_LOD\"] = 33083] = \"TEXTURE_MAX_LOD\";\n    GL[GL[\"TEXTURE_BASE_LEVEL\"] = 33084] = \"TEXTURE_BASE_LEVEL\";\n    GL[GL[\"TEXTURE_MAX_LEVEL\"] = 33085] = \"TEXTURE_MAX_LEVEL\";\n    GL[GL[\"TEXTURE_COMPARE_MODE\"] = 34892] = \"TEXTURE_COMPARE_MODE\";\n    GL[GL[\"TEXTURE_COMPARE_FUNC\"] = 34893] = \"TEXTURE_COMPARE_FUNC\";\n    GL[GL[\"SRGB\"] = 35904] = \"SRGB\";\n    GL[GL[\"SRGB8\"] = 35905] = \"SRGB8\";\n    GL[GL[\"SRGB8_ALPHA8\"] = 35907] = \"SRGB8_ALPHA8\";\n    GL[GL[\"COMPARE_REF_TO_TEXTURE\"] = 34894] = \"COMPARE_REF_TO_TEXTURE\";\n    GL[GL[\"RGBA32F\"] = 34836] = \"RGBA32F\";\n    GL[GL[\"RGB32F\"] = 34837] = \"RGB32F\";\n    GL[GL[\"RGBA16F\"] = 34842] = \"RGBA16F\";\n    GL[GL[\"RGB16F\"] = 34843] = \"RGB16F\";\n    GL[GL[\"TEXTURE_2D_ARRAY\"] = 35866] = \"TEXTURE_2D_ARRAY\";\n    GL[GL[\"TEXTURE_BINDING_2D_ARRAY\"] = 35869] = \"TEXTURE_BINDING_2D_ARRAY\";\n    GL[GL[\"R11F_G11F_B10F\"] = 35898] = \"R11F_G11F_B10F\";\n    GL[GL[\"RGB9_E5\"] = 35901] = \"RGB9_E5\";\n    GL[GL[\"RGBA32UI\"] = 36208] = \"RGBA32UI\";\n    GL[GL[\"RGB32UI\"] = 36209] = \"RGB32UI\";\n    GL[GL[\"RGBA16UI\"] = 36214] = \"RGBA16UI\";\n    GL[GL[\"RGB16UI\"] = 36215] = \"RGB16UI\";\n    GL[GL[\"RGBA8UI\"] = 36220] = \"RGBA8UI\";\n    GL[GL[\"RGB8UI\"] = 36221] = \"RGB8UI\";\n    GL[GL[\"RGBA32I\"] = 36226] = \"RGBA32I\";\n    GL[GL[\"RGB32I\"] = 36227] = \"RGB32I\";\n    GL[GL[\"RGBA16I\"] = 36232] = \"RGBA16I\";\n    GL[GL[\"RGB16I\"] = 36233] = \"RGB16I\";\n    GL[GL[\"RGBA8I\"] = 36238] = \"RGBA8I\";\n    GL[GL[\"RGB8I\"] = 36239] = \"RGB8I\";\n    GL[GL[\"RED_INTEGER\"] = 36244] = \"RED_INTEGER\";\n    GL[GL[\"RGB_INTEGER\"] = 36248] = \"RGB_INTEGER\";\n    GL[GL[\"RGBA_INTEGER\"] = 36249] = \"RGBA_INTEGER\";\n    GL[GL[\"R8\"] = 33321] = \"R8\";\n    GL[GL[\"RG8\"] = 33323] = \"RG8\";\n    GL[GL[\"R16F\"] = 33325] = \"R16F\";\n    GL[GL[\"R32F\"] = 33326] = \"R32F\";\n    GL[GL[\"RG16F\"] = 33327] = \"RG16F\";\n    GL[GL[\"RG32F\"] = 33328] = \"RG32F\";\n    GL[GL[\"R8I\"] = 33329] = \"R8I\";\n    GL[GL[\"R8UI\"] = 33330] = \"R8UI\";\n    GL[GL[\"R16I\"] = 33331] = \"R16I\";\n    GL[GL[\"R16UI\"] = 33332] = \"R16UI\";\n    GL[GL[\"R32I\"] = 33333] = \"R32I\";\n    GL[GL[\"R32UI\"] = 33334] = \"R32UI\";\n    GL[GL[\"RG8I\"] = 33335] = \"RG8I\";\n    GL[GL[\"RG8UI\"] = 33336] = \"RG8UI\";\n    GL[GL[\"RG16I\"] = 33337] = \"RG16I\";\n    GL[GL[\"RG16UI\"] = 33338] = \"RG16UI\";\n    GL[GL[\"RG32I\"] = 33339] = \"RG32I\";\n    GL[GL[\"RG32UI\"] = 33340] = \"RG32UI\";\n    GL[GL[\"R8_SNORM\"] = 36756] = \"R8_SNORM\";\n    GL[GL[\"RG8_SNORM\"] = 36757] = \"RG8_SNORM\";\n    GL[GL[\"RGB8_SNORM\"] = 36758] = \"RGB8_SNORM\";\n    GL[GL[\"RGBA8_SNORM\"] = 36759] = \"RGBA8_SNORM\";\n    GL[GL[\"RGB10_A2UI\"] = 36975] = \"RGB10_A2UI\";\n    /* covered by extension\n      COMPRESSED_R11_EAC  = 0x9270,\n      COMPRESSED_SIGNED_R11_EAC = 0x9271,\n      COMPRESSED_RG11_EAC = 0x9272,\n      COMPRESSED_SIGNED_RG11_EAC  = 0x9273,\n      COMPRESSED_RGB8_ETC2  = 0x9274,\n      COMPRESSED_SRGB8_ETC2 = 0x9275,\n      COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2  = 0x9276,\n      COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC  = 0x9277,\n      COMPRESSED_RGBA8_ETC2_EAC = 0x9278,\n      COMPRESSED_SRGB8_ALPHA8_ETC2_EAC  = 0x9279,\n      */\n    GL[GL[\"TEXTURE_IMMUTABLE_FORMAT\"] = 37167] = \"TEXTURE_IMMUTABLE_FORMAT\";\n    GL[GL[\"TEXTURE_IMMUTABLE_LEVELS\"] = 33503] = \"TEXTURE_IMMUTABLE_LEVELS\";\n    // Pixel types\n    GL[GL[\"UNSIGNED_INT_2_10_10_10_REV\"] = 33640] = \"UNSIGNED_INT_2_10_10_10_REV\";\n    GL[GL[\"UNSIGNED_INT_10F_11F_11F_REV\"] = 35899] = \"UNSIGNED_INT_10F_11F_11F_REV\";\n    GL[GL[\"UNSIGNED_INT_5_9_9_9_REV\"] = 35902] = \"UNSIGNED_INT_5_9_9_9_REV\";\n    GL[GL[\"FLOAT_32_UNSIGNED_INT_24_8_REV\"] = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\";\n    GL[GL[\"UNSIGNED_INT_24_8\"] = 34042] = \"UNSIGNED_INT_24_8\";\n    GL[GL[\"HALF_FLOAT\"] = 5131] = \"HALF_FLOAT\";\n    GL[GL[\"RG\"] = 33319] = \"RG\";\n    GL[GL[\"RG_INTEGER\"] = 33320] = \"RG_INTEGER\";\n    GL[GL[\"INT_2_10_10_10_REV\"] = 36255] = \"INT_2_10_10_10_REV\";\n    // Queries\n    GL[GL[\"CURRENT_QUERY\"] = 34917] = \"CURRENT_QUERY\";\n    GL[GL[\"QUERY_RESULT\"] = 34918] = \"QUERY_RESULT\";\n    GL[GL[\"QUERY_RESULT_AVAILABLE\"] = 34919] = \"QUERY_RESULT_AVAILABLE\";\n    GL[GL[\"ANY_SAMPLES_PASSED\"] = 35887] = \"ANY_SAMPLES_PASSED\";\n    GL[GL[\"ANY_SAMPLES_PASSED_CONSERVATIVE\"] = 36202] = \"ANY_SAMPLES_PASSED_CONSERVATIVE\";\n    // Draw buffers\n    GL[GL[\"MAX_DRAW_BUFFERS\"] = 34852] = \"MAX_DRAW_BUFFERS\";\n    GL[GL[\"DRAW_BUFFER0\"] = 34853] = \"DRAW_BUFFER0\";\n    GL[GL[\"DRAW_BUFFER1\"] = 34854] = \"DRAW_BUFFER1\";\n    GL[GL[\"DRAW_BUFFER2\"] = 34855] = \"DRAW_BUFFER2\";\n    GL[GL[\"DRAW_BUFFER3\"] = 34856] = \"DRAW_BUFFER3\";\n    GL[GL[\"DRAW_BUFFER4\"] = 34857] = \"DRAW_BUFFER4\";\n    GL[GL[\"DRAW_BUFFER5\"] = 34858] = \"DRAW_BUFFER5\";\n    GL[GL[\"DRAW_BUFFER6\"] = 34859] = \"DRAW_BUFFER6\";\n    GL[GL[\"DRAW_BUFFER7\"] = 34860] = \"DRAW_BUFFER7\";\n    GL[GL[\"DRAW_BUFFER8\"] = 34861] = \"DRAW_BUFFER8\";\n    GL[GL[\"DRAW_BUFFER9\"] = 34862] = \"DRAW_BUFFER9\";\n    GL[GL[\"DRAW_BUFFER10\"] = 34863] = \"DRAW_BUFFER10\";\n    GL[GL[\"DRAW_BUFFER11\"] = 34864] = \"DRAW_BUFFER11\";\n    GL[GL[\"DRAW_BUFFER12\"] = 34865] = \"DRAW_BUFFER12\";\n    GL[GL[\"DRAW_BUFFER13\"] = 34866] = \"DRAW_BUFFER13\";\n    GL[GL[\"DRAW_BUFFER14\"] = 34867] = \"DRAW_BUFFER14\";\n    GL[GL[\"DRAW_BUFFER15\"] = 34868] = \"DRAW_BUFFER15\";\n    GL[GL[\"MAX_COLOR_ATTACHMENTS\"] = 36063] = \"MAX_COLOR_ATTACHMENTS\";\n    GL[GL[\"COLOR_ATTACHMENT1\"] = 36065] = \"COLOR_ATTACHMENT1\";\n    GL[GL[\"COLOR_ATTACHMENT2\"] = 36066] = \"COLOR_ATTACHMENT2\";\n    GL[GL[\"COLOR_ATTACHMENT3\"] = 36067] = \"COLOR_ATTACHMENT3\";\n    GL[GL[\"COLOR_ATTACHMENT4\"] = 36068] = \"COLOR_ATTACHMENT4\";\n    GL[GL[\"COLOR_ATTACHMENT5\"] = 36069] = \"COLOR_ATTACHMENT5\";\n    GL[GL[\"COLOR_ATTACHMENT6\"] = 36070] = \"COLOR_ATTACHMENT6\";\n    GL[GL[\"COLOR_ATTACHMENT7\"] = 36071] = \"COLOR_ATTACHMENT7\";\n    GL[GL[\"COLOR_ATTACHMENT8\"] = 36072] = \"COLOR_ATTACHMENT8\";\n    GL[GL[\"COLOR_ATTACHMENT9\"] = 36073] = \"COLOR_ATTACHMENT9\";\n    GL[GL[\"COLOR_ATTACHMENT10\"] = 36074] = \"COLOR_ATTACHMENT10\";\n    GL[GL[\"COLOR_ATTACHMENT11\"] = 36075] = \"COLOR_ATTACHMENT11\";\n    GL[GL[\"COLOR_ATTACHMENT12\"] = 36076] = \"COLOR_ATTACHMENT12\";\n    GL[GL[\"COLOR_ATTACHMENT13\"] = 36077] = \"COLOR_ATTACHMENT13\";\n    GL[GL[\"COLOR_ATTACHMENT14\"] = 36078] = \"COLOR_ATTACHMENT14\";\n    GL[GL[\"COLOR_ATTACHMENT15\"] = 36079] = \"COLOR_ATTACHMENT15\";\n    // Samplers\n    GL[GL[\"SAMPLER_3D\"] = 35679] = \"SAMPLER_3D\";\n    GL[GL[\"SAMPLER_2D_SHADOW\"] = 35682] = \"SAMPLER_2D_SHADOW\";\n    GL[GL[\"SAMPLER_2D_ARRAY\"] = 36289] = \"SAMPLER_2D_ARRAY\";\n    GL[GL[\"SAMPLER_2D_ARRAY_SHADOW\"] = 36292] = \"SAMPLER_2D_ARRAY_SHADOW\";\n    GL[GL[\"SAMPLER_CUBE_SHADOW\"] = 36293] = \"SAMPLER_CUBE_SHADOW\";\n    GL[GL[\"INT_SAMPLER_2D\"] = 36298] = \"INT_SAMPLER_2D\";\n    GL[GL[\"INT_SAMPLER_3D\"] = 36299] = \"INT_SAMPLER_3D\";\n    GL[GL[\"INT_SAMPLER_CUBE\"] = 36300] = \"INT_SAMPLER_CUBE\";\n    GL[GL[\"INT_SAMPLER_2D_ARRAY\"] = 36303] = \"INT_SAMPLER_2D_ARRAY\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_2D\"] = 36306] = \"UNSIGNED_INT_SAMPLER_2D\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_3D\"] = 36307] = \"UNSIGNED_INT_SAMPLER_3D\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_CUBE\"] = 36308] = \"UNSIGNED_INT_SAMPLER_CUBE\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_2D_ARRAY\"] = 36311] = \"UNSIGNED_INT_SAMPLER_2D_ARRAY\";\n    GL[GL[\"MAX_SAMPLES\"] = 36183] = \"MAX_SAMPLES\";\n    GL[GL[\"SAMPLER_BINDING\"] = 35097] = \"SAMPLER_BINDING\";\n    // Buffers\n    GL[GL[\"PIXEL_PACK_BUFFER\"] = 35051] = \"PIXEL_PACK_BUFFER\";\n    GL[GL[\"PIXEL_UNPACK_BUFFER\"] = 35052] = \"PIXEL_UNPACK_BUFFER\";\n    GL[GL[\"PIXEL_PACK_BUFFER_BINDING\"] = 35053] = \"PIXEL_PACK_BUFFER_BINDING\";\n    GL[GL[\"PIXEL_UNPACK_BUFFER_BINDING\"] = 35055] = \"PIXEL_UNPACK_BUFFER_BINDING\";\n    GL[GL[\"COPY_READ_BUFFER\"] = 36662] = \"COPY_READ_BUFFER\";\n    GL[GL[\"COPY_WRITE_BUFFER\"] = 36663] = \"COPY_WRITE_BUFFER\";\n    GL[GL[\"COPY_READ_BUFFER_BINDING\"] = 36662] = \"COPY_READ_BUFFER_BINDING\";\n    GL[GL[\"COPY_WRITE_BUFFER_BINDING\"] = 36663] = \"COPY_WRITE_BUFFER_BINDING\";\n    // Data types\n    GL[GL[\"FLOAT_MAT2x3\"] = 35685] = \"FLOAT_MAT2x3\";\n    GL[GL[\"FLOAT_MAT2x4\"] = 35686] = \"FLOAT_MAT2x4\";\n    GL[GL[\"FLOAT_MAT3x2\"] = 35687] = \"FLOAT_MAT3x2\";\n    GL[GL[\"FLOAT_MAT3x4\"] = 35688] = \"FLOAT_MAT3x4\";\n    GL[GL[\"FLOAT_MAT4x2\"] = 35689] = \"FLOAT_MAT4x2\";\n    GL[GL[\"FLOAT_MAT4x3\"] = 35690] = \"FLOAT_MAT4x3\";\n    GL[GL[\"UNSIGNED_INT_VEC2\"] = 36294] = \"UNSIGNED_INT_VEC2\";\n    GL[GL[\"UNSIGNED_INT_VEC3\"] = 36295] = \"UNSIGNED_INT_VEC3\";\n    GL[GL[\"UNSIGNED_INT_VEC4\"] = 36296] = \"UNSIGNED_INT_VEC4\";\n    GL[GL[\"UNSIGNED_NORMALIZED\"] = 35863] = \"UNSIGNED_NORMALIZED\";\n    GL[GL[\"SIGNED_NORMALIZED\"] = 36764] = \"SIGNED_NORMALIZED\";\n    // Vertex attributes\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_INTEGER\"] = 35069] = \"VERTEX_ATTRIB_ARRAY_INTEGER\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_DIVISOR\"] = 35070] = \"VERTEX_ATTRIB_ARRAY_DIVISOR\";\n    // Transform feedback\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_MODE\"] = 35967] = \"TRANSFORM_FEEDBACK_BUFFER_MODE\";\n    GL[GL[\"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS\"] = 35968] = \"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS\";\n    GL[GL[\"TRANSFORM_FEEDBACK_VARYINGS\"] = 35971] = \"TRANSFORM_FEEDBACK_VARYINGS\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_START\"] = 35972] = \"TRANSFORM_FEEDBACK_BUFFER_START\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_SIZE\"] = 35973] = \"TRANSFORM_FEEDBACK_BUFFER_SIZE\";\n    GL[GL[\"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN\"] = 35976] = \"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN\";\n    GL[GL[\"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS\"] = 35978] = \"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS\";\n    GL[GL[\"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS\"] = 35979] = \"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS\";\n    GL[GL[\"INTERLEAVED_ATTRIBS\"] = 35980] = \"INTERLEAVED_ATTRIBS\";\n    GL[GL[\"SEPARATE_ATTRIBS\"] = 35981] = \"SEPARATE_ATTRIBS\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER\"] = 35982] = \"TRANSFORM_FEEDBACK_BUFFER\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_BINDING\"] = 35983] = \"TRANSFORM_FEEDBACK_BUFFER_BINDING\";\n    GL[GL[\"TRANSFORM_FEEDBACK\"] = 36386] = \"TRANSFORM_FEEDBACK\";\n    GL[GL[\"TRANSFORM_FEEDBACK_PAUSED\"] = 36387] = \"TRANSFORM_FEEDBACK_PAUSED\";\n    GL[GL[\"TRANSFORM_FEEDBACK_ACTIVE\"] = 36388] = \"TRANSFORM_FEEDBACK_ACTIVE\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BINDING\"] = 36389] = \"TRANSFORM_FEEDBACK_BINDING\";\n    // Framebuffers and renderbuffers\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING\"] = 33296] = \"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE\"] = 33297] = \"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_RED_SIZE\"] = 33298] = \"FRAMEBUFFER_ATTACHMENT_RED_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE\"] = 33299] = \"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE\"] = 33300] = \"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE\"] = 33301] = \"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE\"] = 33302] = \"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE\"] = 33303] = \"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE\";\n    GL[GL[\"FRAMEBUFFER_DEFAULT\"] = 33304] = \"FRAMEBUFFER_DEFAULT\";\n    // DEPTH_STENCIL_ATTACHMENT  = 0x821A,\n    // DEPTH_STENCIL = 0x84F9,\n    GL[GL[\"DEPTH24_STENCIL8\"] = 35056] = \"DEPTH24_STENCIL8\";\n    GL[GL[\"DRAW_FRAMEBUFFER_BINDING\"] = 36006] = \"DRAW_FRAMEBUFFER_BINDING\";\n    GL[GL[\"READ_FRAMEBUFFER_BINDING\"] = 36010] = \"READ_FRAMEBUFFER_BINDING\";\n    GL[GL[\"RENDERBUFFER_SAMPLES\"] = 36011] = \"RENDERBUFFER_SAMPLES\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER\"] = 36052] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE\"] = 36182] = \"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE\";\n    // Uniforms\n    GL[GL[\"UNIFORM_BUFFER\"] = 35345] = \"UNIFORM_BUFFER\";\n    GL[GL[\"UNIFORM_BUFFER_BINDING\"] = 35368] = \"UNIFORM_BUFFER_BINDING\";\n    GL[GL[\"UNIFORM_BUFFER_START\"] = 35369] = \"UNIFORM_BUFFER_START\";\n    GL[GL[\"UNIFORM_BUFFER_SIZE\"] = 35370] = \"UNIFORM_BUFFER_SIZE\";\n    GL[GL[\"MAX_VERTEX_UNIFORM_BLOCKS\"] = 35371] = \"MAX_VERTEX_UNIFORM_BLOCKS\";\n    GL[GL[\"MAX_FRAGMENT_UNIFORM_BLOCKS\"] = 35373] = \"MAX_FRAGMENT_UNIFORM_BLOCKS\";\n    GL[GL[\"MAX_COMBINED_UNIFORM_BLOCKS\"] = 35374] = \"MAX_COMBINED_UNIFORM_BLOCKS\";\n    GL[GL[\"MAX_UNIFORM_BUFFER_BINDINGS\"] = 35375] = \"MAX_UNIFORM_BUFFER_BINDINGS\";\n    GL[GL[\"MAX_UNIFORM_BLOCK_SIZE\"] = 35376] = \"MAX_UNIFORM_BLOCK_SIZE\";\n    GL[GL[\"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS\"] = 35377] = \"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS\";\n    GL[GL[\"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS\"] = 35379] = \"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS\";\n    GL[GL[\"UNIFORM_BUFFER_OFFSET_ALIGNMENT\"] = 35380] = \"UNIFORM_BUFFER_OFFSET_ALIGNMENT\";\n    GL[GL[\"ACTIVE_UNIFORM_BLOCKS\"] = 35382] = \"ACTIVE_UNIFORM_BLOCKS\";\n    GL[GL[\"UNIFORM_TYPE\"] = 35383] = \"UNIFORM_TYPE\";\n    GL[GL[\"UNIFORM_SIZE\"] = 35384] = \"UNIFORM_SIZE\";\n    GL[GL[\"UNIFORM_BLOCK_INDEX\"] = 35386] = \"UNIFORM_BLOCK_INDEX\";\n    GL[GL[\"UNIFORM_OFFSET\"] = 35387] = \"UNIFORM_OFFSET\";\n    GL[GL[\"UNIFORM_ARRAY_STRIDE\"] = 35388] = \"UNIFORM_ARRAY_STRIDE\";\n    GL[GL[\"UNIFORM_MATRIX_STRIDE\"] = 35389] = \"UNIFORM_MATRIX_STRIDE\";\n    GL[GL[\"UNIFORM_IS_ROW_MAJOR\"] = 35390] = \"UNIFORM_IS_ROW_MAJOR\";\n    GL[GL[\"UNIFORM_BLOCK_BINDING\"] = 35391] = \"UNIFORM_BLOCK_BINDING\";\n    GL[GL[\"UNIFORM_BLOCK_DATA_SIZE\"] = 35392] = \"UNIFORM_BLOCK_DATA_SIZE\";\n    GL[GL[\"UNIFORM_BLOCK_ACTIVE_UNIFORMS\"] = 35394] = \"UNIFORM_BLOCK_ACTIVE_UNIFORMS\";\n    GL[GL[\"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES\"] = 35395] = \"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES\";\n    GL[GL[\"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER\"] = 35396] = \"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER\";\n    GL[GL[\"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER\"] = 35398] = \"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER\";\n    // Sync objects\n    GL[GL[\"OBJECT_TYPE\"] = 37138] = \"OBJECT_TYPE\";\n    GL[GL[\"SYNC_CONDITION\"] = 37139] = \"SYNC_CONDITION\";\n    GL[GL[\"SYNC_STATUS\"] = 37140] = \"SYNC_STATUS\";\n    GL[GL[\"SYNC_FLAGS\"] = 37141] = \"SYNC_FLAGS\";\n    GL[GL[\"SYNC_FENCE\"] = 37142] = \"SYNC_FENCE\";\n    GL[GL[\"SYNC_GPU_COMMANDS_COMPLETE\"] = 37143] = \"SYNC_GPU_COMMANDS_COMPLETE\";\n    GL[GL[\"UNSIGNALED\"] = 37144] = \"UNSIGNALED\";\n    GL[GL[\"SIGNALED\"] = 37145] = \"SIGNALED\";\n    GL[GL[\"ALREADY_SIGNALED\"] = 37146] = \"ALREADY_SIGNALED\";\n    GL[GL[\"TIMEOUT_EXPIRED\"] = 37147] = \"TIMEOUT_EXPIRED\";\n    GL[GL[\"CONDITION_SATISFIED\"] = 37148] = \"CONDITION_SATISFIED\";\n    GL[GL[\"WAIT_FAILED\"] = 37149] = \"WAIT_FAILED\";\n    GL[GL[\"SYNC_FLUSH_COMMANDS_BIT\"] = 1] = \"SYNC_FLUSH_COMMANDS_BIT\";\n    // Miscellaneous constants\n    GL[GL[\"COLOR\"] = 6144] = \"COLOR\";\n    GL[GL[\"DEPTH\"] = 6145] = \"DEPTH\";\n    GL[GL[\"STENCIL\"] = 6146] = \"STENCIL\";\n    GL[GL[\"MIN\"] = 32775] = \"MIN\";\n    GL[GL[\"MAX\"] = 32776] = \"MAX\";\n    GL[GL[\"DEPTH_COMPONENT24\"] = 33190] = \"DEPTH_COMPONENT24\";\n    GL[GL[\"STREAM_READ\"] = 35041] = \"STREAM_READ\";\n    GL[GL[\"STREAM_COPY\"] = 35042] = \"STREAM_COPY\";\n    GL[GL[\"STATIC_READ\"] = 35045] = \"STATIC_READ\";\n    GL[GL[\"STATIC_COPY\"] = 35046] = \"STATIC_COPY\";\n    GL[GL[\"DYNAMIC_READ\"] = 35049] = \"DYNAMIC_READ\";\n    GL[GL[\"DYNAMIC_COPY\"] = 35050] = \"DYNAMIC_COPY\";\n    GL[GL[\"DEPTH_COMPONENT32F\"] = 36012] = \"DEPTH_COMPONENT32F\";\n    GL[GL[\"DEPTH32F_STENCIL8\"] = 36013] = \"DEPTH32F_STENCIL8\";\n    GL[GL[\"INVALID_INDEX\"] = 4294967295] = \"INVALID_INDEX\";\n    GL[GL[\"TIMEOUT_IGNORED\"] = -1] = \"TIMEOUT_IGNORED\";\n    GL[GL[\"MAX_CLIENT_WAIT_TIMEOUT_WEBGL\"] = 37447] = \"MAX_CLIENT_WAIT_TIMEOUT_WEBGL\";\n    // Constants defined in WebGL extensions\n    // ANGLE_instanced_arrays\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE\"] = 35070] = \"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE\";\n    // WEBGL_debug_renderer_info\n    GL[GL[\"UNMASKED_VENDOR_WEBGL\"] = 37445] = \"UNMASKED_VENDOR_WEBGL\";\n    GL[GL[\"UNMASKED_RENDERER_WEBGL\"] = 37446] = \"UNMASKED_RENDERER_WEBGL\";\n    // EXT_texture_filter_anisotropic\n    GL[GL[\"MAX_TEXTURE_MAX_ANISOTROPY_EXT\"] = 34047] = \"MAX_TEXTURE_MAX_ANISOTROPY_EXT\";\n    GL[GL[\"TEXTURE_MAX_ANISOTROPY_EXT\"] = 34046] = \"TEXTURE_MAX_ANISOTROPY_EXT\";\n    // WEBGL_compressed_texture_s3tc\n    GL[GL[\"COMPRESSED_RGB_S3TC_DXT1_EXT\"] = 33776] = \"COMPRESSED_RGB_S3TC_DXT1_EXT\";\n    GL[GL[\"COMPRESSED_RGBA_S3TC_DXT1_EXT\"] = 33777] = \"COMPRESSED_RGBA_S3TC_DXT1_EXT\";\n    GL[GL[\"COMPRESSED_RGBA_S3TC_DXT3_EXT\"] = 33778] = \"COMPRESSED_RGBA_S3TC_DXT3_EXT\";\n    GL[GL[\"COMPRESSED_RGBA_S3TC_DXT5_EXT\"] = 33779] = \"COMPRESSED_RGBA_S3TC_DXT5_EXT\";\n    // WEBGL_compressed_texture_es3\n    GL[GL[\"COMPRESSED_R11_EAC\"] = 37488] = \"COMPRESSED_R11_EAC\";\n    GL[GL[\"COMPRESSED_SIGNED_R11_EAC\"] = 37489] = \"COMPRESSED_SIGNED_R11_EAC\";\n    GL[GL[\"COMPRESSED_RG11_EAC\"] = 37490] = \"COMPRESSED_RG11_EAC\";\n    GL[GL[\"COMPRESSED_SIGNED_RG11_EAC\"] = 37491] = \"COMPRESSED_SIGNED_RG11_EAC\";\n    GL[GL[\"COMPRESSED_RGB8_ETC2\"] = 37492] = \"COMPRESSED_RGB8_ETC2\";\n    GL[GL[\"COMPRESSED_RGBA8_ETC2_EAC\"] = 37493] = \"COMPRESSED_RGBA8_ETC2_EAC\";\n    GL[GL[\"COMPRESSED_SRGB8_ETC2\"] = 37494] = \"COMPRESSED_SRGB8_ETC2\";\n    GL[GL[\"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\"] = 37495] = \"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\";\n    GL[GL[\"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37496] = \"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n    GL[GL[\"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37497] = \"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n    // WEBGL_compressed_texture_pvrtc\n    GL[GL[\"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\"] = 35840] = \"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\";\n    GL[GL[\"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\"] = 35842] = \"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\";\n    GL[GL[\"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\"] = 35841] = \"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\";\n    GL[GL[\"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\"] = 35843] = \"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\";\n    // WEBGL_compressed_texture_etc1\n    GL[GL[\"COMPRESSED_RGB_ETC1_WEBGL\"] = 36196] = \"COMPRESSED_RGB_ETC1_WEBGL\";\n    // WEBGL_compressed_texture_atc\n    GL[GL[\"COMPRESSED_RGB_ATC_WEBGL\"] = 35986] = \"COMPRESSED_RGB_ATC_WEBGL\";\n    GL[GL[\"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\"] = 35986] = \"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\";\n    GL[GL[\"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\"] = 34798] = \"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\";\n    // WEBGL_depth_texture\n    GL[GL[\"UNSIGNED_INT_24_8_WEBGL\"] = 34042] = \"UNSIGNED_INT_24_8_WEBGL\";\n    // OES_texture_half_float\n    GL[GL[\"HALF_FLOAT_OES\"] = 36193] = \"HALF_FLOAT_OES\";\n    // WEBGL_color_buffer_float\n    GL[GL[\"RGBA32F_EXT\"] = 34836] = \"RGBA32F_EXT\";\n    GL[GL[\"RGB32F_EXT\"] = 34837] = \"RGB32F_EXT\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT\"] = 33297] = \"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT\";\n    GL[GL[\"UNSIGNED_NORMALIZED_EXT\"] = 35863] = \"UNSIGNED_NORMALIZED_EXT\";\n    // EXT_blend_minmax\n    GL[GL[\"MIN_EXT\"] = 32775] = \"MIN_EXT\";\n    GL[GL[\"MAX_EXT\"] = 32776] = \"MAX_EXT\";\n    // EXT_sRGB\n    GL[GL[\"SRGB_EXT\"] = 35904] = \"SRGB_EXT\";\n    GL[GL[\"SRGB_ALPHA_EXT\"] = 35906] = \"SRGB_ALPHA_EXT\";\n    GL[GL[\"SRGB8_ALPHA8_EXT\"] = 35907] = \"SRGB8_ALPHA8_EXT\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT\"] = 33296] = \"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT\";\n    // OES_standard_derivatives\n    GL[GL[\"FRAGMENT_SHADER_DERIVATIVE_HINT_OES\"] = 35723] = \"FRAGMENT_SHADER_DERIVATIVE_HINT_OES\";\n    // WEBGL_draw_buffers\n    GL[GL[\"COLOR_ATTACHMENT0_WEBGL\"] = 36064] = \"COLOR_ATTACHMENT0_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT1_WEBGL\"] = 36065] = \"COLOR_ATTACHMENT1_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT2_WEBGL\"] = 36066] = \"COLOR_ATTACHMENT2_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT3_WEBGL\"] = 36067] = \"COLOR_ATTACHMENT3_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT4_WEBGL\"] = 36068] = \"COLOR_ATTACHMENT4_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT5_WEBGL\"] = 36069] = \"COLOR_ATTACHMENT5_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT6_WEBGL\"] = 36070] = \"COLOR_ATTACHMENT6_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT7_WEBGL\"] = 36071] = \"COLOR_ATTACHMENT7_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT8_WEBGL\"] = 36072] = \"COLOR_ATTACHMENT8_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT9_WEBGL\"] = 36073] = \"COLOR_ATTACHMENT9_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT10_WEBGL\"] = 36074] = \"COLOR_ATTACHMENT10_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT11_WEBGL\"] = 36075] = \"COLOR_ATTACHMENT11_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT12_WEBGL\"] = 36076] = \"COLOR_ATTACHMENT12_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT13_WEBGL\"] = 36077] = \"COLOR_ATTACHMENT13_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT14_WEBGL\"] = 36078] = \"COLOR_ATTACHMENT14_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT15_WEBGL\"] = 36079] = \"COLOR_ATTACHMENT15_WEBGL\";\n    GL[GL[\"DRAW_BUFFER0_WEBGL\"] = 34853] = \"DRAW_BUFFER0_WEBGL\";\n    GL[GL[\"DRAW_BUFFER1_WEBGL\"] = 34854] = \"DRAW_BUFFER1_WEBGL\";\n    GL[GL[\"DRAW_BUFFER2_WEBGL\"] = 34855] = \"DRAW_BUFFER2_WEBGL\";\n    GL[GL[\"DRAW_BUFFER3_WEBGL\"] = 34856] = \"DRAW_BUFFER3_WEBGL\";\n    GL[GL[\"DRAW_BUFFER4_WEBGL\"] = 34857] = \"DRAW_BUFFER4_WEBGL\";\n    GL[GL[\"DRAW_BUFFER5_WEBGL\"] = 34858] = \"DRAW_BUFFER5_WEBGL\";\n    GL[GL[\"DRAW_BUFFER6_WEBGL\"] = 34859] = \"DRAW_BUFFER6_WEBGL\";\n    GL[GL[\"DRAW_BUFFER7_WEBGL\"] = 34860] = \"DRAW_BUFFER7_WEBGL\";\n    GL[GL[\"DRAW_BUFFER8_WEBGL\"] = 34861] = \"DRAW_BUFFER8_WEBGL\";\n    GL[GL[\"DRAW_BUFFER9_WEBGL\"] = 34862] = \"DRAW_BUFFER9_WEBGL\";\n    GL[GL[\"DRAW_BUFFER10_WEBGL\"] = 34863] = \"DRAW_BUFFER10_WEBGL\";\n    GL[GL[\"DRAW_BUFFER11_WEBGL\"] = 34864] = \"DRAW_BUFFER11_WEBGL\";\n    GL[GL[\"DRAW_BUFFER12_WEBGL\"] = 34865] = \"DRAW_BUFFER12_WEBGL\";\n    GL[GL[\"DRAW_BUFFER13_WEBGL\"] = 34866] = \"DRAW_BUFFER13_WEBGL\";\n    GL[GL[\"DRAW_BUFFER14_WEBGL\"] = 34867] = \"DRAW_BUFFER14_WEBGL\";\n    GL[GL[\"DRAW_BUFFER15_WEBGL\"] = 34868] = \"DRAW_BUFFER15_WEBGL\";\n    GL[GL[\"MAX_COLOR_ATTACHMENTS_WEBGL\"] = 36063] = \"MAX_COLOR_ATTACHMENTS_WEBGL\";\n    GL[GL[\"MAX_DRAW_BUFFERS_WEBGL\"] = 34852] = \"MAX_DRAW_BUFFERS_WEBGL\";\n    // OES_vertex_array_object\n    GL[GL[\"VERTEX_ARRAY_BINDING_OES\"] = 34229] = \"VERTEX_ARRAY_BINDING_OES\";\n    // EXT_disjoint_timer_query\n    GL[GL[\"QUERY_COUNTER_BITS_EXT\"] = 34916] = \"QUERY_COUNTER_BITS_EXT\";\n    GL[GL[\"CURRENT_QUERY_EXT\"] = 34917] = \"CURRENT_QUERY_EXT\";\n    GL[GL[\"QUERY_RESULT_EXT\"] = 34918] = \"QUERY_RESULT_EXT\";\n    GL[GL[\"QUERY_RESULT_AVAILABLE_EXT\"] = 34919] = \"QUERY_RESULT_AVAILABLE_EXT\";\n    GL[GL[\"TIME_ELAPSED_EXT\"] = 35007] = \"TIME_ELAPSED_EXT\";\n    GL[GL[\"TIMESTAMP_EXT\"] = 36392] = \"TIMESTAMP_EXT\";\n    GL[GL[\"GPU_DISJOINT_EXT\"] = 36795] = \"GPU_DISJOINT_EXT\";\n})(GL || (GL = {}));\n\nvar ResourceType;\n(function (ResourceType) {\n    ResourceType[ResourceType[\"Buffer\"] = 0] = \"Buffer\";\n    ResourceType[ResourceType[\"Texture\"] = 1] = \"Texture\";\n    ResourceType[ResourceType[\"RenderTarget\"] = 2] = \"RenderTarget\";\n    ResourceType[ResourceType[\"Sampler\"] = 3] = \"Sampler\";\n    ResourceType[ResourceType[\"Program\"] = 4] = \"Program\";\n    ResourceType[ResourceType[\"Bindings\"] = 5] = \"Bindings\";\n    ResourceType[ResourceType[\"InputLayout\"] = 6] = \"InputLayout\";\n    ResourceType[ResourceType[\"RenderPipeline\"] = 7] = \"RenderPipeline\";\n    ResourceType[ResourceType[\"ComputePipeline\"] = 8] = \"ComputePipeline\";\n    ResourceType[ResourceType[\"Readback\"] = 9] = \"Readback\";\n    ResourceType[ResourceType[\"QueryPool\"] = 10] = \"QueryPool\";\n})(ResourceType || (ResourceType = {}));\nvar CompareFunction;\n(function (CompareFunction) {\n    CompareFunction[CompareFunction[\"NEVER\"] = 512] = \"NEVER\";\n    CompareFunction[CompareFunction[\"LESS\"] = 513] = \"LESS\";\n    CompareFunction[CompareFunction[\"EQUAL\"] = 514] = \"EQUAL\";\n    CompareFunction[CompareFunction[\"LEQUAL\"] = 515] = \"LEQUAL\";\n    CompareFunction[CompareFunction[\"GREATER\"] = 516] = \"GREATER\";\n    CompareFunction[CompareFunction[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n    CompareFunction[CompareFunction[\"GEQUAL\"] = 518] = \"GEQUAL\";\n    CompareFunction[CompareFunction[\"ALWAYS\"] = 519] = \"ALWAYS\";\n})(CompareFunction || (CompareFunction = {}));\nvar FrontFace;\n(function (FrontFace) {\n    FrontFace[FrontFace[\"CCW\"] = 2305] = \"CCW\";\n    FrontFace[FrontFace[\"CW\"] = 2304] = \"CW\";\n})(FrontFace || (FrontFace = {}));\nvar CullMode;\n(function (CullMode) {\n    CullMode[CullMode[\"NONE\"] = 0] = \"NONE\";\n    CullMode[CullMode[\"FRONT\"] = 1] = \"FRONT\";\n    CullMode[CullMode[\"BACK\"] = 2] = \"BACK\";\n    CullMode[CullMode[\"FRONT_AND_BACK\"] = 3] = \"FRONT_AND_BACK\";\n})(CullMode || (CullMode = {}));\n/**\n * Blend factor RGBA components.\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendfactor\n */\nvar BlendFactor;\n(function (BlendFactor) {\n    /**\n     * (0, 0, 0, 0)\n     */\n    BlendFactor[BlendFactor[\"ZERO\"] = 0] = \"ZERO\";\n    /**\n     * (1, 1, 1, 1)\n     */\n    BlendFactor[BlendFactor[\"ONE\"] = 1] = \"ONE\";\n    /**\n     * (Rsrc, Gsrc, Bsrc, Asrc)\n     */\n    BlendFactor[BlendFactor[\"SRC\"] = 768] = \"SRC\";\n    /**\n     * (1 - Rsrc, 1 - Gsrc, 1 - Bsrc, 1 - Asrc)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_SRC\"] = 769] = \"ONE_MINUS_SRC\";\n    /**\n     * (Rdst, Gdst, Bdst, Adst)\n     */\n    BlendFactor[BlendFactor[\"DST\"] = 774] = \"DST\";\n    /**\n     * (1 - Rdst, 1 - Gdst, 1 - Bdst, 1 - Adst)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_DST\"] = 775] = \"ONE_MINUS_DST\";\n    /**\n     * (Asrc, Asrc, Asrc, Asrc)\n     */\n    BlendFactor[BlendFactor[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n    /**\n     * (1 - Asrc, 1 - Asrc, 1 - Asrc, 1 - Asrc)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n    /**\n     * (Adst, Adst, Adst, Adst)\n     */\n    BlendFactor[BlendFactor[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n    /**\n     * (1 - Adst, 1 - Adst, 1 - Adst, 1 - Adst)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n    /**\n     * (Rconst, Gconst, Bconst, Aconst)\n     */\n    BlendFactor[BlendFactor[\"CONST\"] = 32769] = \"CONST\";\n    /**\n     * (1 - Rconst, 1 - Gconst, 1 - Bconst, 1 - Aconst)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_CONSTANT\"] = 32770] = \"ONE_MINUS_CONSTANT\";\n    /**\n     * (min(Asrc, 1 - Adst), min(Asrc, 1 - Adst), min(Asrc, 1 - Adst), 1)\n     */\n    BlendFactor[BlendFactor[\"SRC_ALPHA_SATURATE\"] = 776] = \"SRC_ALPHA_SATURATE\";\n})(BlendFactor || (BlendFactor = {}));\n/**\n * Defines the algorithm used to combine source and destination blend factors.\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendoperation\n */\nvar BlendMode;\n(function (BlendMode) {\n    /**\n     * RGBAsrc  RGBAsrcFactor + RGBAdst  RGBAdstFactor\n     */\n    BlendMode[BlendMode[\"ADD\"] = 32774] = \"ADD\";\n    /**\n     * RGBAsrc  RGBAsrcFactor - RGBAdst  RGBAdstFactor\n     */\n    BlendMode[BlendMode[\"SUBSTRACT\"] = 32778] = \"SUBSTRACT\";\n    /**\n     * RGBAdst  RGBAdstFactor - RGBAsrc  RGBAsrcFactor\n     */\n    BlendMode[BlendMode[\"REVERSE_SUBSTRACT\"] = 32779] = \"REVERSE_SUBSTRACT\";\n    // TODO: WebGL 1 should use ext\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendEquation#parameters\n    /**\n     * min(RGBAsrc, RGBAdst)\n     */\n    BlendMode[BlendMode[\"MIN\"] = 32775] = \"MIN\";\n    /**\n     * max(RGBAsrc, RGBAdst)\n     */\n    BlendMode[BlendMode[\"MAX\"] = 32776] = \"MAX\";\n})(BlendMode || (BlendMode = {}));\nvar AddressMode;\n(function (AddressMode) {\n    AddressMode[AddressMode[\"CLAMP_TO_EDGE\"] = 0] = \"CLAMP_TO_EDGE\";\n    AddressMode[AddressMode[\"REPEAT\"] = 1] = \"REPEAT\";\n    AddressMode[AddressMode[\"MIRRORED_REPEAT\"] = 2] = \"MIRRORED_REPEAT\";\n})(AddressMode || (AddressMode = {}));\nvar FilterMode;\n(function (FilterMode) {\n    FilterMode[FilterMode[\"POINT\"] = 0] = \"POINT\";\n    FilterMode[FilterMode[\"BILINEAR\"] = 1] = \"BILINEAR\";\n})(FilterMode || (FilterMode = {}));\nvar MipmapFilterMode;\n(function (MipmapFilterMode) {\n    MipmapFilterMode[MipmapFilterMode[\"NO_MIP\"] = 0] = \"NO_MIP\";\n    MipmapFilterMode[MipmapFilterMode[\"NEAREST\"] = 1] = \"NEAREST\";\n    MipmapFilterMode[MipmapFilterMode[\"LINEAR\"] = 2] = \"LINEAR\";\n})(MipmapFilterMode || (MipmapFilterMode = {}));\nvar PrimitiveTopology;\n(function (PrimitiveTopology) {\n    PrimitiveTopology[PrimitiveTopology[\"POINTS\"] = 0] = \"POINTS\";\n    PrimitiveTopology[PrimitiveTopology[\"TRIANGLES\"] = 1] = \"TRIANGLES\";\n    PrimitiveTopology[PrimitiveTopology[\"TRIANGLE_STRIP\"] = 2] = \"TRIANGLE_STRIP\";\n    PrimitiveTopology[PrimitiveTopology[\"LINES\"] = 3] = \"LINES\";\n    PrimitiveTopology[PrimitiveTopology[\"LINE_STRIP\"] = 4] = \"LINE_STRIP\";\n})(PrimitiveTopology || (PrimitiveTopology = {}));\n/**\n * @see https://www.w3.org/TR/webgpu/#buffer-usage\n */\nvar BufferUsage;\n(function (BufferUsage) {\n    BufferUsage[BufferUsage[\"MAP_READ\"] = 1] = \"MAP_READ\";\n    BufferUsage[BufferUsage[\"MAP_WRITE\"] = 2] = \"MAP_WRITE\";\n    BufferUsage[BufferUsage[\"COPY_SRC\"] = 4] = \"COPY_SRC\";\n    BufferUsage[BufferUsage[\"COPY_DST\"] = 8] = \"COPY_DST\";\n    BufferUsage[BufferUsage[\"INDEX\"] = 16] = \"INDEX\";\n    BufferUsage[BufferUsage[\"VERTEX\"] = 32] = \"VERTEX\";\n    BufferUsage[BufferUsage[\"UNIFORM\"] = 64] = \"UNIFORM\";\n    BufferUsage[BufferUsage[\"STORAGE\"] = 128] = \"STORAGE\";\n    BufferUsage[BufferUsage[\"INDIRECT\"] = 256] = \"INDIRECT\";\n    BufferUsage[BufferUsage[\"QUERY_RESOLVE\"] = 512] = \"QUERY_RESOLVE\";\n})(BufferUsage || (BufferUsage = {}));\nvar BufferFrequencyHint;\n(function (BufferFrequencyHint) {\n    BufferFrequencyHint[BufferFrequencyHint[\"STATIC\"] = 1] = \"STATIC\";\n    BufferFrequencyHint[BufferFrequencyHint[\"DYNAMIC\"] = 2] = \"DYNAMIC\";\n})(BufferFrequencyHint || (BufferFrequencyHint = {}));\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpuvertexstepmode\n */\nvar VertexStepMode;\n(function (VertexStepMode) {\n    VertexStepMode[VertexStepMode[\"VERTEX\"] = 1] = \"VERTEX\";\n    VertexStepMode[VertexStepMode[\"INSTANCE\"] = 2] = \"INSTANCE\";\n})(VertexStepMode || (VertexStepMode = {}));\nvar TextureEvent;\n(function (TextureEvent) {\n    TextureEvent[\"LOADED\"] = \"loaded\";\n})(TextureEvent || (TextureEvent = {}));\nvar TextureDimension;\n(function (TextureDimension) {\n    TextureDimension[TextureDimension[\"TEXTURE_2D\"] = 0] = \"TEXTURE_2D\";\n    TextureDimension[TextureDimension[\"TEXTURE_2D_ARRAY\"] = 1] = \"TEXTURE_2D_ARRAY\";\n    TextureDimension[TextureDimension[\"TEXTURE_3D\"] = 2] = \"TEXTURE_3D\";\n    TextureDimension[TextureDimension[\"TEXTURE_CUBE_MAP\"] = 3] = \"TEXTURE_CUBE_MAP\";\n})(TextureDimension || (TextureDimension = {}));\nvar TextureUsage;\n(function (TextureUsage) {\n    TextureUsage[TextureUsage[\"SAMPLED\"] = 1] = \"SAMPLED\";\n    TextureUsage[TextureUsage[\"RENDER_TARGET\"] = 2] = \"RENDER_TARGET\";\n})(TextureUsage || (TextureUsage = {}));\nvar ChannelWriteMask;\n(function (ChannelWriteMask) {\n    ChannelWriteMask[ChannelWriteMask[\"NONE\"] = 0] = \"NONE\";\n    ChannelWriteMask[ChannelWriteMask[\"RED\"] = 1] = \"RED\";\n    ChannelWriteMask[ChannelWriteMask[\"GREEN\"] = 2] = \"GREEN\";\n    ChannelWriteMask[ChannelWriteMask[\"BLUE\"] = 4] = \"BLUE\";\n    ChannelWriteMask[ChannelWriteMask[\"ALPHA\"] = 8] = \"ALPHA\";\n    ChannelWriteMask[ChannelWriteMask[\"RGB\"] = 7] = \"RGB\";\n    ChannelWriteMask[ChannelWriteMask[\"ALL\"] = 15] = \"ALL\";\n})(ChannelWriteMask || (ChannelWriteMask = {}));\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpustenciloperation\n */\nvar StencilOp;\n(function (StencilOp) {\n    StencilOp[StencilOp[\"KEEP\"] = 7680] = \"KEEP\";\n    StencilOp[StencilOp[\"ZERO\"] = 0] = \"ZERO\";\n    StencilOp[StencilOp[\"REPLACE\"] = 7681] = \"REPLACE\";\n    StencilOp[StencilOp[\"INVERT\"] = 5386] = \"INVERT\";\n    StencilOp[StencilOp[\"INCREMENT_CLAMP\"] = 7682] = \"INCREMENT_CLAMP\";\n    StencilOp[StencilOp[\"DECREMENT_CLAMP\"] = 7683] = \"DECREMENT_CLAMP\";\n    StencilOp[StencilOp[\"INCREMENT_WRAP\"] = 34055] = \"INCREMENT_WRAP\";\n    StencilOp[StencilOp[\"DECREMENT_WRAP\"] = 34056] = \"DECREMENT_WRAP\";\n})(StencilOp || (StencilOp = {}));\nfunction makeTextureDescriptor2D(format, width, height, mipLevelCount) {\n    var dimension = TextureDimension.TEXTURE_2D;\n    var depthOrArrayLayers = 1;\n    var usage = TextureUsage.SAMPLED;\n    return {\n        dimension: dimension,\n        format: format,\n        width: width,\n        height: height,\n        depthOrArrayLayers: depthOrArrayLayers,\n        mipLevelCount: mipLevelCount,\n        usage: usage,\n    };\n}\nvar SamplerFormatKind;\n(function (SamplerFormatKind) {\n    SamplerFormatKind[SamplerFormatKind[\"Float\"] = 0] = \"Float\";\n    SamplerFormatKind[SamplerFormatKind[\"Uint\"] = 1] = \"Uint\";\n    SamplerFormatKind[SamplerFormatKind[\"Sint\"] = 2] = \"Sint\";\n    SamplerFormatKind[SamplerFormatKind[\"Depth\"] = 3] = \"Depth\";\n})(SamplerFormatKind || (SamplerFormatKind = {}));\nvar ViewportOrigin;\n(function (ViewportOrigin) {\n    ViewportOrigin[ViewportOrigin[\"LOWER_LEFT\"] = 0] = \"LOWER_LEFT\";\n    ViewportOrigin[ViewportOrigin[\"UPPER_LEFT\"] = 1] = \"UPPER_LEFT\";\n})(ViewportOrigin || (ViewportOrigin = {}));\nvar ClipSpaceNearZ;\n(function (ClipSpaceNearZ) {\n    ClipSpaceNearZ[ClipSpaceNearZ[\"NEGATIVE_ONE\"] = 0] = \"NEGATIVE_ONE\";\n    ClipSpaceNearZ[ClipSpaceNearZ[\"ZERO\"] = 1] = \"ZERO\";\n})(ClipSpaceNearZ || (ClipSpaceNearZ = {}));\nvar QueryPoolType;\n(function (QueryPoolType) {\n    QueryPoolType[QueryPoolType[\"OcclusionConservative\"] = 0] = \"OcclusionConservative\";\n})(QueryPoolType || (QueryPoolType = {}));\n\nvar FormatTypeFlags;\n(function (FormatTypeFlags) {\n    FormatTypeFlags[FormatTypeFlags[\"U8\"] = 1] = \"U8\";\n    FormatTypeFlags[FormatTypeFlags[\"U16\"] = 2] = \"U16\";\n    FormatTypeFlags[FormatTypeFlags[\"U32\"] = 3] = \"U32\";\n    FormatTypeFlags[FormatTypeFlags[\"S8\"] = 4] = \"S8\";\n    FormatTypeFlags[FormatTypeFlags[\"S16\"] = 5] = \"S16\";\n    FormatTypeFlags[FormatTypeFlags[\"S32\"] = 6] = \"S32\";\n    FormatTypeFlags[FormatTypeFlags[\"F16\"] = 7] = \"F16\";\n    FormatTypeFlags[FormatTypeFlags[\"F32\"] = 8] = \"F32\";\n    // Compressed texture formats.\n    FormatTypeFlags[FormatTypeFlags[\"BC1\"] = 65] = \"BC1\";\n    FormatTypeFlags[FormatTypeFlags[\"BC2\"] = 66] = \"BC2\";\n    FormatTypeFlags[FormatTypeFlags[\"BC3\"] = 67] = \"BC3\";\n    FormatTypeFlags[FormatTypeFlags[\"BC4_UNORM\"] = 68] = \"BC4_UNORM\";\n    FormatTypeFlags[FormatTypeFlags[\"BC4_SNORM\"] = 69] = \"BC4_SNORM\";\n    FormatTypeFlags[FormatTypeFlags[\"BC5_UNORM\"] = 70] = \"BC5_UNORM\";\n    FormatTypeFlags[FormatTypeFlags[\"BC5_SNORM\"] = 71] = \"BC5_SNORM\";\n    // Special-case packed texture formats.\n    FormatTypeFlags[FormatTypeFlags[\"U16_PACKED_5551\"] = 97] = \"U16_PACKED_5551\";\n    FormatTypeFlags[FormatTypeFlags[\"U16_PACKED_565\"] = 98] = \"U16_PACKED_565\";\n    // Depth/stencil texture formats.\n    FormatTypeFlags[FormatTypeFlags[\"D24\"] = 129] = \"D24\";\n    FormatTypeFlags[FormatTypeFlags[\"D32F\"] = 130] = \"D32F\";\n    FormatTypeFlags[FormatTypeFlags[\"D24S8\"] = 131] = \"D24S8\";\n    FormatTypeFlags[FormatTypeFlags[\"D32FS8\"] = 132] = \"D32FS8\";\n})(FormatTypeFlags || (FormatTypeFlags = {}));\nvar FormatCompFlags;\n(function (FormatCompFlags) {\n    FormatCompFlags[FormatCompFlags[\"R\"] = 1] = \"R\";\n    FormatCompFlags[FormatCompFlags[\"RG\"] = 2] = \"RG\";\n    FormatCompFlags[FormatCompFlags[\"RGB\"] = 3] = \"RGB\";\n    FormatCompFlags[FormatCompFlags[\"RGBA\"] = 4] = \"RGBA\";\n    FormatCompFlags[FormatCompFlags[\"A\"] = 5] = \"A\";\n})(FormatCompFlags || (FormatCompFlags = {}));\nfunction getFormatCompFlagsComponentCount(n) {\n    // The number of components is the flag value. Easy.\n    return n;\n}\nvar FormatFlags;\n(function (FormatFlags) {\n    FormatFlags[FormatFlags[\"None\"] = 0] = \"None\";\n    FormatFlags[FormatFlags[\"Normalized\"] = 1] = \"Normalized\";\n    FormatFlags[FormatFlags[\"sRGB\"] = 2] = \"sRGB\";\n    FormatFlags[FormatFlags[\"Depth\"] = 4] = \"Depth\";\n    FormatFlags[FormatFlags[\"Stencil\"] = 8] = \"Stencil\";\n    FormatFlags[FormatFlags[\"RenderTarget\"] = 16] = \"RenderTarget\";\n})(FormatFlags || (FormatFlags = {}));\nfunction makeFormat(type, comp, flags) {\n    return (type << 16) | (comp << 8) | flags;\n}\nvar Format;\n(function (Format) {\n    Format[Format[\"ALPHA\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.A, FormatFlags.None)] = \"ALPHA\";\n    Format[Format[\"U8_LUMINANCE\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.A, FormatFlags.None)] = \"U8_LUMINANCE\";\n    Format[Format[\"F16_LUMINANCE\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.A, FormatFlags.None)] = \"F16_LUMINANCE\";\n    Format[Format[\"F32_LUMINANCE\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.A, FormatFlags.None)] = \"F32_LUMINANCE\";\n    Format[Format[\"F16_R\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.R, FormatFlags.None)] = \"F16_R\";\n    Format[Format[\"F16_RG\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.RG, FormatFlags.None)] = \"F16_RG\";\n    Format[Format[\"F16_RGB\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.RGB, FormatFlags.None)] = \"F16_RGB\";\n    Format[Format[\"F16_RGBA\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.RGBA, FormatFlags.None)] = \"F16_RGBA\";\n    Format[Format[\"F32_R\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.R, FormatFlags.None)] = \"F32_R\";\n    Format[Format[\"F32_RG\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.RG, FormatFlags.None)] = \"F32_RG\";\n    Format[Format[\"F32_RGB\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.RGB, FormatFlags.None)] = \"F32_RGB\";\n    Format[Format[\"F32_RGBA\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.RGBA, FormatFlags.None)] = \"F32_RGBA\";\n    Format[Format[\"U8_R\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.R, FormatFlags.None)] = \"U8_R\";\n    Format[Format[\"U8_R_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.R, FormatFlags.Normalized)] = \"U8_R_NORM\";\n    Format[Format[\"U8_RG\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RG, FormatFlags.None)] = \"U8_RG\";\n    Format[Format[\"U8_RG_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RG, FormatFlags.Normalized)] = \"U8_RG_NORM\";\n    Format[Format[\"U8_RGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.None)] = \"U8_RGB\";\n    Format[Format[\"U8_RGB_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"U8_RGB_NORM\";\n    Format[Format[\"U8_RGB_SRGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.sRGB | FormatFlags.Normalized)] = \"U8_RGB_SRGB\";\n    Format[Format[\"U8_RGBA\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.None)] = \"U8_RGBA\";\n    Format[Format[\"U8_RGBA_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"U8_RGBA_NORM\";\n    Format[Format[\"U8_RGBA_SRGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.sRGB | FormatFlags.Normalized)] = \"U8_RGBA_SRGB\";\n    Format[Format[\"U16_R\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.R, FormatFlags.None)] = \"U16_R\";\n    Format[Format[\"U16_R_NORM\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.R, FormatFlags.Normalized)] = \"U16_R_NORM\";\n    Format[Format[\"U16_RG_NORM\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RG, FormatFlags.Normalized)] = \"U16_RG_NORM\";\n    Format[Format[\"U16_RGBA_NORM\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"U16_RGBA_NORM\";\n    Format[Format[\"U16_RGB\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RGB, FormatFlags.None)] = \"U16_RGB\";\n    Format[Format[\"U32_R\"] = makeFormat(FormatTypeFlags.U32, FormatCompFlags.R, FormatFlags.None)] = \"U32_R\";\n    Format[Format[\"U32_RG\"] = makeFormat(FormatTypeFlags.U32, FormatCompFlags.RG, FormatFlags.None)] = \"U32_RG\";\n    Format[Format[\"S8_R\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.R, FormatFlags.None)] = \"S8_R\";\n    Format[Format[\"S8_R_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.R, FormatFlags.Normalized)] = \"S8_R_NORM\";\n    Format[Format[\"S8_RG_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.RG, FormatFlags.Normalized)] = \"S8_RG_NORM\";\n    Format[Format[\"S8_RGB_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"S8_RGB_NORM\";\n    Format[Format[\"S8_RGBA_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"S8_RGBA_NORM\";\n    Format[Format[\"S16_R\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.R, FormatFlags.None)] = \"S16_R\";\n    Format[Format[\"S16_RG\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RG, FormatFlags.None)] = \"S16_RG\";\n    Format[Format[\"S16_RG_NORM\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RG, FormatFlags.Normalized)] = \"S16_RG_NORM\";\n    Format[Format[\"S16_RGB_NORM\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"S16_RGB_NORM\";\n    Format[Format[\"S16_RGBA\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RGBA, FormatFlags.None)] = \"S16_RGBA\";\n    Format[Format[\"S16_RGBA_NORM\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"S16_RGBA_NORM\";\n    Format[Format[\"S32_R\"] = makeFormat(FormatTypeFlags.S32, FormatCompFlags.R, FormatFlags.None)] = \"S32_R\";\n    // Packed texture formats.\n    Format[Format[\"U16_RGBA_5551\"] = makeFormat(FormatTypeFlags.U16_PACKED_5551, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"U16_RGBA_5551\";\n    Format[Format[\"U16_RGB_565\"] = makeFormat(FormatTypeFlags.U16_PACKED_565, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"U16_RGB_565\";\n    // Compressed\n    Format[Format[\"BC1\"] = makeFormat(FormatTypeFlags.BC1, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"BC1\";\n    Format[Format[\"BC1_SRGB\"] = makeFormat(FormatTypeFlags.BC1, FormatCompFlags.RGBA, FormatFlags.Normalized | FormatFlags.sRGB)] = \"BC1_SRGB\";\n    Format[Format[\"BC2\"] = makeFormat(FormatTypeFlags.BC2, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"BC2\";\n    Format[Format[\"BC2_SRGB\"] = makeFormat(FormatTypeFlags.BC2, FormatCompFlags.RGBA, FormatFlags.Normalized | FormatFlags.sRGB)] = \"BC2_SRGB\";\n    Format[Format[\"BC3\"] = makeFormat(FormatTypeFlags.BC3, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"BC3\";\n    Format[Format[\"BC3_SRGB\"] = makeFormat(FormatTypeFlags.BC3, FormatCompFlags.RGBA, FormatFlags.Normalized | FormatFlags.sRGB)] = \"BC3_SRGB\";\n    Format[Format[\"BC4_UNORM\"] = makeFormat(FormatTypeFlags.BC4_UNORM, FormatCompFlags.R, FormatFlags.Normalized)] = \"BC4_UNORM\";\n    Format[Format[\"BC4_SNORM\"] = makeFormat(FormatTypeFlags.BC4_SNORM, FormatCompFlags.R, FormatFlags.Normalized)] = \"BC4_SNORM\";\n    Format[Format[\"BC5_UNORM\"] = makeFormat(FormatTypeFlags.BC5_UNORM, FormatCompFlags.RG, FormatFlags.Normalized)] = \"BC5_UNORM\";\n    Format[Format[\"BC5_SNORM\"] = makeFormat(FormatTypeFlags.BC5_SNORM, FormatCompFlags.RG, FormatFlags.Normalized)] = \"BC5_SNORM\";\n    // Depth/Stencil\n    Format[Format[\"D24\"] = makeFormat(FormatTypeFlags.D24, FormatCompFlags.R, FormatFlags.Depth)] = \"D24\";\n    Format[Format[\"D24_S8\"] = makeFormat(FormatTypeFlags.D24S8, FormatCompFlags.RG, FormatFlags.Depth | FormatFlags.Stencil)] = \"D24_S8\";\n    Format[Format[\"D32F\"] = makeFormat(FormatTypeFlags.D32F, FormatCompFlags.R, FormatFlags.Depth)] = \"D32F\";\n    Format[Format[\"D32F_S8\"] = makeFormat(FormatTypeFlags.D32FS8, FormatCompFlags.RG, FormatFlags.Depth | FormatFlags.Stencil)] = \"D32F_S8\";\n    // Special RT formats for preferred backend support.\n    Format[Format[\"U8_RGB_RT\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.RenderTarget | FormatFlags.Normalized)] = \"U8_RGB_RT\";\n    Format[Format[\"U8_RGBA_RT\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.RenderTarget | FormatFlags.Normalized)] = \"U8_RGBA_RT\";\n    Format[Format[\"U8_RGBA_RT_SRGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.RenderTarget | FormatFlags.Normalized | FormatFlags.sRGB)] = \"U8_RGBA_RT_SRGB\";\n})(Format || (Format = {}));\nfunction getFormatCompFlags(fmt) {\n    return (fmt >>> 8) & 0xff;\n}\nfunction getFormatTypeFlags(fmt) {\n    return (fmt >>> 16) & 0xff;\n}\nfunction getFormatFlags(fmt) {\n    return fmt & 0xff;\n}\nfunction getFormatTypeFlagsByteSize(typeFlags) {\n    switch (typeFlags) {\n        case FormatTypeFlags.F32:\n        case FormatTypeFlags.U32:\n        case FormatTypeFlags.S32:\n            return 4;\n        case FormatTypeFlags.U16:\n        case FormatTypeFlags.S16:\n        case FormatTypeFlags.F16:\n            return 2;\n        case FormatTypeFlags.U8:\n        case FormatTypeFlags.S8:\n            return 1;\n        default:\n            throw new Error('whoops');\n    }\n}\n/**\n * Gets the byte size for an individual component.\n * e.g. for F32_RGB, this will return \"4\", since F32 has 4 bytes.\n */\nfunction getFormatCompByteSize(fmt) {\n    return getFormatTypeFlagsByteSize(getFormatTypeFlags(fmt));\n}\nfunction getFormatComponentCount(fmt) {\n    return getFormatCompFlagsComponentCount(getFormatCompFlags(fmt));\n}\nfunction getFormatByteSize(fmt) {\n    var typeByteSize = getFormatTypeFlagsByteSize(getFormatTypeFlags(fmt));\n    var componentCount = getFormatCompFlagsComponentCount(getFormatCompFlags(fmt));\n    return typeByteSize * componentCount;\n}\nfunction setFormatFlags(fmt, flags) {\n    return (fmt & 0xffffff00) | flags;\n}\nfunction setFormatComponentCount(fmt, compFlags) {\n    return (fmt & 0xffff00ff) | (compFlags << 8);\n}\nfunction getFormatSamplerKind(fmt) {\n    var flags = getFormatFlags(fmt);\n    if (flags & FormatFlags.Depth) {\n        return SamplerFormatKind.Depth;\n    }\n    if (flags & FormatFlags.Normalized) {\n        return SamplerFormatKind.Float;\n    }\n    var typeFlags = getFormatTypeFlags(fmt);\n    if (typeFlags === FormatTypeFlags.F16 || typeFlags === FormatTypeFlags.F32) {\n        return SamplerFormatKind.Float;\n    }\n    else if (typeFlags === FormatTypeFlags.U8 ||\n        typeFlags === FormatTypeFlags.U16 ||\n        typeFlags === FormatTypeFlags.U32) {\n        return SamplerFormatKind.Uint;\n    }\n    else if (typeFlags === FormatTypeFlags.S8 ||\n        typeFlags === FormatTypeFlags.S16 ||\n        typeFlags === FormatTypeFlags.S32) {\n        return SamplerFormatKind.Sint;\n    }\n    else {\n        throw new Error('whoops');\n    }\n}\n\nfunction assert(b, message) {\n    if (message === void 0) { message = ''; }\n    if (!b) {\n        // console.error(new Error().stack);\n        throw new Error(\"Assert fail: \".concat(message));\n    }\n}\nfunction assertExists(v) {\n    if (v !== undefined && v !== null)\n        return v;\n    else\n        throw new Error('Missing object');\n}\n\nfunction colorEqual(c0, c1) {\n    return c0.r === c1.r && c0.g === c1.g && c0.b === c1.b && c0.a === c1.a;\n}\nfunction colorCopy(dst, src) {\n    dst.r = src.r;\n    dst.g = src.g;\n    dst.b = src.b;\n    dst.a = src.a;\n}\nfunction colorNewCopy(src) {\n    var r = src.r, g = src.g, b = src.b, a = src.a;\n    return { r: r, g: g, b: b, a: a };\n}\nfunction colorNewFromRGBA(r, g, b, a) {\n    if (a === void 0) { a = 1.0; }\n    return { r: r, g: g, b: b, a: a };\n}\nvar TransparentBlack = colorNewFromRGBA(0, 0, 0, 0);\nvar OpaqueBlack = colorNewFromRGBA(0, 0, 0, 1);\nvar TransparentWhite = colorNewFromRGBA(1, 1, 1, 0);\nvar OpaqueWhite = colorNewFromRGBA(1, 1, 1, 1);\n\n/**\n * @see https://forum.babylonjs.com/t/reverse-depth-buffer-z-buffer/6905/2\n */\nvar IsDepthReversed = true;\nfunction reverseDepthForPerspectiveProjectionMatrix(m, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        m[10] = -m[10];\n        m[14] = -m[14];\n    }\n}\nfunction reverseDepthForOrthographicProjectionMatrix(m, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        m[10] = -m[10];\n        m[14] = -m[14] + 1;\n    }\n}\nfunction reverseDepthForCompareFunction(compareFunction, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        switch (compareFunction) {\n            case CompareFunction.LESS:\n                return CompareFunction.GREATER;\n            case CompareFunction.LEQUAL:\n                return CompareFunction.GEQUAL;\n            case CompareFunction.GEQUAL:\n                return CompareFunction.LEQUAL;\n            case CompareFunction.GREATER:\n                return CompareFunction.LESS;\n            default:\n                return compareFunction;\n        }\n    }\n    else {\n        return compareFunction;\n    }\n}\nfunction reverseDepthForClearValue(n, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        return 1.0 - n;\n    }\n    else {\n        return n;\n    }\n}\nfunction reverseDepthForDepthOffset(n, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        return -n;\n    }\n    else {\n        return n;\n    }\n}\nfunction compareDepthValues(a, b, op, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    op = reverseDepthForCompareFunction(op, isDepthReversed);\n    if (op === CompareFunction.LESS)\n        return a < b;\n    else if (op === CompareFunction.LEQUAL)\n        return a <= b;\n    else if (op === CompareFunction.GREATER)\n        return a > b;\n    else if (op === CompareFunction.GEQUAL)\n        return a >= b;\n    else\n        throw new Error('whoops');\n}\n\n// import { reverseDepthForCompareFunction } from './depth';\nfunction isPowerOfTwo(n) {\n    return !!(n && (n & (n - 1)) === 0);\n}\nfunction fallbackUndefined(v, fallback) {\n    return v !== null && v !== undefined ? v : fallback;\n}\nfunction nullify(v) {\n    return v === undefined ? null : v;\n}\nfunction fillArray(L, n, v) {\n    L.length = n;\n    L.fill(v);\n}\nfunction align(n, multiple) {\n    var mask = multiple - 1;\n    return (n + mask) & ~mask;\n}\nfunction alignNonPowerOfTwo(n, multiple) {\n    return (((n + multiple - 1) / multiple) | 0) * multiple;\n}\n// @see https://github.com/d3/d3-array#bisectRight\nfunction bisectRight(L, e, compare) {\n    var lo = 0, hi = L.length;\n    while (lo < hi) {\n        var mid = lo + ((hi - lo) >>> 1);\n        var cmp = compare(e, L[mid]);\n        if (cmp < 0)\n            hi = mid;\n        else\n            lo = mid + 1;\n    }\n    return lo;\n}\nfunction spliceBisectRight(L, e, compare) {\n    var idx = bisectRight(L, e, compare);\n    L.splice(idx, 0, e);\n}\nfunction setBitFlagEnabled(v, mask, enabled) {\n    if (enabled)\n        v |= mask;\n    else\n        v &= ~mask;\n    return v;\n}\nfunction nArray(n, c) {\n    var d = new Array(n);\n    for (var i = 0; i < n; i++)\n        d[i] = c();\n    return d;\n}\nfunction prependLineNo(str, lineStart) {\n    if (lineStart === void 0) { lineStart = 1; }\n    var lines = str.split('\\n');\n    return lines\n        .map(function (s, i) { return \"\".concat(leftPad('' + (lineStart + i), 4, ' '), \"  \").concat(s); })\n        .join('\\n');\n}\nfunction leftPad(S, spaces, ch) {\n    if (ch === void 0) { ch = '0'; }\n    while (S.length < spaces)\n        S = \"\".concat(ch).concat(S);\n    return S;\n}\nfunction range(start, count) {\n    var L = [];\n    for (var i = start; i < start + count; i++)\n        L.push(i);\n    return L;\n}\nfunction copyChannelBlendState(dst, src) {\n    dst.blendDstFactor = src.blendDstFactor;\n    dst.blendSrcFactor = src.blendSrcFactor;\n    dst.blendMode = src.blendMode;\n}\nfunction copyStencilFaceState(dst, src) {\n    if (dst === undefined) {\n        dst = {};\n    }\n    dst.compare = src.compare;\n    dst.depthFailOp = src.depthFailOp;\n    dst.passOp = src.passOp;\n    dst.failOp = src.failOp;\n    return dst;\n}\nfunction copyAttachmentState(dst, src) {\n    if (dst === undefined) {\n        dst = {\n            rgbBlendState: {},\n            alphaBlendState: {},\n            channelWriteMask: 0,\n        };\n    }\n    copyChannelBlendState(dst.rgbBlendState, src.rgbBlendState);\n    copyChannelBlendState(dst.alphaBlendState, src.alphaBlendState);\n    dst.channelWriteMask = src.channelWriteMask;\n    return dst;\n}\nfunction copyAttachmentsState(dst, src) {\n    if (dst.length !== src.length)\n        dst.length = src.length;\n    for (var i = 0; i < src.length; i++)\n        dst[i] = copyAttachmentState(dst[i], src[i]);\n}\nfunction setMegaStateFlags(dst, src) {\n    if (src.attachmentsState !== undefined) {\n        copyAttachmentsState(dst.attachmentsState, src.attachmentsState);\n    }\n    if (dst.blendConstant && src.blendConstant) {\n        colorCopy(dst.blendConstant, src.blendConstant);\n    }\n    dst.depthCompare = fallbackUndefined(src.depthCompare, dst.depthCompare);\n    dst.depthWrite = fallbackUndefined(src.depthWrite, dst.depthWrite);\n    dst.stencilWrite = fallbackUndefined(src.stencilWrite, dst.stencilWrite);\n    if (dst.stencilFront && src.stencilFront) {\n        copyStencilFaceState(dst.stencilFront, src.stencilFront);\n    }\n    if (dst.stencilBack && src.stencilBack) {\n        copyStencilFaceState(dst.stencilBack, src.stencilBack);\n    }\n    dst.cullMode = fallbackUndefined(src.cullMode, dst.cullMode);\n    dst.frontFace = fallbackUndefined(src.frontFace, dst.frontFace);\n    dst.polygonOffset = fallbackUndefined(src.polygonOffset, dst.polygonOffset);\n}\nfunction copyMegaState(src) {\n    var dst = Object.assign({}, src);\n    // Copy fields that need copying.\n    dst.attachmentsState = [];\n    copyAttachmentsState(dst.attachmentsState, src.attachmentsState);\n    dst.blendConstant = dst.blendConstant && colorNewCopy(dst.blendConstant);\n    dst.stencilFront = copyStencilFaceState(undefined, src.stencilFront);\n    dst.stencilBack = copyStencilFaceState(undefined, src.stencilBack);\n    return dst;\n}\nfunction copyAttachmentStateFromSimple(dst, src) {\n    if (src.channelWriteMask !== undefined) {\n        dst.channelWriteMask = src.channelWriteMask;\n    }\n    if (src.rgbBlendMode !== undefined) {\n        dst.rgbBlendState.blendMode = src.rgbBlendMode;\n    }\n    if (src.alphaBlendMode !== undefined) {\n        dst.alphaBlendState.blendMode = src.alphaBlendMode;\n    }\n    if (src.rgbBlendSrcFactor !== undefined) {\n        dst.rgbBlendState.blendSrcFactor = src.rgbBlendSrcFactor;\n    }\n    if (src.alphaBlendSrcFactor !== undefined) {\n        dst.alphaBlendState.blendSrcFactor = src.alphaBlendSrcFactor;\n    }\n    if (src.rgbBlendDstFactor !== undefined) {\n        dst.rgbBlendState.blendDstFactor = src.rgbBlendDstFactor;\n    }\n    if (src.alphaBlendDstFactor !== undefined) {\n        dst.alphaBlendState.blendDstFactor = src.alphaBlendDstFactor;\n    }\n}\nvar defaultBlendState = {\n    blendMode: BlendMode.ADD,\n    blendSrcFactor: BlendFactor.ONE,\n    blendDstFactor: BlendFactor.ZERO,\n};\nvar defaultMegaState = {\n    attachmentsState: [\n        {\n            channelWriteMask: ChannelWriteMask.ALL,\n            rgbBlendState: defaultBlendState,\n            alphaBlendState: defaultBlendState,\n        },\n    ],\n    blendConstant: colorNewCopy(TransparentBlack),\n    depthWrite: true,\n    depthCompare: CompareFunction.LEQUAL,\n    stencilWrite: false,\n    stencilFront: {\n        compare: CompareFunction.ALWAYS,\n        passOp: StencilOp.KEEP,\n        depthFailOp: StencilOp.KEEP,\n        failOp: StencilOp.KEEP,\n    },\n    stencilBack: {\n        compare: CompareFunction.ALWAYS,\n        passOp: StencilOp.KEEP,\n        depthFailOp: StencilOp.KEEP,\n        failOp: StencilOp.KEEP,\n    },\n    cullMode: CullMode.NONE,\n    frontFace: FrontFace.CCW,\n    polygonOffset: false,\n};\nfunction makeMegaState(other, src) {\n    if (other === void 0) { other = null; }\n    if (src === void 0) { src = defaultMegaState; }\n    var dst = copyMegaState(src);\n    if (other !== null)\n        setMegaStateFlags(dst, other);\n    return dst;\n}\nvar fullscreenMegaState = makeMegaState({ depthCompare: CompareFunction.ALWAYS, depthWrite: false }, defaultMegaState);\nfunction setAttachmentStateSimple(dst, simple) {\n    if (dst.attachmentsState === undefined) {\n        dst.attachmentsState = [];\n        copyAttachmentsState(dst.attachmentsState, defaultMegaState.attachmentsState);\n    }\n    copyAttachmentStateFromSimple(dst.attachmentsState[0], simple);\n    return dst;\n}\nvar defaultBindingLayoutSamplerDescriptor = {\n    texture: null,\n    sampler: null,\n    formatKind: SamplerFormatKind.Float,\n    dimension: TextureDimension.TEXTURE_2D,\n};\n\nfunction arrayEqual(a, b, e) {\n    if (a.length !== b.length)\n        return false;\n    for (var i = 0; i < a.length; i++)\n        if (!e(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction arrayCopy(a, copyFunc) {\n    var b = Array(a.length);\n    for (var i = 0; i < a.length; i++)\n        b[i] = copyFunc(a[i]);\n    return b;\n}\nfunction bufferBindingEquals(a, b) {\n    return (a.buffer === b.buffer &&\n        a.size === b.size &&\n        a.binding === b.binding &&\n        a.offset === b.offset);\n}\nfunction samplerBindingEquals(a, b) {\n    if (a === null)\n        return b === null;\n    if (b === null)\n        return false;\n    return (a.sampler === b.sampler &&\n        a.texture === b.texture &&\n        a.dimension === b.dimension &&\n        a.formatKind === b.formatKind &&\n        a.comparison === b.comparison);\n}\nfunction bindingsDescriptorEquals(a, b) {\n    a.samplerBindings = a.samplerBindings || [];\n    a.uniformBufferBindings = a.uniformBufferBindings || [];\n    b.samplerBindings = b.samplerBindings || [];\n    b.uniformBufferBindings = b.uniformBufferBindings || [];\n    if (a.samplerBindings.length !== b.samplerBindings.length)\n        return false;\n    if (!arrayEqual(a.samplerBindings, b.samplerBindings, samplerBindingEquals))\n        return false;\n    if (!arrayEqual(a.uniformBufferBindings, b.uniformBufferBindings, bufferBindingEquals))\n        return false;\n    return true;\n}\nfunction channelBlendStateEquals(a, b) {\n    return (a.blendMode == b.blendMode &&\n        a.blendSrcFactor === b.blendSrcFactor &&\n        a.blendDstFactor === b.blendDstFactor);\n}\nfunction attachmentStateEquals(a, b) {\n    if (!channelBlendStateEquals(a.rgbBlendState, b.rgbBlendState))\n        return false;\n    if (!channelBlendStateEquals(a.alphaBlendState, b.alphaBlendState))\n        return false;\n    if (a.channelWriteMask !== b.channelWriteMask)\n        return false;\n    return true;\n}\nfunction stencilFaceStateEquals(a, b) {\n    return (a.compare == b.compare &&\n        a.depthFailOp === b.depthFailOp &&\n        a.failOp === b.failOp &&\n        a.passOp === b.passOp);\n}\nfunction megaStateDescriptorEquals(a, b) {\n    if (!arrayEqual(a.attachmentsState, b.attachmentsState, attachmentStateEquals))\n        return false;\n    if (a.blendConstant &&\n        b.blendConstant &&\n        !colorEqual(a.blendConstant, b.blendConstant))\n        return false;\n    if (a.stencilFront &&\n        b.stencilFront &&\n        !stencilFaceStateEquals(a.stencilFront, b.stencilFront))\n        return false;\n    if (a.stencilBack &&\n        b.stencilBack &&\n        !stencilFaceStateEquals(a.stencilBack, b.stencilBack))\n        return false;\n    return (a.depthCompare === b.depthCompare &&\n        a.depthWrite === b.depthWrite &&\n        a.stencilWrite === b.stencilWrite &&\n        a.cullMode === b.cullMode &&\n        a.frontFace === b.frontFace &&\n        a.polygonOffset === b.polygonOffset);\n}\nfunction programEquals(a, b) {\n    return a.id === b.id;\n}\nfunction formatEquals(a, b) {\n    return a === b;\n}\nfunction renderPipelineDescriptorEquals(a, b) {\n    if (a.topology !== b.topology)\n        return false;\n    if (a.inputLayout !== b.inputLayout)\n        return false;\n    if (a.sampleCount !== b.sampleCount)\n        return false;\n    if (a.megaStateDescriptor &&\n        b.megaStateDescriptor &&\n        !megaStateDescriptorEquals(a.megaStateDescriptor, b.megaStateDescriptor))\n        return false;\n    if (!programEquals(a.program, b.program))\n        return false;\n    if (!arrayEqual(a.colorAttachmentFormats, b.colorAttachmentFormats, formatEquals))\n        return false;\n    if (a.depthStencilAttachmentFormat !== b.depthStencilAttachmentFormat)\n        return false;\n    return true;\n}\nfunction vertexAttributeDescriptorEquals(a, b) {\n    return (a.offset === b.offset &&\n        a.shaderLocation === b.shaderLocation &&\n        a.format === b.format &&\n        a.divisor === b.divisor);\n}\nfunction inputLayoutBufferDescriptorEquals(a, b) {\n    if (isNil(a))\n        return isNil(b);\n    if (isNil(b))\n        return false;\n    return (a.arrayStride === b.arrayStride &&\n        a.stepMode === b.stepMode &&\n        arrayEqual(a.attributes, b.attributes, vertexAttributeDescriptorEquals));\n}\nfunction inputLayoutDescriptorEquals(a, b) {\n    if (a.indexBufferFormat !== b.indexBufferFormat)\n        return false;\n    if (!arrayEqual(a.vertexBufferDescriptors, b.vertexBufferDescriptors, inputLayoutBufferDescriptorEquals))\n        return false;\n    if (!programEquals(a.program, b.program))\n        return false;\n    return true;\n}\nfunction samplerDescriptorEquals(a, b) {\n    return (a.addressModeU === b.addressModeU &&\n        a.addressModeV === b.addressModeV &&\n        a.minFilter === b.minFilter &&\n        a.magFilter === b.magFilter &&\n        a.mipmapFilter === b.mipmapFilter &&\n        a.lodMinClamp === b.lodMinClamp &&\n        a.lodMaxClamp === b.lodMaxClamp &&\n        a.maxAnisotropy === b.maxAnisotropy &&\n        a.compareFunction === b.compareFunction);\n}\nfunction samplerBindingCopy(a) {\n    var sampler = a.sampler;\n    var texture = a.texture;\n    var dimension = a.dimension;\n    var formatKind = a.formatKind;\n    var comparison = a.comparison;\n    return { sampler: sampler, texture: texture, dimension: dimension, formatKind: formatKind, comparison: comparison };\n}\nfunction bufferBindingCopy(a) {\n    var buffer = a.buffer;\n    var size = a.size;\n    var binding = a.binding;\n    var offset = a.offset;\n    return { binding: binding, buffer: buffer, offset: offset, size: size };\n}\nfunction bindingsDescriptorCopy(a) {\n    var samplerBindings = a.samplerBindings && arrayCopy(a.samplerBindings, samplerBindingCopy);\n    var uniformBufferBindings = a.uniformBufferBindings &&\n        arrayCopy(a.uniformBufferBindings, bufferBindingCopy);\n    return {\n        samplerBindings: samplerBindings,\n        uniformBufferBindings: uniformBufferBindings,\n        pipeline: a.pipeline,\n    };\n}\nfunction renderPipelineDescriptorCopy(a) {\n    var inputLayout = a.inputLayout;\n    var program = a.program;\n    var topology = a.topology;\n    var megaStateDescriptor = a.megaStateDescriptor && copyMegaState(a.megaStateDescriptor);\n    var colorAttachmentFormats = a.colorAttachmentFormats.slice();\n    var depthStencilAttachmentFormat = a.depthStencilAttachmentFormat;\n    var sampleCount = a.sampleCount;\n    return {\n        inputLayout: inputLayout,\n        megaStateDescriptor: megaStateDescriptor,\n        program: program,\n        topology: topology,\n        colorAttachmentFormats: colorAttachmentFormats,\n        depthStencilAttachmentFormat: depthStencilAttachmentFormat,\n        sampleCount: sampleCount,\n    };\n}\nfunction vertexAttributeDescriptorCopy(a) {\n    var shaderLocation = a.shaderLocation;\n    var format = a.format;\n    var offset = a.offset;\n    var divisor = a.divisor;\n    return {\n        shaderLocation: shaderLocation,\n        format: format,\n        offset: offset,\n        divisor: divisor,\n    };\n}\nfunction inputLayoutBufferDescriptorCopy(a) {\n    if (!isNil(a)) {\n        var arrayStride = a.arrayStride;\n        var stepMode = a.stepMode;\n        var attributes = arrayCopy(a.attributes, vertexAttributeDescriptorCopy);\n        return { arrayStride: arrayStride, stepMode: stepMode, attributes: attributes };\n    }\n    else {\n        return a;\n    }\n}\nfunction inputLayoutDescriptorCopy(a) {\n    var vertexBufferDescriptors = arrayCopy(a.vertexBufferDescriptors, inputLayoutBufferDescriptorCopy);\n    var indexBufferFormat = a.indexBufferFormat;\n    var program = a.program;\n    return {\n        vertexBufferDescriptors: vertexBufferDescriptors,\n        indexBufferFormat: indexBufferFormat,\n        program: program,\n    };\n}\n\nvar _a;\n// if array name then clean the array brackets\nvar UNIFORM_NAME_REGEXP = /([^[]*)(\\[[0-9]+\\])?/;\nfunction parseUniformName(name) {\n    // Shortcut to avoid redundant or bad matches\n    if (name[name.length - 1] !== ']') {\n        return {\n            name: name,\n            length: 1,\n            isArray: false,\n        };\n    }\n    var matches = name.match(UNIFORM_NAME_REGEXP);\n    if (!matches || matches.length < 2) {\n        throw new Error(\"Failed to parse GLSL uniform name \".concat(name));\n    }\n    return {\n        name: matches[1],\n        length: Number(matches[2]) || 1,\n        isArray: Boolean(matches[2]),\n    };\n}\nfunction getSamplerSetter() {\n    var cache = null;\n    return function (gl, location, \n    // eslint-disable-next-line\n    value) {\n        var update = cache !== value;\n        if (update) {\n            gl.uniform1i(location, value);\n            cache = value;\n        }\n        return update;\n    };\n}\nfunction getArraySetter(functionName, toArray, size, uniformSetter) {\n    var cache = null;\n    var cacheLength = null;\n    // eslint-disable-next-line\n    return function (gl, location, value) {\n        var arrayValue = toArray(value, size);\n        var length = arrayValue.length;\n        var update = false;\n        if (cache === null) {\n            cache = new Float32Array(length);\n            cacheLength = length;\n            update = true;\n        }\n        else {\n            assert(cacheLength === length, 'Uniform length cannot change.');\n            for (var i = 0; i < length; ++i) {\n                if (arrayValue[i] !== cache[i]) {\n                    update = true;\n                    break;\n                }\n            }\n        }\n        if (update) {\n            uniformSetter(gl, functionName, location, arrayValue);\n            cache.set(arrayValue);\n        }\n        return update;\n    };\n}\nfunction setVectorUniform(gl, functionName, location, \n// eslint-disable-next-line\nvalue) {\n    gl[functionName](location, value);\n}\nfunction setMatrixUniform(gl, functionName, location, \n// eslint-disable-next-line\nvalue) {\n    gl[functionName](location, false, value);\n}\nvar FLOAT_ARRAY = {};\nvar INT_ARRAY = {};\nvar UINT_ARRAY = {};\nvar array1 = [0];\nfunction toTypedArray(value, uniformLength, Type, \n// eslint-disable-next-line\ncache) {\n    // convert boolean uniforms to Number\n    if (uniformLength === 1 && typeof value === 'boolean') {\n        value = value ? 1 : 0;\n    }\n    if (Number.isFinite(value)) {\n        array1[0] = value;\n        value = array1;\n    }\n    var length = value.length;\n    if (value instanceof Type) {\n        return value;\n    }\n    var result = cache[length];\n    if (!result) {\n        result = new Type(length);\n        cache[length] = result;\n    }\n    for (var i = 0; i < length; i++) {\n        result[i] = value[i];\n    }\n    return result;\n}\nfunction toFloatArray(value, uniformLength) {\n    return toTypedArray(value, uniformLength, Float32Array, FLOAT_ARRAY);\n}\nfunction toIntArray(value, uniformLength) {\n    return toTypedArray(value, uniformLength, Int32Array, INT_ARRAY);\n}\nfunction toUIntArray(value, uniformLength) {\n    return toTypedArray(value, uniformLength, Uint32Array, UINT_ARRAY);\n}\nvar UNIFORM_SETTERS = (_a = {},\n    // WEBGL1\n    _a[GL.FLOAT] = getArraySetter.bind(null, 'uniform1fv', toFloatArray, 1, setVectorUniform),\n    _a[GL.FLOAT_VEC2] = getArraySetter.bind(null, 'uniform2fv', toFloatArray, 2, setVectorUniform),\n    _a[GL.FLOAT_VEC3] = getArraySetter.bind(null, 'uniform3fv', toFloatArray, 3, setVectorUniform),\n    _a[GL.FLOAT_VEC4] = getArraySetter.bind(null, 'uniform4fv', toFloatArray, 4, setVectorUniform),\n    _a[GL.INT] = getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform),\n    _a[GL.INT_VEC2] = getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform),\n    _a[GL.INT_VEC3] = getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform),\n    _a[GL.INT_VEC4] = getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform),\n    _a[GL.BOOL] = getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform),\n    _a[GL.BOOL_VEC2] = getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform),\n    _a[GL.BOOL_VEC3] = getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform),\n    _a[GL.BOOL_VEC4] = getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform),\n    // uniformMatrix(false): don't transpose the matrix\n    _a[GL.FLOAT_MAT2] = getArraySetter.bind(null, 'uniformMatrix2fv', toFloatArray, 4, setMatrixUniform),\n    _a[GL.FLOAT_MAT3] = getArraySetter.bind(null, 'uniformMatrix3fv', toFloatArray, 9, setMatrixUniform),\n    _a[GL.FLOAT_MAT4] = getArraySetter.bind(null, 'uniformMatrix4fv', toFloatArray, 16, setMatrixUniform),\n    // WEBGL2 - unsigned integers, irregular matrices, additional texture samplers\n    _a[GL.UNSIGNED_INT] = getArraySetter.bind(null, 'uniform1uiv', toUIntArray, 1, setVectorUniform),\n    _a[GL.UNSIGNED_INT_VEC2] = getArraySetter.bind(null, 'uniform2uiv', toUIntArray, 2, setVectorUniform),\n    _a[GL.UNSIGNED_INT_VEC3] = getArraySetter.bind(null, 'uniform3uiv', toUIntArray, 3, setVectorUniform),\n    _a[GL.UNSIGNED_INT_VEC4] = getArraySetter.bind(null, 'uniform4uiv', toUIntArray, 4, setVectorUniform),\n    // uniformMatrix(false): don't transpose the matrix\n    _a[GL.FLOAT_MAT2x3] = getArraySetter.bind(null, 'uniformMatrix2x3fv', toFloatArray, 6, setMatrixUniform),\n    _a[GL.FLOAT_MAT2x4] = getArraySetter.bind(null, 'uniformMatrix2x4fv', toFloatArray, 8, setMatrixUniform),\n    _a[GL.FLOAT_MAT3x2] = getArraySetter.bind(null, 'uniformMatrix3x2fv', toFloatArray, 6, setMatrixUniform),\n    _a[GL.FLOAT_MAT3x4] = getArraySetter.bind(null, 'uniformMatrix3x4fv', toFloatArray, 12, setMatrixUniform),\n    _a[GL.FLOAT_MAT4x2] = getArraySetter.bind(null, 'uniformMatrix4x2fv', toFloatArray, 8, setMatrixUniform),\n    _a[GL.FLOAT_MAT4x3] = getArraySetter.bind(null, 'uniformMatrix4x3fv', toFloatArray, 12, setMatrixUniform),\n    _a[GL.SAMPLER_2D] = getSamplerSetter,\n    _a[GL.SAMPLER_CUBE] = getSamplerSetter,\n    _a[GL.SAMPLER_3D] = getSamplerSetter,\n    _a[GL.SAMPLER_2D_SHADOW] = getSamplerSetter,\n    _a[GL.SAMPLER_2D_ARRAY] = getSamplerSetter,\n    _a[GL.SAMPLER_2D_ARRAY_SHADOW] = getSamplerSetter,\n    _a[GL.SAMPLER_CUBE_SHADOW] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_2D] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_3D] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_CUBE] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_2D_ARRAY] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_2D] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_3D] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_CUBE] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_2D_ARRAY] = getSamplerSetter,\n    _a);\nfunction getUniformSetter(gl, location, info) {\n    var setter = UNIFORM_SETTERS[info.type];\n    if (!setter) {\n        throw new Error(\"Unknown GLSL uniform type \".concat(info.type));\n    }\n    return setter().bind(null, gl, location);\n}\n\nvar dtypes = {\n    '[object Int8Array]': 5120,\n    '[object Int16Array]': 5122,\n    '[object Int32Array]': 5124,\n    '[object Uint8Array]': 5121,\n    '[object Uint8ClampedArray]': 5121,\n    '[object Uint16Array]': 5123,\n    '[object Uint32Array]': 5125,\n    '[object Float32Array]': 5126,\n    '[object Float64Array]': 5121,\n    '[object ArrayBuffer]': 5121,\n};\n// eslint-disable-next-line\nfunction isTypedArray(x) {\n    return Object.prototype.toString.call(x) in dtypes;\n}\n\n// const ES100_REPLACEMENTS: [RegExp, string][] = [\n//   // In GLSL 1.00 ES these functions are provided by an extension\n//   [/\\btexture(2D|2DProj|Cube)Lod\\(/g, 'texture$1LodEXT('],\n//   // Overloads in GLSL 3.00 map to individual functions. Note that we cannot\n//   // differentiate 2D,2DProj,Cube without type analysis so we choose the most common variant.\n//   [/\\btexture\\(/g, 'texture2D('],\n//   [/\\btextureLod\\(/g, 'texture2DLodEXT('],\n// ];\nfunction defineStr(k, v) {\n    return \"#define \".concat(k, \" \").concat(v);\n}\nfunction getDefines(shader) {\n    var defines = {};\n    shader.replace(/^\\s*#define\\s*(\\S*)\\s*(\\S*)\\s*$/gm, function (_, name, value) {\n        var v = Number(value);\n        defines[name] = isNaN(v) ? value : v;\n        return '';\n    });\n    return defines;\n}\nfunction getAttributeLocations(vert, defines) {\n    var locations = [];\n    vert.replace(/^\\s*layout\\(location\\s*=\\s*(\\S*)\\)\\s*in\\s+\\S+\\s*(.*);$/gm, function (_, location, name) {\n        var l = Number(location);\n        locations.push({ location: isNaN(l) ? defines[location] : l, name: name });\n        return '';\n    });\n    return locations;\n}\nfunction getUniforms(vert) {\n    var uniformNames = [];\n    var structs = [];\n    vert.replace(/\\s*struct\\s*(.*)\\s*{((?:\\s*.*\\s*)*?)};/g, function (_, type, uniformStr) {\n        var uniforms = [];\n        uniformStr\n            .trim()\n            .replace('\\r\\n', '\\n')\n            .split('\\n')\n            .forEach(function (line) {\n            var _a = __read(line.trim().split(/\\s+/), 2), type = _a[0], name = _a[1];\n            uniforms.push({\n                type: type.trim(),\n                name: name.replace(';', '').trim(),\n            });\n        });\n        structs.push({\n            type: type.trim(),\n            uniforms: uniforms,\n        });\n        return '';\n    });\n    vert.replace(/\\s*uniform\\s*.*\\s*{((?:\\s*.*\\s*)*?)};/g, function (_, uniforms) {\n        uniforms\n            .trim()\n            .replace('\\r\\n', '\\n')\n            .split('\\n')\n            .forEach(function (line) {\n            var result = line.trim().split(' ');\n            var type = result[0] || '';\n            var name = result[1] || '';\n            // DirectionalLight directionalLights[  NUM_DIR_LIGHTS ];\n            var isArray = name.indexOf('[') > -1;\n            name = name.replace(';', '').replace('[', '').trim();\n            // ignore conditional comments\n            if (type.startsWith('#')) {\n                return;\n            }\n            // account for structs\n            if (type) {\n                var struct = structs.find(function (struct) { return type === struct.type; });\n                if (struct) {\n                    if (isArray) {\n                        var _loop_1 = function (i) {\n                            struct.uniforms.forEach(function (uniform) {\n                                uniformNames.push(\"\".concat(name, \"[\").concat(i, \"].\").concat(uniform.name));\n                            });\n                        };\n                        for (var i = 0; i < 5; i++) {\n                            _loop_1(i);\n                        }\n                    }\n                    else {\n                        struct.uniforms.forEach(function (uniform) {\n                            uniformNames.push(\"\".concat(name, \".\").concat(uniform.name));\n                        });\n                    }\n                }\n            }\n            if (name) {\n                uniformNames.push(name);\n            }\n        });\n        return '';\n    });\n    return uniformNames;\n}\nfunction parseBinding(layout) {\n    if (layout === undefined)\n        return null;\n    var g = /binding\\s*=\\s*(\\d+)/.exec(layout);\n    if (g !== null) {\n        var bindingNum = parseInt(g[1], 10);\n        if (!Number.isNaN(bindingNum))\n            return bindingNum;\n    }\n    return null;\n}\nfunction getSeparateSamplerTypes(combinedSamplerType) {\n    var samplerType = '';\n    var textureType = combinedSamplerType;\n    // if (combinedSamplerType.endsWith(`Shadow`)) {\n    //   textureType = textureType.slice(0, -6);\n    //   samplerType = `Shadow`;\n    // }\n    return [textureType, samplerType];\n}\nfunction preprocessShader_GLSL(vendorInfo, type, source, defines, usePrecision) {\n    var _a;\n    if (defines === void 0) { defines = null; }\n    if (usePrecision === void 0) { usePrecision = true; }\n    var isGLSL100 = vendorInfo.glslVersion === '#version 100';\n    var useMRT = type === 'frag' &&\n        ((_a = source.match(/^\\s*layout\\(location\\s*=\\s*\\d*\\)\\s*out\\s+vec4\\s*(.*);$/gm)) === null || _a === void 0 ? void 0 : _a.length) > 1;\n    var lines = source\n        .replace('\\r\\n', '\\n')\n        .split('\\n')\n        .map(function (n) {\n        // Remove comments.\n        return n.replace(/[/][/].*$/, '');\n    })\n        .filter(function (n) {\n        // Filter whitespace.\n        var isEmpty = !n || /^\\s+$/.test(n);\n        return !isEmpty;\n    });\n    // #define KEY VAR\n    var definesString = '';\n    if (defines !== null)\n        definesString = Object.keys(defines)\n            .map(function (key) { return defineStr(key, defines[key]); })\n            .join('\\n');\n    var precision = lines.find(function (line) { return line.startsWith('precision'); }) ||\n        'precision mediump float;';\n    var rest = usePrecision\n        ? lines.filter(function (line) { return !line.startsWith('precision'); }).join('\\n')\n        : lines.join('\\n');\n    var extraDefines = '';\n    if (vendorInfo.viewportOrigin === ViewportOrigin.UPPER_LEFT) {\n        extraDefines += \"\".concat(defineStr(\"VIEWPORT_ORIGIN_TL\", \"1\"), \"\\n\");\n    }\n    if (vendorInfo.clipSpaceNearZ === ClipSpaceNearZ.ZERO) {\n        extraDefines += \"\".concat(defineStr(\"CLIPSPACE_NEAR_ZERO\", \"1\"), \"\\n\");\n    }\n    if (vendorInfo.explicitBindingLocations) {\n        var set_1 = 0, implicitBinding_1 = 0, location_1 = 0;\n        rest = rest.replace(/^(layout\\((.*)\\))?\\s*uniform(.+{)$/gm, function (substr, cap, layout, rest) {\n            var layout2 = layout ? \"\".concat(layout, \", \") : \"\";\n            return \"layout(\".concat(layout2, \"set = \").concat(set_1, \", binding = \").concat(implicitBinding_1++, \") uniform \").concat(rest);\n        });\n        // XXX(jstpierre): WebGPU now binds UBOs and textures in different sets as a porting hack, hrm...\n        set_1++;\n        implicitBinding_1 = 0;\n        assert(vendorInfo.separateSamplerTextures);\n        rest = rest.replace(/^(layout\\((.*)\\))?\\s*uniform sampler(\\w+) (.*);/gm, function (substr, cap, layout, combinedSamplerType, samplerName) {\n            var binding = parseBinding(layout);\n            if (binding === null)\n                binding = implicitBinding_1++;\n            var _a = __read(getSeparateSamplerTypes(combinedSamplerType), 2), textureType = _a[0], samplerType = _a[1];\n            return type === 'frag'\n                ? \"\\nlayout(set = \".concat(set_1, \", binding = \").concat(binding * 2 + 0, \") uniform texture\").concat(textureType, \" T_\").concat(samplerName, \";\\nlayout(set = \").concat(set_1, \", binding = \").concat(binding * 2 + 1, \") uniform sampler\").concat(samplerType, \" S_\").concat(samplerName, \";\").trim()\n                : '';\n        });\n        rest = rest.replace(type === 'frag' ? /^\\s*\\b(varying|in)\\b/gm : /^\\s*\\b(varying|out)\\b/gm, function (substr, tok) {\n            return \"layout(location = \".concat(location_1++, \") \").concat(tok);\n        });\n        /**\n         * @see https://github.com/gfx-rs/naga/issues/1994\n         */\n        extraDefines += \"\".concat(defineStr(\"gl_VertexID\", \"gl_VertexIndex\"), \"\\n\");\n        extraDefines += \"\".concat(defineStr(\"gl_InstanceID\", \"gl_InstanceIndex\"), \"\\n\");\n        // Workaround for Naga\n        // https://github.com/gfx-rs/naga/issues/1353\n        precision = precision.replace(/^precision (.*) sampler(.*);$/gm, '');\n    }\n    else {\n        var implicitBinding_2 = 0;\n        rest = rest.replace(/^(layout\\((.*)\\))?\\s*uniform sampler(\\w+) (.*);/gm, function (substr, cap, layout, combinedSamplerType, samplerName) {\n            var binding = parseBinding(layout);\n            if (binding === null)\n                binding = implicitBinding_2++;\n            return \"uniform sampler\".concat(combinedSamplerType, \" \").concat(samplerName, \"; // BINDING=\").concat(binding);\n        });\n    }\n    if (vendorInfo.separateSamplerTextures) {\n        rest = rest.replace(/\\bSAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            return \"sampler\".concat(combinedSamplerType, \"(T_\").concat(samplerName, \", S_\").concat(samplerName, \")\");\n        });\n        rest = rest.replace(/\\bTEXTURE\\((.*?)\\)/g, function (substr, samplerName) {\n            return \"T_\".concat(samplerName);\n        });\n    }\n    else {\n        var samplerNames_1 = [];\n        rest = rest.replace(/\\bSAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            samplerNames_1.push([samplerName, combinedSamplerType]);\n            return samplerName;\n        });\n        if (isGLSL100) {\n            samplerNames_1.forEach(function (_a) {\n                var _b = __read(_a, 2), samplerName = _b[0], combinedSamplerType = _b[1];\n                // texture(u_T) -> texture2D(u_T) or textureCube(u_T)\n                rest = rest.replace(new RegExp(\"texture\\\\(\".concat(samplerName), 'g'), function () {\n                    return \"texture\".concat(combinedSamplerType, \"(\").concat(samplerName);\n                });\n            });\n        }\n        rest = rest.replace(/\\bTEXTURE\\((.*?)\\)/g, function (substr, samplerName) {\n            return samplerName;\n        });\n    }\n    // using #define means we can't use `const in/out` in params\n    //   ${isGLSL100 && type === 'vert' ? '#define in attribute\\n#define out varying' : ''}\n    // ${isGLSL100 && type === 'frag' ? '#define in varying' : ''}\n    // headless-gl will throw the following error if we prepend `#version 100`:\n    // #version directive must occur before anything else, except for comments and white space\n    var concat = \"\".concat(isGLSL100 ? '' : vendorInfo.glslVersion, \"\\n\").concat(isGLSL100 && useMRT ? '#extension GL_EXT_draw_buffers : require\\n' : '', \"\\n\").concat(isGLSL100 && type === 'frag'\n        ? '#extension GL_OES_standard_derivatives : enable\\n'\n        : '').concat(usePrecision ? precision : '', \"\\n\").concat(extraDefines ? extraDefines : '').concat(definesString ? definesString + '\\n' : '', \"\\n\").concat(rest, \"\\n\").trim();\n    // out vec4 outputColor; -> layout(location = 0) out vec4 outputColor;\n    if (vendorInfo.explicitBindingLocations && type === 'frag') {\n        concat = concat.replace(/^\\b(out)\\b/g, function (substr, tok) {\n            return \"layout(location = 0) \".concat(tok);\n        });\n    }\n    // GLSL 300 -> 100\n    // @see https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2.html\n    if (isGLSL100) {\n        // in -> varying\n        if (type === 'frag') {\n            concat = concat.replace(/^\\s*in\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                return \"varying \".concat(dataType, \" \").concat(name, \";\\n\");\n            });\n        }\n        if (type === 'vert') {\n            // out -> varying\n            concat = concat.replace(/^\\s*out\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                return \"varying \".concat(dataType, \" \").concat(name, \";\\n\");\n            });\n            // in -> attribute\n            concat = concat.replace(\n            // /^\\s*layout\\(location\\s*=\\s*\\d*\\)\\s*in\\s*(.*)\\s*(.*);$/gm,\n            /^\\s*layout\\(location\\s*=\\s*\\S*\\)\\s*in\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                return \"attribute \".concat(dataType, \" \").concat(name, \";\\n\");\n            });\n        }\n        // interface blocks supported in GLSL ES 3.00 and above only\n        concat = concat.replace(/\\s*uniform\\s*.*\\s*{((?:\\s*.*\\s*)*?)};/g, function (substr, uniforms) {\n            return uniforms.trim().replace(/^.*$/gm, function (uniform) {\n                // eg. #ifdef\n                var trimmed = uniform.trim();\n                if (trimmed.startsWith('#')) {\n                    return trimmed;\n                }\n                return uniform ? \"uniform \".concat(trimmed) : '';\n            });\n        });\n        if (type === 'frag') {\n            if (useMRT) {\n                var gBuffers_1 = [];\n                concat = concat.replace(/^\\s*layout\\(location\\s*=\\s*\\d*\\)\\s*out\\s+vec4\\s*(.*);$/gm, function (_, buffer) {\n                    gBuffers_1.push(buffer);\n                    return \"vec4 \".concat(buffer, \";\\n\");\n                });\n                var lastIndexOfMain = concat.lastIndexOf('}');\n                concat =\n                    concat.substring(0, lastIndexOfMain) +\n                        \"\\n    \".concat(gBuffers_1\n                            .map(function (gBuffer, i) { return \"gl_FragData[\".concat(i, \"] = \").concat(gBuffer, \";\\n    \"); })\n                            .join('\\n')) +\n                        concat.substring(lastIndexOfMain);\n            }\n            else {\n                var glFragColor_1;\n                concat = concat.replace(/^\\s*out\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                    glFragColor_1 = name;\n                    return \"\".concat(dataType, \" \").concat(name, \";\\n\");\n                });\n                if (glFragColor_1) {\n                    var lastIndexOfMain = concat.lastIndexOf('}');\n                    concat =\n                        concat.substring(0, lastIndexOfMain) +\n                            \"\\n  gl_FragColor = vec4(\".concat(glFragColor_1, \");\\n\") +\n                            concat.substring(lastIndexOfMain);\n                }\n            }\n        }\n        // remove layout(location = 0)\n        concat = concat.replace(/^\\s*layout\\((.*)\\)/gm, '');\n        // replace texture with texture2D\n        // for (const [pattern, replacement] of ES100_REPLACEMENTS) {\n        //   concat = concat.replace(pattern, replacement);\n        // }\n    }\n    return concat;\n}\nfunction preprocessProgram_GLSL(vendorInfo, vert, frag, defines) {\n    if (defines === void 0) { defines = null; }\n    var preprocessedVert = preprocessShader_GLSL(vendorInfo, 'vert', vert, defines);\n    var preprocessedFrag = preprocessShader_GLSL(vendorInfo, 'frag', frag, defines);\n    return { vert: vert, frag: frag, preprocessedVert: preprocessedVert, preprocessedFrag: preprocessedFrag };\n}\n\nvar ResourceBase_GL = /** @class */ (function (_super) {\n    __extends(ResourceBase_GL, _super);\n    function ResourceBase_GL(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.device = device;\n        if (_this.device['resourceCreationTracker'] !== null) {\n            _this.device['resourceCreationTracker'].trackResourceCreated(_this);\n        }\n        return _this;\n    }\n    ResourceBase_GL.prototype.destroy = function () {\n        if (this.device['resourceCreationTracker'] !== null) {\n            this.device['resourceCreationTracker'].trackResourceDestroyed(this);\n        }\n    };\n    return ResourceBase_GL;\n}(EventEmitter));\n\nvar Bindings_GL = /** @class */ (function (_super) {\n    __extends(Bindings_GL, _super);\n    function Bindings_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Bindings;\n        var uniformBufferBindings = descriptor.uniformBufferBindings, samplerBindings = descriptor.samplerBindings;\n        _this.uniformBufferBindings = uniformBufferBindings || [];\n        _this.samplerBindings = samplerBindings || [];\n        _this.bindingLayouts = _this.createBindingLayouts();\n        return _this;\n    }\n    Bindings_GL.prototype.createBindingLayouts = function () {\n        var firstUniformBuffer = 0;\n        var firstSampler = 0;\n        var bindingLayoutTables = [];\n        // Support only 1 bindGroup for now.\n        var numUniformBuffers = this.uniformBufferBindings.length;\n        var numSamplers = this.samplerBindings.length;\n        bindingLayoutTables.push({\n            firstUniformBuffer: firstUniformBuffer,\n            numUniformBuffers: numUniformBuffers,\n            firstSampler: firstSampler,\n            numSamplers: numSamplers,\n        });\n        firstUniformBuffer += numUniformBuffers;\n        firstSampler += numSamplers;\n        return {\n            numUniformBuffers: firstUniformBuffer,\n            numSamplers: firstSampler,\n            bindingLayoutTables: bindingLayoutTables,\n        };\n    };\n    return Bindings_GL;\n}(ResourceBase_GL));\n\n// @see https://github.com/visgl/luma.gl/blob/30a1039573576d73641de7c1ba222e8992eb526e/modules/gltools/src/utils/webgl-checks.ts#L22\nfunction isWebGL2(gl) {\n    if (typeof WebGL2RenderingContext !== 'undefined' &&\n        gl instanceof WebGL2RenderingContext) {\n        return true;\n    }\n    // Look for debug contexts, headless gl etc\n    // @ts-ignore\n    return Boolean(gl && gl._version === 2);\n}\nfunction isTextureFormatCompressed(fmt) {\n    var typeFlags = getFormatTypeFlags(fmt);\n    switch (typeFlags) {\n        case FormatTypeFlags.BC1:\n        case FormatTypeFlags.BC2:\n        case FormatTypeFlags.BC3:\n        case FormatTypeFlags.BC4_UNORM:\n        case FormatTypeFlags.BC4_SNORM:\n        case FormatTypeFlags.BC5_UNORM:\n        case FormatTypeFlags.BC5_SNORM:\n            return true;\n        default:\n            return false;\n    }\n}\nfunction isFormatSizedInteger(fmt) {\n    var flags = getFormatFlags(fmt);\n    if (flags & FormatFlags.Normalized)\n        return false;\n    var typeFlags = getFormatTypeFlags(fmt);\n    // Check for integer types.\n    if (typeFlags === FormatTypeFlags.S8 ||\n        typeFlags === FormatTypeFlags.S16 ||\n        typeFlags === FormatTypeFlags.S32)\n        return true;\n    if (typeFlags === FormatTypeFlags.U8 ||\n        typeFlags === FormatTypeFlags.U16 ||\n        typeFlags === FormatTypeFlags.U32)\n        return true;\n    return false;\n}\nfunction translateBufferHint(hint) {\n    switch (hint) {\n        case BufferFrequencyHint.STATIC:\n            return GL.STATIC_DRAW;\n        case BufferFrequencyHint.DYNAMIC:\n            return GL.DYNAMIC_DRAW;\n    }\n}\nfunction translateBufferUsageToTarget(usage) {\n    if (usage & BufferUsage.INDEX) {\n        return GL.ELEMENT_ARRAY_BUFFER;\n    }\n    else if (usage & BufferUsage.VERTEX) {\n        return GL.ARRAY_BUFFER;\n    }\n    else if (usage & BufferUsage.UNIFORM) {\n        return GL.UNIFORM_BUFFER;\n    }\n}\nfunction translatePrimitiveTopology(topology) {\n    switch (topology) {\n        case PrimitiveTopology.TRIANGLES:\n            return GL.TRIANGLES;\n        case PrimitiveTopology.POINTS:\n            return GL.POINTS;\n        case PrimitiveTopology.TRIANGLE_STRIP:\n            return GL.TRIANGLE_STRIP;\n        case PrimitiveTopology.LINES:\n            return GL.LINES;\n        case PrimitiveTopology.LINE_STRIP:\n            return GL.LINE_STRIP;\n        default:\n            throw new Error('Unknown primitive topology mode');\n    }\n}\nfunction translateType(flags) {\n    switch (flags) {\n        case FormatTypeFlags.U8:\n            return GL.UNSIGNED_BYTE;\n        case FormatTypeFlags.U16:\n            return GL.UNSIGNED_SHORT;\n        case FormatTypeFlags.U32:\n            return GL.UNSIGNED_INT;\n        case FormatTypeFlags.S8:\n            return GL.BYTE;\n        case FormatTypeFlags.S16:\n            return GL.SHORT;\n        case FormatTypeFlags.S32:\n            return GL.INT;\n        case FormatTypeFlags.F16:\n            return GL.HALF_FLOAT;\n        case FormatTypeFlags.F32:\n            return GL.FLOAT;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateSize(flags) {\n    switch (flags) {\n        case FormatCompFlags.R:\n            return 1;\n        case FormatCompFlags.RG:\n            return 2;\n        case FormatCompFlags.RGB:\n            return 3;\n        case FormatCompFlags.RGBA:\n            return 4;\n        default:\n            return 1;\n    }\n}\nfunction translateVertexFormat$1(fmt) {\n    var typeFlags = getFormatTypeFlags(fmt);\n    var compFlags = getFormatCompFlags(fmt);\n    var flags = getFormatFlags(fmt);\n    var type = translateType(typeFlags);\n    var size = translateSize(compFlags);\n    var normalized = !!(flags & FormatFlags.Normalized);\n    return { size: size, type: type, normalized: normalized };\n}\nfunction translateIndexFormat$1(format) {\n    switch (format) {\n        case Format.U8_R:\n            return GL.UNSIGNED_BYTE;\n        case Format.U16_R:\n            return GL.UNSIGNED_SHORT;\n        case Format.U32_R:\n            return GL.UNSIGNED_INT;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateAddressMode$1(wrapMode) {\n    switch (wrapMode) {\n        case AddressMode.CLAMP_TO_EDGE:\n            return GL.CLAMP_TO_EDGE;\n        case AddressMode.REPEAT:\n            return GL.REPEAT;\n        case AddressMode.MIRRORED_REPEAT:\n            return GL.MIRRORED_REPEAT;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateFilterMode(filter, mipmapFilter) {\n    if (mipmapFilter === MipmapFilterMode.LINEAR &&\n        filter === FilterMode.BILINEAR) {\n        return GL.LINEAR_MIPMAP_LINEAR;\n    }\n    if (mipmapFilter === MipmapFilterMode.LINEAR && filter === FilterMode.POINT) {\n        return GL.NEAREST_MIPMAP_LINEAR;\n    }\n    if (mipmapFilter === MipmapFilterMode.NEAREST &&\n        filter === FilterMode.BILINEAR) {\n        return GL.LINEAR_MIPMAP_NEAREST;\n    }\n    if (mipmapFilter === MipmapFilterMode.NEAREST &&\n        filter === FilterMode.POINT) {\n        return GL.NEAREST_MIPMAP_NEAREST;\n    }\n    if (mipmapFilter === MipmapFilterMode.NO_MIP &&\n        filter === FilterMode.BILINEAR) {\n        return GL.LINEAR;\n    }\n    if (mipmapFilter === MipmapFilterMode.NO_MIP && filter === FilterMode.POINT) {\n        return GL.NEAREST;\n    }\n    throw new Error('Unknown texture filter mode');\n}\nfunction getPlatformBuffer$1(buffer_, byteOffset) {\n    if (byteOffset === void 0) { byteOffset = 0; }\n    var buffer = buffer_;\n    return buffer.gl_buffer_pages[(byteOffset / buffer.pageByteSize) | 0];\n}\nfunction getPlatformTexture(texture_) {\n    var texture = texture_;\n    return texture.gl_texture;\n}\nfunction getPlatformSampler$1(sampler_) {\n    var sampler = sampler_;\n    return sampler.gl_sampler;\n}\n// eslint-disable-next-line\nfunction assignPlatformName(o, name) {\n    o.name = name;\n    o.__SPECTOR_Metadata = { name: name };\n}\nfunction findall(haystack, needle) {\n    var results = [];\n    while (true) {\n        var result = needle.exec(haystack);\n        if (!result)\n            break;\n        results.push(result);\n    }\n    return results;\n}\nfunction isBlendStateNone(blendState) {\n    return (blendState.blendMode == BlendMode.ADD &&\n        blendState.blendSrcFactor == BlendFactor.ONE &&\n        blendState.blendDstFactor === BlendFactor.ZERO);\n}\nfunction translateQueryPoolType$1(type) {\n    switch (type) {\n        case QueryPoolType.OcclusionConservative:\n            return GL.ANY_SAMPLES_PASSED_CONSERVATIVE;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateTextureDimension$1(dimension) {\n    if (dimension === TextureDimension.TEXTURE_2D)\n        return GL.TEXTURE_2D;\n    else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n        return GL.TEXTURE_2D_ARRAY;\n    else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n        return GL.TEXTURE_CUBE_MAP;\n    else if (dimension === TextureDimension.TEXTURE_3D)\n        return GL.TEXTURE_3D;\n    else\n        throw new Error('whoops');\n}\nfunction isBlockCompressSized(w, h, bw, bh) {\n    if (w % bw !== 0)\n        return false;\n    if (h % bh !== 0)\n        return false;\n    return true;\n}\n\nvar Buffer_GL = /** @class */ (function (_super) {\n    __extends(Buffer_GL, _super);\n    function Buffer_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Buffer;\n        var viewOrSize = descriptor.viewOrSize, usage = descriptor.usage, _b = descriptor.hint, hint = _b === void 0 ? BufferFrequencyHint.STATIC : _b;\n        var uniformBufferMaxPageByteSize = device.uniformBufferMaxPageByteSize, gl = device.gl;\n        var isUBO = usage & BufferUsage.UNIFORM;\n        if (!isUBO) {\n            if (isWebGL2(gl)) {\n                // Temporarily unbind VAO when creating buffers to not stomp on the VAO configuration.\n                gl.bindVertexArray(null);\n            }\n            else {\n                device.OES_vertex_array_object.bindVertexArrayOES(null);\n            }\n        }\n        // const byteSize = isNumber(viewOrSize)\n        //   ? viewOrSize * 4\n        //   : viewOrSize.byteLength * 4;\n        var byteSize = isNumber(viewOrSize)\n            ? align(viewOrSize, 4)\n            : align(viewOrSize.byteLength, 4);\n        _this.gl_buffer_pages = [];\n        var pageByteSize;\n        if (isUBO) {\n            // assert(byteSize % uniformBufferMaxPageByteSize === 0);\n            var byteSizeLeft = byteSize;\n            while (byteSizeLeft > 0) {\n                _this.gl_buffer_pages.push(_this.createBufferPage(Math.min(byteSizeLeft, uniformBufferMaxPageByteSize), usage, hint));\n                byteSizeLeft -= uniformBufferMaxPageByteSize;\n            }\n            pageByteSize = uniformBufferMaxPageByteSize;\n            // TODO: uniform in WebGL1\n        }\n        else {\n            _this.gl_buffer_pages.push(_this.createBufferPage(byteSize, usage, hint));\n            pageByteSize = byteSize;\n        }\n        _this.pageByteSize = pageByteSize;\n        _this.byteSize = byteSize;\n        _this.usage = usage;\n        _this.gl_target = translateBufferUsageToTarget(usage);\n        // init data\n        if (!isNumber(viewOrSize)) {\n            _this.setSubData(0, new Uint8Array(viewOrSize.buffer));\n        }\n        if (!isUBO) {\n            if (isWebGL2(gl)) {\n                gl.bindVertexArray(_this.device['currentBoundVAO']);\n            }\n            else {\n                device.OES_vertex_array_object.bindVertexArrayOES(_this.device['currentBoundVAO']);\n            }\n        }\n        return _this;\n    }\n    Buffer_GL.prototype.setSubData = function (dstByteOffset, data, srcByteOffset, byteSize) {\n        if (srcByteOffset === void 0) { srcByteOffset = 0; }\n        if (byteSize === void 0) { byteSize = data.byteLength - srcByteOffset; }\n        var gl = this.device.gl;\n        var \n        // gl_target,\n        // byteSize: dstByteSize,\n        dstPageByteSize = this.pageByteSize;\n        // Account for setSubData being called with a dstByteOffset that is beyond the end of the buffer.\n        // if (isWebGL2(gl) && gl_target === gl.UNIFORM_BUFFER) {\n        //   // Manually check asserts for speed.\n        //   if (!(dstByteOffset % dstPageByteSize === 0))\n        //     throw new Error(\n        //       `Assert fail: (dstByteOffset [${dstByteOffset}] % dstPageByteSize [${dstPageByteSize}]) === 0`,\n        //     );\n        //   if (!(byteSize % dstPageByteSize === 0))\n        //     throw new Error(\n        //       `Assert fail: (byteSize [${byteSize}] % dstPageByteSize [${dstPageByteSize}]) === 0`,\n        //     );\n        // }\n        // if (!(dstByteOffset + byteSize <= dstByteSize)) {\n        //   throw new Error(\n        //     `Assert fail: (dstByteOffset [${dstByteOffset}] + byteSize [${byteSize}]) <= dstByteSize [${dstByteSize}], gl_target ${gl_target}`,\n        //   );\n        //   // exceed, need to recreate\n        // }\n        var virtBufferByteOffsetEnd = dstByteOffset + byteSize;\n        var virtBufferByteOffset = dstByteOffset;\n        var physBufferByteOffset = dstByteOffset % dstPageByteSize;\n        while (virtBufferByteOffset < virtBufferByteOffsetEnd) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bindBuffer#parameters\n            var target = isWebGL2(gl) ? gl.COPY_WRITE_BUFFER : this.gl_target;\n            var buffer = getPlatformBuffer$1(this, virtBufferByteOffset);\n            // @ts-ignore\n            if (buffer.ubo) {\n                return;\n            }\n            gl.bindBuffer(target, buffer);\n            // only WebGL2 support srcOffset & length\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bufferSubData\n            if (isWebGL2(gl)) {\n                gl.bufferSubData(target, physBufferByteOffset, data, srcByteOffset, Math.min(virtBufferByteOffsetEnd - virtBufferByteOffset, dstPageByteSize));\n            }\n            else {\n                gl.bufferSubData(target, physBufferByteOffset, data);\n            }\n            virtBufferByteOffset += dstPageByteSize;\n            physBufferByteOffset = 0;\n            srcByteOffset += dstPageByteSize;\n            this.device['debugGroupStatisticsBufferUpload']();\n        }\n    };\n    Buffer_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        for (var i = 0; i < this.gl_buffer_pages.length; i++) {\n            // no ubo in WebGL1\n            // @ts-ignore\n            if (!this.gl_buffer_pages[i].ubo) {\n                this.device.gl.deleteBuffer(this.gl_buffer_pages[i]);\n            }\n        }\n        this.gl_buffer_pages = [];\n    };\n    Buffer_GL.prototype.createBufferPage = function (byteSize, usage, hint) {\n        var gl = this.device.gl;\n        var isUBO = usage & BufferUsage.UNIFORM;\n        if (!isWebGL2(gl) && isUBO) {\n            return {\n                ubo: true,\n            };\n        }\n        else {\n            var gl_buffer = this.device.ensureResourceExists(gl.createBuffer());\n            var gl_target = translateBufferUsageToTarget(usage);\n            var gl_hint = translateBufferHint(hint);\n            gl.bindBuffer(gl_target, gl_buffer);\n            gl.bufferData(gl_target, byteSize, gl_hint);\n            return gl_buffer;\n        }\n    };\n    return Buffer_GL;\n}(ResourceBase_GL));\n\nvar InputLayout_GL = /** @class */ (function (_super) {\n    __extends(InputLayout_GL, _super);\n    function InputLayout_GL(_a) {\n        var e_1, _b, e_2, _c;\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _d;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.InputLayout;\n        var vertexBufferDescriptors = descriptor.vertexBufferDescriptors, indexBufferFormat = descriptor.indexBufferFormat, program = descriptor.program;\n        assert(indexBufferFormat === Format.U16_R ||\n            indexBufferFormat === Format.U32_R ||\n            indexBufferFormat === null);\n        var indexBufferType = indexBufferFormat !== null\n            ? translateIndexFormat$1(indexBufferFormat)\n            : null;\n        var indexBufferCompByteSize = indexBufferFormat !== null\n            ? getFormatCompByteSize(indexBufferFormat)\n            : null;\n        var gl = _this.device.gl;\n        var vao = _this.device.ensureResourceExists(isWebGL2(gl)\n            ? gl.createVertexArray()\n            : device.OES_vertex_array_object.createVertexArrayOES());\n        if (isWebGL2(gl)) {\n            gl.bindVertexArray(vao);\n        }\n        else {\n            device.OES_vertex_array_object.bindVertexArrayOES(vao);\n        }\n        gl.bindBuffer(gl.ARRAY_BUFFER, getPlatformBuffer$1(_this.device['fallbackVertexBuffer']));\n        try {\n            // const vertexBufferFormats = [];\n            for (var _e = __values(descriptor.vertexBufferDescriptors), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var vertexBufferDescriptor = _f.value;\n                var stepMode = vertexBufferDescriptor.stepMode, attributes = vertexBufferDescriptor.attributes;\n                try {\n                    for (var attributes_1 = (e_2 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {\n                        var attribute = attributes_1_1.value;\n                        var shaderLocation = attribute.shaderLocation, format = attribute.format, _g = attribute.divisor, divisor = _g === void 0 ? 1 : _g;\n                        // find location by name in WebGL1\n                        var location_1 = isWebGL2(gl)\n                            ? shaderLocation\n                            : (_d = program.attributes[shaderLocation]) === null || _d === void 0 ? void 0 : _d.location;\n                        var vertexFormat = translateVertexFormat$1(format);\n                        // @ts-ignore\n                        attribute.vertexFormat = vertexFormat;\n                        if (!isNil(location_1)) {\n                            if (isFormatSizedInteger(format)) {\n                                // See https://groups.google.com/d/msg/angleproject/yQb5DaCzcWg/Ova0E3wcAQAJ for more info.\n                                // console.warn(\"Vertex format uses sized integer types; this will cause a shader recompile on ANGLE platforms\");\n                                // debugger;\n                            }\n                            var size = vertexFormat.size, type = vertexFormat.type, normalized = vertexFormat.normalized;\n                            gl.vertexAttribPointer(location_1, size, type, normalized, 0, 0);\n                            if (stepMode === VertexStepMode.INSTANCE) {\n                                if (isWebGL2(gl)) {\n                                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/vertexAttribDivisor\n                                    gl.vertexAttribDivisor(location_1, divisor);\n                                }\n                                else {\n                                    device.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(location_1, divisor);\n                                }\n                            }\n                            gl.enableVertexAttribArray(location_1);\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (attributes_1_1 && !attributes_1_1.done && (_c = attributes_1.return)) _c.call(attributes_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (isWebGL2(gl)) {\n            gl.bindVertexArray(null);\n        }\n        else {\n            device.OES_vertex_array_object.bindVertexArrayOES(null);\n        }\n        _this.vertexBufferDescriptors = vertexBufferDescriptors;\n        _this.vao = vao;\n        _this.indexBufferFormat = indexBufferFormat;\n        _this.indexBufferType = indexBufferType;\n        _this.indexBufferCompByteSize = indexBufferCompByteSize;\n        _this.program = program;\n        return _this;\n    }\n    InputLayout_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.device['currentBoundVAO'] === this.vao) {\n            if (isWebGL2(this.device.gl)) {\n                this.device.gl.bindVertexArray(null);\n                this.device.gl.deleteVertexArray(this.vao);\n            }\n            else {\n                this.device.OES_vertex_array_object.bindVertexArrayOES(null);\n                this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao);\n            }\n            this.device['currentBoundVAO'] = null;\n        }\n    };\n    return InputLayout_GL;\n}(ResourceBase_GL));\n\nvar Texture_GL = /** @class */ (function (_super) {\n    __extends(Texture_GL, _super);\n    function Texture_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor, fake = _a.fake;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Texture;\n        // Default values.\n        descriptor = __assign({ dimension: TextureDimension.TEXTURE_2D, depthOrArrayLayers: 1, mipLevelCount: 1 }, descriptor);\n        var gl = _this.device.gl;\n        var gl_target;\n        var gl_texture;\n        var mipLevelCount = _this.clampmipLevelCount(descriptor);\n        _this.immutable = descriptor.usage === TextureUsage.RENDER_TARGET;\n        _this.pixelStore = descriptor.pixelStore;\n        _this.format = descriptor.format;\n        _this.dimension = descriptor.dimension;\n        _this.formatKind = getFormatSamplerKind(descriptor.format);\n        _this.width = descriptor.width;\n        _this.height = descriptor.height;\n        _this.depthOrArrayLayers = descriptor.depthOrArrayLayers;\n        _this.mipmaps = mipLevelCount >= 1;\n        if (!fake) {\n            gl_texture = _this.device.ensureResourceExists(gl.createTexture());\n            var gl_type = _this.device.translateTextureType(descriptor.format);\n            var internalformat = _this.device.translateTextureInternalFormat(descriptor.format);\n            _this.device.setActiveTexture(gl.TEXTURE0);\n            _this.device['currentTextures'][0] = null;\n            _this.preprocessImage();\n            if (descriptor.dimension === TextureDimension.TEXTURE_2D) {\n                gl_target = GL.TEXTURE_2D;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        // texStorage2D will create an immutable texture(fixed size)\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/texStorage2D\n                        // @see https://github.com/visgl/luma.gl/issues/193\n                        // @see https://github.com/WebGLSamples/WebGL2Samples/blob/master/samples/texture_immutable.html\n                        gl.texStorage2D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height);\n                    }\n                    else {\n                        // texImage2D: level must be 0 for DEPTH_COMPONENT format\n                        // const level = internalformat === GL.DEPTH_COMPONENT || this.isNPOT() ? 0 : mipLevelCount;\n                        var level = internalformat === GL.DEPTH_COMPONENT || _this.isNPOT() ? 0 : 0;\n                        if ((_this.format === Format.D32F || _this.format === Format.D24_S8) &&\n                            !isWebGL2(gl) &&\n                            !device.WEBGL_depth_texture) ;\n                        else {\n                            // if (!isWebGL2(gl)) {\n                            //   if (internalformat === GL.RGBA4) {\n                            //     internalformat = GL.RGBA;\n                            //   }\n                            // }\n                            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\n                            gl.texImage2D(gl_target, level, internalformat, descriptor.width, descriptor.height, 0, internalformat, gl_type, null);\n                            // @see https://stackoverflow.com/questions/21954036/dartweb-gl-render-warning-texture-bound-to-texture-unit-0-is-not-renderable\n                            // [.WebGL-0x106ad0400]RENDER WARNING: texture bound to texture unit 0 is not renderable. It might be non-power-of-2 or have incompatible texture filtering (maybe)?\n                            if (_this.mipmaps) {\n                                _this.mipmaps = false;\n                                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.LINEAR);\n                                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE);\n                                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE);\n                            }\n                        }\n                    }\n                }\n                assert(descriptor.depthOrArrayLayers === 1);\n            }\n            else if (descriptor.dimension === TextureDimension.TEXTURE_2D_ARRAY) {\n                gl_target = GL.TEXTURE_2D_ARRAY;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/texStorage3D\n                        gl.texStorage3D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height, descriptor.depthOrArrayLayers);\n                    }\n                }\n            }\n            else if (descriptor.dimension === TextureDimension.TEXTURE_3D) {\n                gl_target = GL.TEXTURE_3D;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        gl.texStorage3D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height, descriptor.depthOrArrayLayers);\n                    }\n                }\n            }\n            else if (descriptor.dimension === TextureDimension.TEXTURE_CUBE_MAP) {\n                gl_target = GL.TEXTURE_CUBE_MAP;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        gl.texStorage2D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height);\n                    }\n                }\n                assert(descriptor.depthOrArrayLayers === 6);\n            }\n            else {\n                throw new Error('whoops');\n            }\n        }\n        _this.gl_texture = gl_texture;\n        _this.gl_target = gl_target;\n        _this.mipLevelCount = mipLevelCount;\n        return _this;\n    }\n    Texture_GL.prototype.setImageData = function (levelDatas, lod) {\n        if (lod === void 0) { lod = 0; }\n        var gl = this.device.gl;\n        isTextureFormatCompressed(this.format);\n        // @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-2.md#3d-texture\n        var is3D = this.gl_target === GL.TEXTURE_3D ||\n            this.gl_target === GL.TEXTURE_2D_ARRAY;\n        var isCube = this.gl_target === GL.TEXTURE_CUBE_MAP;\n        var isTA = isTypedArray(levelDatas[0]);\n        this.device.setActiveTexture(gl.TEXTURE0);\n        this.device['currentTextures'][0] = null;\n        var data = levelDatas[0];\n        var width;\n        var height;\n        if (isTA) {\n            width = this.width;\n            height = this.height;\n        }\n        else {\n            // FIXME: Property 'width' does not exist on type 'TexImageSource'.\n            // Property 'width' does not exist on type 'VideoFrame'.\n            // @ts-ignore\n            width = data.width;\n            // @ts-ignore\n            height = data.height;\n            // update size\n            this.width = width;\n            this.height = height;\n        }\n        gl.bindTexture(this.gl_target, this.gl_texture);\n        var gl_format = this.device.translateTextureFormat(this.format);\n        var gl_type = this.device.translateTextureType(this.format);\n        this.preprocessImage();\n        for (var z = 0; z < this.depthOrArrayLayers; z++) {\n            var levelData = levelDatas[z];\n            var gl_target = this.gl_target;\n            if (isCube) {\n                gl_target = GL.TEXTURE_CUBE_MAP_POSITIVE_X + (z % 6);\n            }\n            if (this.immutable) {\n                // must use texSubImage2D instead of texImage2D, since texture is immutable\n                // @see https://stackoverflow.com/questions/56123201/unity-plugin-texture-is-immutable?rq=1\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texSubImage2D\n                gl.texSubImage2D(gl_target, lod, 0, 0, width, height, gl_format, gl_type, levelData);\n            }\n            else {\n                if (isWebGL2(gl)) {\n                    if (is3D) {\n                        gl.texImage3D(gl_target, lod, gl_format, width, height, this.depthOrArrayLayers, 0, // border must be 0\n                        gl_format, // TODO: can be different with gl_format\n                        gl_type, levelData);\n                    }\n                    else {\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\n                        gl.texImage2D(gl_target, lod, gl_format, width, height, 0, // border must be 0\n                        gl_format, // TODO: can be different with gl_format\n                        gl_type, levelData);\n                    }\n                }\n                else {\n                    // WebGL1: upload Array & Image separately\n                    if (isTA) {\n                        gl.texImage2D(gl_target, lod, gl_format, width, height, 0, gl_format, gl_type, levelData);\n                    }\n                    else {\n                        gl.texImage2D(gl_target, lod, gl_format, gl_format, gl_type, levelData);\n                    }\n                }\n            }\n        }\n        if (this.mipmaps) {\n            this.generateMipmap(is3D);\n        }\n    };\n    Texture_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.device.gl.deleteTexture(getPlatformTexture(this));\n    };\n    Texture_GL.prototype.clampmipLevelCount = function (descriptor) {\n        if (descriptor.dimension === TextureDimension.TEXTURE_2D_ARRAY &&\n            descriptor.depthOrArrayLayers > 1) {\n            var typeFlags = getFormatTypeFlags(descriptor.format);\n            if (typeFlags === FormatTypeFlags.BC1) {\n                // Chrome/ANGLE seems to have issues with compressed miplevels of size 1/2, so clamp before they arrive...\n                // https://bugs.chromium.org/p/angleproject/issues/detail?id=4056\n                var w = descriptor.width, h = descriptor.height;\n                for (var i = 0; i < descriptor.mipLevelCount; i++) {\n                    if (w <= 2 || h <= 2)\n                        return i - 1;\n                    w = Math.max((w / 2) | 0, 1);\n                    h = Math.max((h / 2) | 0, 1);\n                }\n            }\n        }\n        return descriptor.mipLevelCount;\n    };\n    Texture_GL.prototype.preprocessImage = function () {\n        var gl = this.device.gl;\n        if (this.pixelStore) {\n            if (this.pixelStore.unpackFlipY) {\n                gl.pixelStorei(GL.UNPACK_FLIP_Y_WEBGL, true);\n            }\n            if (this.pixelStore.packAlignment) {\n                gl.pixelStorei(GL.PACK_ALIGNMENT, this.pixelStore.packAlignment);\n            }\n            if (this.pixelStore.unpackAlignment) {\n                gl.pixelStorei(GL.UNPACK_ALIGNMENT, this.pixelStore.unpackAlignment);\n            }\n        }\n    };\n    Texture_GL.prototype.generateMipmap = function (is3D) {\n        if (is3D === void 0) { is3D = false; }\n        var gl = this.device.gl;\n        if (!isWebGL2(gl) && this.isNPOT()) {\n            return this;\n        }\n        if (this.gl_texture && this.gl_target) {\n            gl.bindTexture(this.gl_target, this.gl_texture);\n            if (is3D) {\n                gl.texParameteri(this.gl_target, GL.TEXTURE_BASE_LEVEL, 0);\n                gl.texParameteri(this.gl_target, GL.TEXTURE_MAX_LEVEL, Math.log2(this.width));\n                gl.texParameteri(this.gl_target, GL.TEXTURE_MIN_FILTER, GL.LINEAR_MIPMAP_LINEAR);\n                gl.texParameteri(this.gl_target, GL.TEXTURE_MAG_FILTER, GL.LINEAR);\n            }\n            else {\n                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.NEAREST_MIPMAP_LINEAR);\n            }\n            gl.generateMipmap(this.gl_target);\n            gl.bindTexture(this.gl_target, null);\n        }\n        return this;\n    };\n    Texture_GL.prototype.isNPOT = function () {\n        var gl = this.device.gl;\n        if (isWebGL2(gl)) {\n            // NPOT restriction is only for WebGL1\n            return false;\n        }\n        return !isPowerOfTwo(this.width) || !isPowerOfTwo(this.height);\n    };\n    return Texture_GL;\n}(ResourceBase_GL));\n\nvar RenderTarget_GL = /** @class */ (function (_super) {\n    __extends(RenderTarget_GL, _super);\n    function RenderTarget_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.RenderTarget;\n        _this.gl_renderbuffer = null;\n        _this.texture = null;\n        var gl = _this.device.gl;\n        var format = descriptor.format, width = descriptor.width, height = descriptor.height, _b = descriptor.sampleCount, sampleCount = _b === void 0 ? 1 : _b, texture = descriptor.texture;\n        var useRenderbuffer = false;\n        // @see https://blog.tojicode.com/2012/07/using-webgldepthtexture.html\n        if ((format === Format.D32F || format === Format.D24_S8) &&\n            texture &&\n            !isWebGL2(gl) &&\n            !device.WEBGL_depth_texture) {\n            texture.destroy();\n            _this.texture = null;\n            useRenderbuffer = true;\n        }\n        if (!useRenderbuffer && texture) {\n            _this.texture = texture;\n        }\n        else {\n            _this.gl_renderbuffer = _this.device.ensureResourceExists(gl.createRenderbuffer());\n            gl.bindRenderbuffer(gl.RENDERBUFFER, _this.gl_renderbuffer);\n            var gl_format = _this.device.translateTextureInternalFormat(format, true);\n            if (isWebGL2(gl)) {\n                if (sampleCount > 1) {\n                    // @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-2.md#multisampled-renderbuffers\n                    gl.renderbufferStorageMultisample(GL.RENDERBUFFER, sampleCount, gl_format, width, height);\n                }\n                else {\n                    gl.renderbufferStorage(GL.RENDERBUFFER, gl_format, width, height);\n                }\n            }\n            else {\n                // WebGL1 can only use FXAA or other post-processing methods\n                gl.renderbufferStorage(GL.RENDERBUFFER, gl_format, width, height);\n            }\n        }\n        _this.format = format;\n        _this.width = width;\n        _this.height = height;\n        _this.sampleCount = sampleCount;\n        return _this;\n    }\n    RenderTarget_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.gl_renderbuffer !== null) {\n            this.device.gl.deleteRenderbuffer(this.gl_renderbuffer);\n        }\n        if (this.texture) {\n            this.texture.destroy();\n        }\n    };\n    return RenderTarget_GL;\n}(ResourceBase_GL));\n\n// const quadVert = `\n// layout(location = 0) in vec2 a_Position;\n// out vec2 v_TexCoord;\n// void main() {\n//   v_TexCoord = 0.5 * (a_Position + 1.0);\n//   gl_Position = vec4(a_Position, 0., 1.);\n//   #ifdef VIEWPORT_ORIGIN_TL\n//     v_TexCoord.y = 1.0 - v_TexCoord.y;\n//   #endif\n// }\n// `;\nvar ProgramCompileState_GL;\n(function (ProgramCompileState_GL) {\n    ProgramCompileState_GL[ProgramCompileState_GL[\"NeedsCompile\"] = 0] = \"NeedsCompile\";\n    ProgramCompileState_GL[ProgramCompileState_GL[\"Compiling\"] = 1] = \"Compiling\";\n    ProgramCompileState_GL[ProgramCompileState_GL[\"NeedsBind\"] = 2] = \"NeedsBind\";\n    ProgramCompileState_GL[ProgramCompileState_GL[\"ReadyToUse\"] = 3] = \"ReadyToUse\";\n})(ProgramCompileState_GL || (ProgramCompileState_GL = {}));\nvar Program_GL = /** @class */ (function (_super) {\n    __extends(Program_GL, _super);\n    function Program_GL(_a, rawVertexGLSL) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.rawVertexGLSL = rawVertexGLSL;\n        _this.type = ResourceType.Program;\n        // eslint-disable-next-line\n        _this.uniformSetters = {};\n        _this.attributes = [];\n        var gl = _this.device.gl;\n        _this.descriptor = descriptor;\n        _this.gl_program = _this.device.ensureResourceExists(gl.createProgram());\n        _this.gl_shader_vert = null;\n        _this.gl_shader_frag = null;\n        _this.compileState = ProgramCompileState_GL.NeedsCompile;\n        _this.tryCompileProgram();\n        return _this;\n    }\n    Program_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.device.gl.deleteProgram(this.gl_program);\n        this.device.gl.deleteShader(this.gl_shader_vert);\n        this.device.gl.deleteShader(this.gl_shader_frag);\n    };\n    Program_GL.prototype.tryCompileProgram = function () {\n        var _a, _b;\n        assert(this.compileState === ProgramCompileState_GL.NeedsCompile);\n        var descriptor = this.descriptor;\n        var gl = this.device.gl;\n        // if (this.gl_shader_vert !== null) gl.deleteShader(this.gl_shader_vert);\n        // if (this.gl_shader_frag !== null) gl.deleteShader(this.gl_shader_frag);\n        if (((_a = descriptor.vertex) === null || _a === void 0 ? void 0 : _a.glsl) && ((_b = descriptor.fragment) === null || _b === void 0 ? void 0 : _b.glsl)) {\n            this.gl_shader_vert = this.compileShader(descriptor.vertex.glsl, gl.VERTEX_SHADER);\n            this.gl_shader_frag = this.compileShader(descriptor.fragment.glsl, gl.FRAGMENT_SHADER);\n            gl.attachShader(this.gl_program, this.gl_shader_vert);\n            gl.attachShader(this.gl_program, this.gl_shader_frag);\n            gl.linkProgram(this.gl_program);\n            this.compileState = ProgramCompileState_GL.Compiling;\n            if (!isWebGL2(gl)) {\n                // extract uniforms\n                this.readUniformLocationsFromLinkedProgram();\n                // extract attributes\n                this.readAttributesFromLinkedProgram();\n            }\n        }\n    };\n    Program_GL.prototype.readAttributesFromLinkedProgram = function () {\n        var _a;\n        var gl = this.device.gl;\n        var count = gl.getProgramParameter(this.gl_program, gl.ACTIVE_ATTRIBUTES);\n        var defines = getDefines(this.descriptor.vertex.glsl);\n        var locations = getAttributeLocations(\n        // Use raw GLSL\n        this.rawVertexGLSL, defines);\n        var _loop_1 = function (index) {\n            var _b = gl.getActiveAttrib(this_1.gl_program, index), name_1 = _b.name, type = _b.type, size = _b.size;\n            var location_1 = gl.getAttribLocation(this_1.gl_program, name_1);\n            var definedLocation = (_a = locations.find(function (l) { return l.name === name_1; })) === null || _a === void 0 ? void 0 : _a.location;\n            // Add only user provided attributes, for built-in attributes like\n            // `gl_InstanceID` locaiton will be < 0\n            if (location_1 >= 0 && !isNil(definedLocation)) {\n                this_1.attributes[definedLocation] = {\n                    name: name_1,\n                    location: location_1,\n                    type: type,\n                    size: size,\n                };\n            }\n        };\n        var this_1 = this;\n        for (var index = 0; index < count; index++) {\n            _loop_1(index);\n        }\n    };\n    Program_GL.prototype.readUniformLocationsFromLinkedProgram = function () {\n        var gl = this.device.gl;\n        var numUniforms = gl.getProgramParameter(this.gl_program, gl.ACTIVE_UNIFORMS);\n        for (var i = 0; i < numUniforms; i++) {\n            var info = gl.getActiveUniform(this.gl_program, i);\n            var name_2 = parseUniformName(info.name).name;\n            var location_2 = gl.getUniformLocation(this.gl_program, name_2);\n            this.uniformSetters[name_2] = getUniformSetter(gl, location_2, info);\n            if (info && info.size > 1) {\n                for (var l = 0; l < info.size; l++) {\n                    location_2 = gl.getUniformLocation(this.gl_program, \"\".concat(name_2, \"[\").concat(l, \"]\"));\n                    this.uniformSetters[\"\".concat(name_2, \"[\").concat(l, \"]\")] = getUniformSetter(gl, location_2, info);\n                }\n            }\n        }\n    };\n    Program_GL.prototype.compileShader = function (contents, type) {\n        var gl = this.device.gl;\n        var shader = this.device.ensureResourceExists(gl.createShader(type));\n        gl.shaderSource(shader, contents);\n        gl.compileShader(shader);\n        return shader;\n    };\n    // eslint-disable-next-line\n    Program_GL.prototype.setUniformsLegacy = function (uniforms) {\n        if (uniforms === void 0) { uniforms = {}; }\n        var gl = this.device.gl;\n        if (!isWebGL2(gl)) {\n            var programUsed = false;\n            for (var uniformName in uniforms) {\n                if (!programUsed) {\n                    gl.useProgram(this.gl_program);\n                    programUsed = true;\n                }\n                var uniform = uniforms[uniformName];\n                var uniformSetter = this.uniformSetters[uniformName];\n                if (uniformSetter) {\n                    var value = uniform;\n                    if (value instanceof Texture_GL) {\n                        value = value.textureIndex;\n                    }\n                    uniformSetter(value);\n                }\n            }\n        }\n        return this;\n    };\n    return Program_GL;\n}(ResourceBase_GL));\n\nvar QueryPool_GL = /** @class */ (function (_super) {\n    __extends(QueryPool_GL, _super);\n    function QueryPool_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.QueryPool;\n        var gl = _this.device.gl;\n        if (isWebGL2(gl)) {\n            var elemCount = descriptor.elemCount, type = descriptor.type;\n            _this.gl_query = nArray(elemCount, function () {\n                return _this.device.ensureResourceExists(gl.createQuery());\n            });\n            _this.gl_query_type = translateQueryPoolType$1(type);\n        }\n        return _this;\n    }\n    QueryPool_GL.prototype.queryResultOcclusion = function (dstOffs) {\n        var gl = this.device.gl;\n        if (isWebGL2(gl)) {\n            var gl_query = this.gl_query[dstOffs];\n            if (!gl.getQueryParameter(gl_query, gl.QUERY_RESULT_AVAILABLE)) {\n                return null;\n            }\n            return !!gl.getQueryParameter(gl_query, gl.QUERY_RESULT);\n        }\n        return null;\n    };\n    QueryPool_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        var gl = this.device.gl;\n        if (isWebGL2(gl)) {\n            for (var i = 0; i < this.gl_query.length; i++) {\n                gl.deleteQuery(this.gl_query[i]);\n            }\n        }\n    };\n    return QueryPool_GL;\n}(ResourceBase_GL));\n\nvar Readback_GL = /** @class */ (function (_super) {\n    __extends(Readback_GL, _super);\n    function Readback_GL(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Readback;\n        _this.gl_pbo = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLSync\n        _this.gl_sync = null;\n        return _this;\n    }\n    Readback_GL.prototype.clientWaitAsync = function (sync, flags, interval_ms) {\n        if (flags === void 0) { flags = 0; }\n        if (interval_ms === void 0) { interval_ms = 10; }\n        var gl = this.device.gl;\n        return new Promise(function (resolve, reject) {\n            function test() {\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/clientWaitSync\n                var res = gl.clientWaitSync(sync, flags, 0);\n                if (res == gl.WAIT_FAILED) {\n                    reject();\n                    return;\n                }\n                if (res == gl.TIMEOUT_EXPIRED) {\n                    setTimeout(test, clamp(interval_ms, 0, gl.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));\n                    return;\n                }\n                resolve();\n            }\n            test();\n        });\n    };\n    Readback_GL.prototype.getBufferSubDataAsync = function (target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n        return __awaiter(this, void 0, void 0, function () {\n            var gl;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        gl = this.device.gl;\n                        if (!isWebGL2(gl)) return [3 /*break*/, 2];\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/fenceSync\n                        this.gl_sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n                        gl.flush();\n                        return [4 /*yield*/, this.clientWaitAsync(this.gl_sync, 0, 10)];\n                    case 1:\n                        _a.sent();\n                        gl.bindBuffer(target, buffer);\n                        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n                        gl.bindBuffer(target, null);\n                        return [2 /*return*/, dstBuffer];\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_non-blocking_async_data_readback\n     */\n    Readback_GL.prototype.readTexture = function (t, x, y, width, height, dstBuffer, dstOffset, length) {\n        if (dstOffset === void 0) { dstOffset = 0; }\n        if (length === void 0) { length = dstBuffer.byteLength || 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            var gl, texture, gl_format, gl_type, formatByteSize;\n            return __generator(this, function (_a) {\n                gl = this.device.gl;\n                texture = t;\n                gl_format = this.device.translateTextureFormat(texture.format);\n                gl_type = this.device.translateTextureType(texture.format);\n                formatByteSize = getFormatByteSize(texture.format);\n                if (isWebGL2(gl)) {\n                    this.gl_pbo = this.device.ensureResourceExists(gl.createBuffer());\n                    // PIXEL_PACK_BUFFER: Buffer used for pixel transfer operations\n                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bindBuffer\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, this.gl_pbo);\n                    // STREAM_READ: The contents are intended to be specified once by reading data from WebGL, and queried at most a few times by the application\n                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bufferData\n                    gl.bufferData(gl.PIXEL_PACK_BUFFER, length, gl.STREAM_READ);\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n                    gl.bindFramebuffer(GL.READ_FRAMEBUFFER, this.device['readbackFramebuffer']);\n                    gl.framebufferTexture2D(GL.READ_FRAMEBUFFER, GL.COLOR_ATTACHMENT0, GL.TEXTURE_2D, texture.gl_texture, 0);\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, this.gl_pbo);\n                    gl.readPixels(x, y, width, height, gl_format, gl_type, dstOffset * formatByteSize);\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n                    return [2 /*return*/, this.getBufferSubDataAsync(gl.PIXEL_PACK_BUFFER, this.gl_pbo, 0, dstBuffer, dstOffset, 0)];\n                }\n                else {\n                    return [2 /*return*/, this.readTextureSync(t, x, y, width, height, dstBuffer, dstOffset, length)];\n                }\n            });\n        });\n    };\n    Readback_GL.prototype.readTextureSync = function (t, x, y, width, height, dstBuffer, dstOffset, length) {\n        if (length === void 0) { length = dstBuffer.byteLength || 0; }\n        var gl = this.device.gl;\n        var texture = t;\n        var gl_type = this.device.translateTextureType(texture.format);\n        gl.bindFramebuffer(GL.FRAMEBUFFER, this.device['readbackFramebuffer']);\n        gl.framebufferTexture2D(GL.FRAMEBUFFER, GL.COLOR_ATTACHMENT0, GL.TEXTURE_2D, texture.gl_texture, 0);\n        // slow requires roundtrip to GPU\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/pixelStorei\n        gl.pixelStorei(gl.PACK_ALIGNMENT, 4);\n        gl.readPixels(x, y, width, height, gl.RGBA, gl_type, dstBuffer);\n        return dstBuffer;\n    };\n    Readback_GL.prototype.readBuffer = function (b, srcByteOffset, dstBuffer, dstOffset, length) {\n        return __awaiter(this, void 0, void 0, function () {\n            var gl;\n            return __generator(this, function (_a) {\n                gl = this.device.gl;\n                if (isWebGL2(gl)) {\n                    return [2 /*return*/, this.getBufferSubDataAsync(gl.ARRAY_BUFFER, getPlatformBuffer$1(b, srcByteOffset), srcByteOffset, dstBuffer, dstOffset, length)];\n                }\n                // TODO: WebGL1\n                return [2 /*return*/, Promise.reject()];\n            });\n        });\n    };\n    Readback_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (isWebGL2(this.device.gl)) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/deleteSync\n            if (this.gl_sync !== null) {\n                this.device.gl.deleteSync(this.gl_sync);\n            }\n            if (this.gl_pbo !== null) {\n                this.device.gl.deleteBuffer(this.gl_pbo);\n            }\n        }\n    };\n    return Readback_GL;\n}(ResourceBase_GL));\n\nvar RenderPipeline_GL = /** @class */ (function (_super) {\n    __extends(RenderPipeline_GL, _super);\n    function RenderPipeline_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _b, _c;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.RenderPipeline;\n        _this.drawMode = translatePrimitiveTopology((_b = descriptor.topology) !== null && _b !== void 0 ? _b : PrimitiveTopology.TRIANGLES);\n        _this.program = descriptor.program;\n        _this.inputLayout = descriptor.inputLayout;\n        _this.megaState = __assign(__assign({}, copyMegaState(defaultMegaState)), descriptor.megaStateDescriptor);\n        _this.colorAttachmentFormats = descriptor.colorAttachmentFormats.slice();\n        _this.depthStencilAttachmentFormat = descriptor.depthStencilAttachmentFormat;\n        _this.sampleCount = (_c = descriptor.sampleCount) !== null && _c !== void 0 ? _c : 1;\n        return _this;\n    }\n    return RenderPipeline_GL;\n}(ResourceBase_GL));\n\nvar ComputePipeline_GL = /** @class */ (function (_super) {\n    __extends(ComputePipeline_GL, _super);\n    function ComputePipeline_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.ComputePipeline;\n        _this.descriptor = descriptor;\n        return _this;\n        // const program = descriptor.program as Program_GL;\n    }\n    return ComputePipeline_GL;\n}(ResourceBase_GL));\n\nvar ResourceCreationTracker = /** @class */ (function () {\n    function ResourceCreationTracker() {\n        this.liveObjects = new Set();\n        this.creationStacks = new Map();\n        this.deletionStacks = new Map();\n    }\n    ResourceCreationTracker.prototype.trackResourceCreated = function (o) {\n        this.creationStacks.set(o, new Error().stack);\n        this.liveObjects.add(o);\n    };\n    ResourceCreationTracker.prototype.trackResourceDestroyed = function (o) {\n        if (this.deletionStacks.has(o))\n            console.warn(\"Object double freed:\", o, \"\\n\\nCreation stack: \", this.creationStacks.get(o), \"\\n\\nDeletion stack: \", this.deletionStacks.get(o), \"\\n\\nThis stack: \", new Error().stack);\n        this.deletionStacks.set(o, new Error().stack);\n        this.liveObjects.delete(o);\n    };\n    ResourceCreationTracker.prototype.checkForLeaks = function () {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.liveObjects.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var o = _c.value;\n                console.warn('Object leaked:', o, 'Creation stack:', this.creationStacks.get(o));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    ResourceCreationTracker.prototype.setResourceLeakCheck = function (o, v) {\n        if (v) {\n            this.liveObjects.add(o);\n        }\n        else {\n            this.liveObjects.delete(o);\n        }\n    };\n    return ResourceCreationTracker;\n}());\n\n/**\n * In WebGL 1 texture image data and sampling information are both stored in texture objects\n * @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-2.md#sampler-objects\n */\nvar Sampler_GL = /** @class */ (function (_super) {\n    __extends(Sampler_GL, _super);\n    function Sampler_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _b, _c;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Sampler;\n        var gl = _this.device.gl;\n        if (isWebGL2(gl)) {\n            var gl_sampler = _this.device.ensureResourceExists(gl.createSampler());\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_WRAP_S, translateAddressMode$1(descriptor.addressModeU));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_WRAP_T, translateAddressMode$1(descriptor.addressModeV));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_WRAP_R, translateAddressMode$1((_b = descriptor.addressModeW) !== null && _b !== void 0 ? _b : descriptor.addressModeU));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_MIN_FILTER, translateFilterMode(descriptor.minFilter, descriptor.mipmapFilter));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_MAG_FILTER, translateFilterMode(descriptor.magFilter, MipmapFilterMode.NO_MIP));\n            if (descriptor.lodMinClamp !== undefined) {\n                gl.samplerParameterf(gl_sampler, GL.TEXTURE_MIN_LOD, descriptor.lodMinClamp);\n            }\n            if (descriptor.lodMaxClamp !== undefined) {\n                gl.samplerParameterf(gl_sampler, GL.TEXTURE_MAX_LOD, descriptor.lodMaxClamp);\n            }\n            if (descriptor.compareFunction !== undefined) {\n                gl.samplerParameteri(gl_sampler, gl.TEXTURE_COMPARE_MODE, gl.COMPARE_REF_TO_TEXTURE);\n                gl.samplerParameteri(gl_sampler, gl.TEXTURE_COMPARE_FUNC, descriptor.compareFunction);\n            }\n            var maxAnisotropy = (_c = descriptor.maxAnisotropy) !== null && _c !== void 0 ? _c : 1;\n            if (maxAnisotropy > 1 &&\n                _this.device.EXT_texture_filter_anisotropic !== null) {\n                assert(descriptor.minFilter === FilterMode.BILINEAR &&\n                    descriptor.magFilter === FilterMode.BILINEAR &&\n                    descriptor.mipmapFilter === MipmapFilterMode.LINEAR);\n                gl.samplerParameterf(gl_sampler, _this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT, maxAnisotropy);\n            }\n            _this.gl_sampler = gl_sampler;\n        }\n        else {\n            // use later in WebGL1\n            _this.descriptor = descriptor;\n        }\n        return _this;\n    }\n    Sampler_GL.prototype.setTextureParameters = function (gl_target, width, height) {\n        var _a;\n        var gl = this.device.gl;\n        var descriptor = this.descriptor;\n        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API/Tutorial/Using_textures_in_WebGL#%E9%9D%9E2%E7%9A%84%E5%B9%82%E7%BA%B9%E7%90%86\n        if (this.isNPOT(width, height)) {\n            gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.LINEAR);\n        }\n        else {\n            gl.texParameteri(gl_target, GL.TEXTURE_MIN_FILTER, translateFilterMode(descriptor.minFilter, descriptor.mipmapFilter));\n        }\n        gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_S, translateAddressMode$1(descriptor.addressModeU));\n        gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_T, translateAddressMode$1(descriptor.addressModeV));\n        gl.texParameteri(gl_target, GL.TEXTURE_MAG_FILTER, translateFilterMode(descriptor.magFilter, MipmapFilterMode.NO_MIP));\n        // if (descriptor.lodMinClamp !== undefined) {\n        //   gl.texParameterf(gl_target, GL.TEXTURE_MIN_LOD, descriptor.lodMinClamp);\n        // }\n        // if (descriptor.lodMaxClamp !== undefined) {\n        //   gl.texParameterf(gl_target, GL.TEXTURE_MAX_LOD, descriptor.lodMaxClamp);\n        // }\n        var maxAnisotropy = (_a = descriptor.maxAnisotropy) !== null && _a !== void 0 ? _a : 1;\n        if (maxAnisotropy > 1 &&\n            this.device.EXT_texture_filter_anisotropic !== null) {\n            assert(descriptor.minFilter === FilterMode.BILINEAR &&\n                descriptor.magFilter === FilterMode.BILINEAR &&\n                descriptor.mipmapFilter === MipmapFilterMode.LINEAR);\n            gl.texParameteri(gl_target, this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT, maxAnisotropy);\n        }\n    };\n    Sampler_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (isWebGL2(this.device.gl)) {\n            this.device.gl.deleteSampler(getPlatformSampler$1(this));\n        }\n    };\n    Sampler_GL.prototype.isNPOT = function (width, height) {\n        return !isPowerOfTwo(width) || !isPowerOfTwo(height);\n    };\n    return Sampler_GL;\n}(ResourceBase_GL));\n\n// import { assert, assertExists } from '../api';\n// import type { ComputePipeline_GL } from './ComputePipeline';\nvar ComputePass_GL = /** @class */ (function () {\n    function ComputePass_GL() {\n    }\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucomputepassencoder-dispatch\n     */\n    ComputePass_GL.prototype.dispatchWorkgroups = function (workgroupCountX, workgroupCountY, workgroupCountZ) { };\n    ComputePass_GL.prototype.dispatchWorkgroupsIndirect = function (indirectBuffer, indirectOffset) { };\n    ComputePass_GL.prototype.setPipeline = function (pipeline_) {\n        // const pipeline = pipeline_ as ComputePipeline_WebGPU;\n        // const gpuComputePipeline = assertExists(pipeline.gpuComputePipeline);\n        // this.gpuComputePassEncoder.setPipeline(gpuComputePipeline);\n    };\n    ComputePass_GL.prototype.setBindings = function (bindings_) {\n        // const bindings = bindings_ as Bindings_WebGPU;\n        // this.gpuComputePassEncoder.setBindGroup(bindingLayoutIndex, bindings.gpuBindGroup[0]);\n    };\n    ComputePass_GL.prototype.pushDebugGroup = function (name) { };\n    ComputePass_GL.prototype.popDebugGroup = function () { };\n    ComputePass_GL.prototype.insertDebugMarker = function (markerLabel) { };\n    return ComputePass_GL;\n}());\n\n// This is a workaround for ANGLE not supporting UBOs greater than 64kb (the limit of D3D).\n// https://bugs.chromium.org/p/angleproject/issues/detail?id=3388\nvar UBO_PAGE_MAX_BYTE_SIZE = 0x10000;\nvar Device_GL = /** @class */ (function () {\n    function Device_GL(gl, configuration) {\n        // Configuration\n        this.shaderDebug = false;\n        // GL extensions\n        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/OES_vertex_array_object\n        this.OES_vertex_array_object = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/ANGLE_instanced_arrays\n        this.ANGLE_instanced_arrays = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/OES_texture_float\n        this.OES_texture_float = null;\n        // @see https://www.khronos.org/registry/webgl/extensions/OES_draw_buffers_indexed/\n        this.OES_draw_buffers_indexed = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_draw_buffers\n        this.WEBGL_draw_buffers = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n        this.WEBGL_depth_texture = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_color_buffer_float\n        this.WEBGL_color_buffer_float = null;\n        this.EXT_color_buffer_half_float = null;\n        this.WEBGL_compressed_texture_s3tc = null;\n        this.WEBGL_compressed_texture_s3tc_srgb = null;\n        this.EXT_texture_compression_rgtc = null;\n        this.EXT_texture_filter_anisotropic = null;\n        this.KHR_parallel_shader_compile = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/EXT_texture_norm16\n        this.EXT_texture_norm16 = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/EXT_color_buffer_float\n        this.EXT_color_buffer_float = null;\n        this.OES_texture_float_linear = null;\n        this.OES_texture_half_float_linear = null;\n        // Swap Chain\n        this.scTexture = null;\n        this.scPlatformFramebuffer = null;\n        // Device\n        this.currentActiveTexture = null;\n        this.currentBoundVAO = null;\n        this.currentProgram = null;\n        this.resourceCreationTracker = null;\n        this.resourceUniqueId = 0;\n        // Cached GL driver state\n        this.currentColorAttachments = [];\n        this.currentColorAttachmentLevels = [];\n        this.currentColorResolveTos = [];\n        this.currentColorResolveToLevels = [];\n        this.currentDepthStencilResolveTo = null;\n        this.currentSampleCount = -1;\n        this.currentIndexBufferByteOffset = null;\n        this.currentMegaState = copyMegaState(defaultMegaState);\n        this.currentSamplers = [];\n        this.currentTextures = [];\n        this.currentUniformBuffers = [];\n        this.currentUniformBufferByteOffsets = [];\n        this.currentUniformBufferByteSizes = [];\n        this.currentScissorEnabled = false;\n        this.currentStencilRef = null;\n        // Pass Execution\n        this.currentRenderPassDescriptor = null;\n        this.debugGroupStack = [];\n        this.resolveColorAttachmentsChanged = false;\n        this.resolveDepthStencilAttachmentsChanged = false;\n        this.explicitBindingLocations = false;\n        this.separateSamplerTextures = false;\n        this.viewportOrigin = ViewportOrigin.LOWER_LEFT;\n        this.clipSpaceNearZ = ClipSpaceNearZ.NEGATIVE_ONE;\n        this.supportMRT = false;\n        this.inBlitRenderPass = false;\n        this.supportedSampleCounts = [];\n        this.occlusionQueriesRecommended = false;\n        this.computeShadersSupported = false;\n        this.gl = gl;\n        this.contextAttributes = assertExists(gl.getContextAttributes());\n        if (!isWebGL2(gl)) {\n            this.OES_vertex_array_object = gl.getExtension('OES_vertex_array_object');\n            // TODO: when ANGLE_instanced_arrays unavailable...\n            this.ANGLE_instanced_arrays = gl.getExtension('ANGLE_instanced_arrays');\n            this.OES_texture_float = gl.getExtension('OES_texture_float');\n            this.WEBGL_draw_buffers = gl.getExtension('WEBGL_draw_buffers');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n            this.WEBGL_depth_texture = gl.getExtension('WEBGL_depth_texture');\n            this.WEBGL_color_buffer_float = gl.getExtension('WEBGL_color_buffer_float');\n            this.EXT_color_buffer_half_float = gl.getExtension('EXT_color_buffer_half_float');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/EXT_frag_depth\n            gl.getExtension('EXT_frag_depth');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/OES_element_index_uint\n            gl.getExtension('OES_element_index_uint');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/OES_standard_derivatives\n            gl.getExtension('OES_standard_derivatives');\n        }\n        else {\n            this.EXT_texture_norm16 = gl.getExtension('EXT_texture_norm16');\n            this.EXT_color_buffer_float = gl.getExtension('EXT_color_buffer_float');\n        }\n        this.WEBGL_compressed_texture_s3tc = gl.getExtension('WEBGL_compressed_texture_s3tc');\n        this.WEBGL_compressed_texture_s3tc_srgb = gl.getExtension('WEBGL_compressed_texture_s3tc_srgb');\n        this.EXT_texture_compression_rgtc = gl.getExtension('EXT_texture_compression_rgtc');\n        this.EXT_texture_filter_anisotropic = gl.getExtension('EXT_texture_filter_anisotropic');\n        this.EXT_texture_norm16 = gl.getExtension('EXT_texture_norm16');\n        this.OES_texture_float_linear = gl.getExtension('OES_texture_float_linear');\n        this.OES_texture_half_float_linear = gl.getExtension('OES_texture_half_float_linear');\n        this.KHR_parallel_shader_compile = gl.getExtension('KHR_parallel_shader_compile');\n        // this.OES_draw_buffers_indexed = gl.getExtension('OES_draw_buffers_indexed');\n        if (isWebGL2(gl)) {\n            this.platformString = 'WebGL2';\n            this.glslVersion = '#version 300 es';\n        }\n        else {\n            this.platformString = 'WebGL1';\n            this.glslVersion = '#version 100'; // 100 es not supported\n        }\n        // Create our fake swap-chain texture.\n        this.scTexture = new Texture_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                width: 0,\n                height: 0,\n                depthOrArrayLayers: 1,\n                dimension: TextureDimension.TEXTURE_2D,\n                mipLevelCount: 1,\n                usage: TextureUsage.RENDER_TARGET,\n                format: this.contextAttributes.alpha === false\n                    ? Format.U8_RGB_RT\n                    : Format.U8_RGBA_RT,\n            },\n            fake: true,\n        });\n        this.scTexture.formatKind = SamplerFormatKind.Float;\n        this.scTexture.gl_target = null;\n        this.scTexture.gl_texture = null;\n        this.resolveColorReadFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.resolveColorDrawFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.resolveDepthStencilReadFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.resolveDepthStencilDrawFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.renderPassDrawFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.readbackFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.fallbackTexture2D = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Float);\n        this.fallbackTexture2DDepth = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Depth);\n        this.fallbackVertexBuffer = this.createBuffer({\n            viewOrSize: 1,\n            usage: BufferUsage.VERTEX,\n            hint: BufferFrequencyHint.STATIC,\n        });\n        if (isWebGL2(gl)) {\n            this.fallbackTexture2DArray = this.createFallbackTexture(TextureDimension.TEXTURE_2D_ARRAY, SamplerFormatKind.Float);\n            this.fallbackTexture3D = this.createFallbackTexture(TextureDimension.TEXTURE_3D, SamplerFormatKind.Float);\n            this.fallbackTextureCube = this.createFallbackTexture(TextureDimension.TEXTURE_CUBE_MAP, SamplerFormatKind.Float);\n        }\n        // Adjust for GL defaults.\n        this.currentMegaState.depthCompare = CompareFunction.LESS;\n        this.currentMegaState.depthWrite = false;\n        this.currentMegaState.attachmentsState[0].channelWriteMask =\n            ChannelWriteMask.ALL;\n        // always have depth test enabled.\n        gl.enable(gl.DEPTH_TEST);\n        gl.enable(gl.STENCIL_TEST);\n        this.checkLimits();\n        if (configuration.shaderDebug) {\n            this.shaderDebug = true;\n        }\n        if (configuration.trackResources) {\n            this.resourceCreationTracker = new ResourceCreationTracker();\n        }\n    }\n    Device_GL.prototype.destroy = function () {\n        if (this.blitBindings) {\n            this.blitBindings.destroy();\n        }\n        if (this.blitInputLayout) {\n            this.blitInputLayout.destroy();\n        }\n        if (this.blitRenderPipeline) {\n            this.blitRenderPipeline.destroy();\n        }\n        if (this.blitVertexBuffer) {\n            this.blitVertexBuffer.destroy();\n        }\n        if (this.blitProgram) {\n            this.blitProgram.destroy();\n        }\n    };\n    Device_GL.prototype.createFallbackTexture = function (dimension, formatKind) {\n        var depthOrArrayLayers = dimension === TextureDimension.TEXTURE_CUBE_MAP ? 6 : 1;\n        // const supportDepthTexture =\n        //   isWebGL2(this.gl) || (!isWebGL2(this.gl) && !!this.WEBGL_depth_texture);\n        var format = formatKind === SamplerFormatKind.Depth\n            ? Format.D32F\n            : Format.U8_RGBA_NORM;\n        var texture = this.createTexture({\n            dimension: dimension,\n            format: format,\n            usage: TextureUsage.SAMPLED,\n            width: 1,\n            height: 1,\n            depthOrArrayLayers: depthOrArrayLayers,\n            mipLevelCount: 1,\n        });\n        if (formatKind === SamplerFormatKind.Float) {\n            texture.setImageData([new Uint8Array(4 * depthOrArrayLayers)]);\n        }\n        return getPlatformTexture(texture);\n    };\n    Device_GL.prototype.getNextUniqueId = function () {\n        return ++this.resourceUniqueId;\n    };\n    Device_GL.prototype.checkLimits = function () {\n        var gl = this.gl;\n        this.maxVertexAttribs = gl.getParameter(GL.MAX_VERTEX_ATTRIBS);\n        if (isWebGL2(gl)) {\n            this.uniformBufferMaxPageByteSize = Math.min(gl.getParameter(GL.MAX_UNIFORM_BLOCK_SIZE), UBO_PAGE_MAX_BYTE_SIZE);\n            this.uniformBufferWordAlignment =\n                gl.getParameter(gl.UNIFORM_BUFFER_OFFSET_ALIGNMENT) / 4;\n            var supportedSampleCounts = gl.getInternalformatParameter(gl.RENDERBUFFER, gl.DEPTH32F_STENCIL8, gl.SAMPLES);\n            this.supportedSampleCounts = supportedSampleCounts\n                ? __spreadArray([], __read(supportedSampleCounts), false) : [];\n            this.occlusionQueriesRecommended = true;\n        }\n        else {\n            // mock ubo in WebGL1\n            this.uniformBufferWordAlignment = 64;\n            this.uniformBufferMaxPageByteSize = UBO_PAGE_MAX_BYTE_SIZE;\n        }\n        this.uniformBufferMaxPageWordSize = this.uniformBufferMaxPageByteSize / 4;\n        if (!this.supportedSampleCounts.includes(1)) {\n            this.supportedSampleCounts.push(1);\n        }\n        this.supportedSampleCounts.sort(function (a, b) { return a - b; });\n    };\n    //#region SwapChain\n    Device_GL.prototype.configureSwapChain = function (width, height, platformFramebuffer) {\n        var texture = this.scTexture;\n        texture.width = width;\n        texture.height = height;\n        this.scPlatformFramebuffer = nullify(platformFramebuffer);\n    };\n    Device_GL.prototype.getDevice = function () {\n        return this;\n    };\n    Device_GL.prototype.getCanvas = function () {\n        return this.gl.canvas;\n    };\n    Device_GL.prototype.getOnscreenTexture = function () {\n        return this.scTexture;\n    };\n    Device_GL.prototype.beginFrame = function () { };\n    Device_GL.prototype.endFrame = function () { };\n    //#endregion\n    //#region Device\n    // @see https://webgl2fundamentals.org/webgl/lessons/webgl-data-textures.html\n    Device_GL.prototype.translateTextureInternalFormat = function (fmt, isRenderbufferStorage) {\n        if (isRenderbufferStorage === void 0) { isRenderbufferStorage = false; }\n        switch (fmt) {\n            case Format.ALPHA:\n                return GL.ALPHA;\n            case Format.U8_LUMINANCE:\n            case Format.F16_LUMINANCE:\n            case Format.F32_LUMINANCE:\n                return GL.LUMINANCE;\n            // case Format.LUMINANCE_ALPHA:\n            //   return GL.LUMINANCE_ALPHA;\n            case Format.F16_R:\n                return GL.R16F;\n            case Format.F16_RG:\n                return GL.RG16F;\n            case Format.F16_RGB:\n                return GL.RGB16F;\n            case Format.F16_RGBA:\n                return GL.RGBA16F;\n            case Format.F32_R:\n                return GL.R32F;\n            case Format.F32_RG:\n                return GL.RG32F;\n            case Format.F32_RGB:\n                return GL.RGB32F;\n            case Format.F32_RGBA:\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_color_buffer_float\n                return isWebGL2(this.gl)\n                    ? GL.RGBA32F\n                    : isRenderbufferStorage\n                        ? this.WEBGL_color_buffer_float.RGBA32F_EXT\n                        : GL.RGBA;\n            case Format.U8_R_NORM:\n                return GL.R8;\n            case Format.U8_RG_NORM:\n                return GL.RG8;\n            case Format.U8_RGB_NORM:\n            case Format.U8_RGB_RT:\n                return GL.RGB8;\n            case Format.U8_RGB_SRGB:\n                return GL.SRGB8;\n            case Format.U8_RGBA_NORM:\n            case Format.U8_RGBA_RT:\n                // WebGL1 renderbuffer only support RGBA4 RGB565 RGB5_A1\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/renderbufferStorage#parameters\n                // But texImage2D allows RGBA\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\n                return isWebGL2(this.gl)\n                    ? GL.RGBA8\n                    : isRenderbufferStorage\n                        ? GL.RGBA4\n                        : GL.RGBA;\n            case Format.U8_RGBA:\n                return GL.RGBA;\n            case Format.U8_RGBA_SRGB:\n            case Format.U8_RGBA_RT_SRGB:\n                return GL.SRGB8_ALPHA8;\n            case Format.U16_R:\n                return GL.R16UI;\n            case Format.U16_R_NORM:\n                return this.EXT_texture_norm16.R16_EXT;\n            case Format.U16_RG_NORM:\n                return this.EXT_texture_norm16.RG16_EXT;\n            case Format.U16_RGBA_NORM:\n                return this.EXT_texture_norm16.RGBA16_EXT;\n            case Format.U16_RGBA_5551:\n                return GL.RGB5_A1;\n            case Format.U16_RGB_565:\n                return GL.RGB565;\n            case Format.U32_R:\n                return GL.R32UI;\n            case Format.S8_RGBA_NORM:\n                return GL.RGBA8_SNORM;\n            case Format.S8_RG_NORM:\n                return GL.RG8_SNORM;\n            case Format.BC1:\n                return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n            case Format.BC1_SRGB:\n                return this.WEBGL_compressed_texture_s3tc_srgb\n                    .COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n            case Format.BC2:\n                return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n            case Format.BC2_SRGB:\n                return this.WEBGL_compressed_texture_s3tc_srgb\n                    .COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;\n            case Format.BC3:\n                return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n            case Format.BC3_SRGB:\n                return this.WEBGL_compressed_texture_s3tc_srgb\n                    .COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n            case Format.BC4_UNORM:\n                return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;\n            case Format.BC4_SNORM:\n                return this.EXT_texture_compression_rgtc\n                    .COMPRESSED_SIGNED_RED_RGTC1_EXT;\n            case Format.BC5_UNORM:\n                return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;\n            case Format.BC5_SNORM:\n                return this.EXT_texture_compression_rgtc\n                    .COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;\n            case Format.D32F_S8:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH32F_STENCIL8\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_STENCIL\n                        : GL.DEPTH_COMPONENT16;\n            case Format.D24_S8:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH24_STENCIL8\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_STENCIL\n                        : GL.DEPTH_COMPONENT16;\n            case Format.D32F:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH_COMPONENT32F\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_COMPONENT\n                        : GL.DEPTH_COMPONENT16;\n            case Format.D24:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH_COMPONENT24\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_COMPONENT\n                        : GL.DEPTH_COMPONENT16;\n            default:\n                throw new Error('whoops');\n        }\n    };\n    Device_GL.prototype.translateTextureType = function (fmt) {\n        var typeFlags = getFormatTypeFlags(fmt);\n        switch (typeFlags) {\n            case FormatTypeFlags.U8:\n                return GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.U16:\n                return GL.UNSIGNED_SHORT;\n            case FormatTypeFlags.U32:\n                return GL.UNSIGNED_INT;\n            case FormatTypeFlags.S8:\n                return GL.BYTE;\n            case FormatTypeFlags.F16:\n                return GL.HALF_FLOAT;\n            case FormatTypeFlags.F32:\n                return GL.FLOAT;\n            case FormatTypeFlags.U16_PACKED_5551:\n                return GL.UNSIGNED_SHORT_5_5_5_1;\n            case FormatTypeFlags.D32F:\n                return isWebGL2(this.gl)\n                    ? GL.FLOAT\n                    : this.WEBGL_depth_texture\n                        ? GL.UNSIGNED_INT\n                        : GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.D24:\n                return isWebGL2(this.gl)\n                    ? GL.UNSIGNED_INT_24_8\n                    : this.WEBGL_depth_texture\n                        ? GL.UNSIGNED_SHORT\n                        : GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.D24S8:\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n                return isWebGL2(this.gl)\n                    ? GL.UNSIGNED_INT_24_8\n                    : this.WEBGL_depth_texture\n                        ? GL.UNSIGNED_INT_24_8_WEBGL\n                        : GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.D32FS8:\n                return GL.FLOAT_32_UNSIGNED_INT_24_8_REV;\n            default:\n                throw new Error('whoops');\n        }\n    };\n    Device_GL.prototype.translateTextureFormat = function (fmt) {\n        if (isTextureFormatCompressed(fmt) ||\n            fmt === Format.F32_LUMINANCE ||\n            fmt === Format.U8_LUMINANCE) {\n            return this.translateTextureInternalFormat(fmt);\n        }\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n        var supportDepthTexture = isWebGL2(this.gl) || (!isWebGL2(this.gl) && !!this.WEBGL_depth_texture);\n        switch (fmt) {\n            case Format.D24_S8:\n            case Format.D32F_S8:\n                return supportDepthTexture ? GL.DEPTH_STENCIL : GL.RGBA;\n            case Format.D24:\n            case Format.D32F:\n                return supportDepthTexture ? GL.DEPTH_COMPONENT : GL.RGBA;\n        }\n        var isInteger = isFormatSizedInteger(fmt);\n        var compFlags = getFormatCompFlags(fmt);\n        switch (compFlags) {\n            case FormatCompFlags.A:\n                return GL.ALPHA;\n            case FormatCompFlags.R:\n                return isInteger ? GL.RED_INTEGER : GL.RED;\n            case FormatCompFlags.RG:\n                return isInteger ? GL.RG_INTEGER : GL.RG;\n            case FormatCompFlags.RGB:\n                return isInteger ? GL.RGB_INTEGER : GL.RGB;\n            case FormatCompFlags.RGBA:\n                // TODO: Chrome throw error when readPixels RGBA_INTEGER and UNSIGNED_BYTE\n                // @see https://github.com/KhronosGroup/WebGL/issues/2747\n                // return isInteger ? GL.RGBA_INTEGER : GL.RGBA;\n                return GL.RGBA;\n        }\n    };\n    Device_GL.prototype.setActiveTexture = function (texture) {\n        if (this.currentActiveTexture !== texture) {\n            this.gl.activeTexture(texture);\n            this.currentActiveTexture = texture;\n        }\n    };\n    Device_GL.prototype.bindVAO = function (vao) {\n        if (this.currentBoundVAO !== vao) {\n            if (isWebGL2(this.gl)) {\n                this.gl.bindVertexArray(vao);\n            }\n            else {\n                this.OES_vertex_array_object.bindVertexArrayOES(vao);\n            }\n            this.currentBoundVAO = vao;\n        }\n    };\n    Device_GL.prototype.programCompiled = function (program) {\n        assert(program.compileState !== ProgramCompileState_GL.NeedsCompile);\n        if (program.compileState === ProgramCompileState_GL.Compiling) {\n            program.compileState = ProgramCompileState_GL.NeedsBind;\n            if (this.shaderDebug) {\n                this.checkProgramCompilationForErrors(program);\n            }\n        }\n    };\n    Device_GL.prototype.useProgram = function (program) {\n        if (this.currentProgram === program)\n            return;\n        this.programCompiled(program);\n        this.gl.useProgram(program.gl_program);\n        this.currentProgram = program;\n    };\n    Device_GL.prototype.ensureResourceExists = function (resource) {\n        if (resource === null) {\n            var error = this.gl.getError();\n            throw new Error(\"Created resource is null; GL error encountered: \".concat(error));\n        }\n        else {\n            return resource;\n        }\n    };\n    Device_GL.prototype.createBuffer = function (descriptor) {\n        return new Buffer_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createTexture = function (descriptor) {\n        return new Texture_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createSampler = function (descriptor) {\n        return new Sampler_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createRenderTarget = function (descriptor) {\n        return new RenderTarget_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createRenderTargetFromTexture = function (texture) {\n        var _a = texture, format = _a.format, width = _a.width, height = _a.height, mipLevelCount = _a.mipLevelCount;\n        // Render targets cannot have a mip chain currently.\n        assert(mipLevelCount === 1);\n        return this.createRenderTarget({\n            format: format,\n            width: width,\n            height: height,\n            sampleCount: 1,\n            texture: texture,\n        });\n    };\n    Device_GL.prototype.createProgram = function (descriptor) {\n        var _a, _b, _c;\n        var rawVertexGLSL = (_a = descriptor.vertex) === null || _a === void 0 ? void 0 : _a.glsl;\n        // preprocess GLSL first\n        if ((_b = descriptor.vertex) === null || _b === void 0 ? void 0 : _b.glsl) {\n            descriptor.vertex.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'vert', descriptor.vertex.glsl);\n        }\n        if ((_c = descriptor.fragment) === null || _c === void 0 ? void 0 : _c.glsl) {\n            descriptor.fragment.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'frag', descriptor.fragment.glsl);\n        }\n        return this.createProgramSimple(descriptor, rawVertexGLSL);\n    };\n    Device_GL.prototype.createProgramSimple = function (descriptor, rawVertexGLSL) {\n        var program = new Program_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        }, rawVertexGLSL);\n        return program;\n    };\n    Device_GL.prototype.createBindings = function (descriptor) {\n        return new Bindings_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createInputLayout = function (descriptor) {\n        return new InputLayout_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createRenderPipeline = function (descriptor) {\n        return new RenderPipeline_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createComputePass = function () {\n        return new ComputePass_GL();\n    };\n    Device_GL.prototype.createComputePipeline = function (descriptor) {\n        return new ComputePipeline_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createReadback = function () {\n        return new Readback_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n        });\n    };\n    Device_GL.prototype.createQueryPool = function (type, elemCount) {\n        return new QueryPool_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                type: type,\n                elemCount: elemCount,\n            },\n        });\n    };\n    Device_GL.prototype.formatRenderPassDescriptor = function (descriptor) {\n        var _a, _b, _c, _d, _e, _f;\n        var colorAttachment = descriptor.colorAttachment;\n        descriptor.depthClearValue = (_a = descriptor.depthClearValue) !== null && _a !== void 0 ? _a : 'load';\n        descriptor.stencilClearValue = (_b = descriptor.stencilClearValue) !== null && _b !== void 0 ? _b : 'load';\n        for (var i = 0; i < colorAttachment.length; i++) {\n            if (!descriptor.colorAttachmentLevel) {\n                descriptor.colorAttachmentLevel = [];\n            }\n            descriptor.colorAttachmentLevel[i] =\n                (_c = descriptor.colorAttachmentLevel[i]) !== null && _c !== void 0 ? _c : 0;\n            if (!descriptor.colorResolveToLevel) {\n                descriptor.colorResolveToLevel = [];\n            }\n            descriptor.colorResolveToLevel[i] =\n                (_d = descriptor.colorResolveToLevel[i]) !== null && _d !== void 0 ? _d : 0;\n            if (!descriptor.colorClearColor) {\n                descriptor.colorClearColor = [];\n            }\n            descriptor.colorClearColor[i] = (_e = descriptor.colorClearColor[i]) !== null && _e !== void 0 ? _e : 'load';\n            if (!descriptor.colorStore) {\n                descriptor.colorStore = [];\n            }\n            descriptor.colorStore[i] = (_f = descriptor.colorStore[i]) !== null && _f !== void 0 ? _f : false;\n        }\n    };\n    Device_GL.prototype.createRenderPass = function (descriptor) {\n        assert(this.currentRenderPassDescriptor === null);\n        this.currentRenderPassDescriptor = descriptor;\n        // Format renderpass descriptor\n        this.formatRenderPassDescriptor(descriptor);\n        var colorAttachment = descriptor.colorAttachment, colorAttachmentLevel = descriptor.colorAttachmentLevel, colorClearColor = descriptor.colorClearColor, colorResolveTo = descriptor.colorResolveTo, colorResolveToLevel = descriptor.colorResolveToLevel, depthStencilAttachment = descriptor.depthStencilAttachment, depthClearValue = descriptor.depthClearValue, stencilClearValue = descriptor.stencilClearValue, depthStencilResolveTo = descriptor.depthStencilResolveTo;\n        this.setRenderPassParametersBegin(colorAttachment.length);\n        for (var i = 0; i < colorAttachment.length; i++) {\n            this.setRenderPassParametersColor(i, colorAttachment[i], colorAttachmentLevel[i], colorResolveTo[i], colorResolveToLevel[i]);\n        }\n        this.setRenderPassParametersDepthStencil(depthStencilAttachment, depthStencilResolveTo);\n        this.validateCurrentAttachments();\n        for (var i = 0; i < colorAttachment.length; i++) {\n            var clearColor = colorClearColor[i];\n            if (clearColor === 'load')\n                continue;\n            this.setRenderPassParametersClearColor(i, clearColor.r, clearColor.g, clearColor.b, clearColor.a);\n        }\n        this.setRenderPassParametersClearDepthStencil(depthClearValue, stencilClearValue);\n        return this;\n    };\n    Device_GL.prototype.submitPass = function (pass) {\n        assert(this.currentRenderPassDescriptor !== null);\n        this.endPass();\n        this.currentRenderPassDescriptor = null;\n    };\n    Device_GL.prototype.copySubTexture2D = function (dst_, dstX, dstY, src_, srcX, srcY) {\n        var gl = this.gl;\n        var dst = dst_;\n        var src = src_;\n        assert(src.mipLevelCount === 1);\n        assert(dst.mipLevelCount === 1);\n        if (isWebGL2(gl)) {\n            if (dst === this.scTexture) {\n                gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.scPlatformFramebuffer);\n            }\n            else {\n                gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.resolveColorDrawFramebuffer);\n                this.bindFramebufferAttachment(gl.DRAW_FRAMEBUFFER, gl.COLOR_ATTACHMENT0, dst, 0);\n            }\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.resolveColorReadFramebuffer);\n            this.bindFramebufferAttachment(gl.READ_FRAMEBUFFER, gl.COLOR_ATTACHMENT0, src, 0);\n            gl.blitFramebuffer(srcX, srcY, srcX + src.width, srcY + src.height, dstX, dstY, dstX + src.width, dstY + src.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, null);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n        }\n        else {\n            if (dst === this.scTexture) {\n                var rt = this.createRenderTargetFromTexture(src_);\n                this.submitBlitRenderPass(rt, dst);\n            }\n        }\n    };\n    Device_GL.prototype.queryLimits = function () {\n        return this;\n    };\n    Device_GL.prototype.queryTextureFormatSupported = function (format, width, height) {\n        switch (format) {\n            case Format.BC1_SRGB:\n            case Format.BC2_SRGB:\n            case Format.BC3_SRGB:\n                if (this.WEBGL_compressed_texture_s3tc_srgb !== null)\n                    return isBlockCompressSized(width, height, 4, 4);\n                return false;\n            case Format.BC1:\n            case Format.BC2:\n            case Format.BC3:\n                if (this.WEBGL_compressed_texture_s3tc !== null)\n                    return isBlockCompressSized(width, height, 4, 4);\n                return false;\n            case Format.BC4_UNORM:\n            case Format.BC4_SNORM:\n            case Format.BC5_UNORM:\n            case Format.BC5_SNORM:\n                if (this.EXT_texture_compression_rgtc !== null)\n                    return isBlockCompressSized(width, height, 4, 4);\n                return false;\n            case Format.U16_R_NORM:\n            case Format.U16_RG_NORM:\n            case Format.U16_RGBA_NORM:\n                return this.EXT_texture_norm16 !== null;\n            case Format.F32_R:\n            case Format.F32_RG:\n            case Format.F32_RGB:\n            case Format.F32_RGBA:\n                return this.OES_texture_float_linear !== null;\n            case Format.F16_R:\n            case Format.F16_RG:\n            case Format.F16_RGB:\n            case Format.F16_RGBA:\n                return this.OES_texture_half_float_linear !== null;\n            default:\n                return true;\n        }\n    };\n    Device_GL.prototype.queryProgramReady = function (program) {\n        var gl = this.gl;\n        if (program.compileState === ProgramCompileState_GL.NeedsCompile) {\n            // This should not happen.\n            throw new Error('whoops');\n        }\n        if (program.compileState === ProgramCompileState_GL.Compiling) {\n            var complete = void 0;\n            if (this.KHR_parallel_shader_compile !== null) {\n                complete = gl.getProgramParameter(program.gl_program, this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR);\n            }\n            else {\n                // If we don't have async shader compilation, assume all compilation is done immediately :/\n                complete = true;\n            }\n            if (complete) {\n                this.programCompiled(program);\n            }\n            return complete;\n        }\n        return (program.compileState === ProgramCompileState_GL.NeedsBind ||\n            program.compileState === ProgramCompileState_GL.ReadyToUse);\n    };\n    Device_GL.prototype.queryPlatformAvailable = function () {\n        return this.gl.isContextLost();\n    };\n    Device_GL.prototype.queryVendorInfo = function () {\n        return this;\n    };\n    Device_GL.prototype.queryRenderPass = function (o) {\n        return this.currentRenderPassDescriptor;\n    };\n    Device_GL.prototype.queryRenderTarget = function (o) {\n        var renderTarget = o;\n        return renderTarget;\n    };\n    //#endregion\n    //#region Debugging\n    Device_GL.prototype.setResourceName = function (o, name) {\n        o.name = name;\n        if (o.type === ResourceType.Buffer) {\n            var gl_buffer_pages = o.gl_buffer_pages;\n            for (var i = 0; i < gl_buffer_pages.length; i++)\n                assignPlatformName(gl_buffer_pages[i], \"\".concat(name, \" Page \").concat(i));\n        }\n        else if (o.type === ResourceType.Texture) {\n            assignPlatformName(getPlatformTexture(o), name);\n        }\n        else if (o.type === ResourceType.Sampler) {\n            assignPlatformName(getPlatformSampler$1(o), name);\n        }\n        else if (o.type === ResourceType.RenderTarget) {\n            var gl_renderbuffer = o.gl_renderbuffer;\n            if (gl_renderbuffer !== null)\n                assignPlatformName(gl_renderbuffer, name);\n        }\n        else if (o.type === ResourceType.InputLayout) {\n            assignPlatformName(o.vao, name);\n        }\n    };\n    Device_GL.prototype.setResourceLeakCheck = function (o, v) {\n        if (this.resourceCreationTracker !== null)\n            this.resourceCreationTracker.setResourceLeakCheck(o, v);\n    };\n    Device_GL.prototype.checkForLeaks = function () {\n        if (this.resourceCreationTracker !== null)\n            this.resourceCreationTracker.checkForLeaks();\n    };\n    Device_GL.prototype.pushDebugGroup = function (name) { };\n    Device_GL.prototype.popDebugGroup = function () { };\n    Device_GL.prototype.insertDebugMarker = function (markerLabel) { };\n    // pushDebugGroup(debugGroup: DebugGroup): void {\n    //   this.debugGroupStack.push(debugGroup);\n    // }\n    // popDebugGroup(): void {\n    //   this.debugGroupStack.pop();\n    // }\n    Device_GL.prototype.programPatched = function (o, descriptor) {\n        assert(this.shaderDebug);\n        // const program = o as Program_GL;\n        // const gl = this.gl;\n        // gl.deleteProgram(program.gl_program);\n        // program.descriptor = descriptor;\n        // program.gl_program = this.ensureResourceExists(gl.createProgram());\n        // program.compileState = ProgramCompileState_GL.NeedsCompile;\n        // this.tryCompileProgram(program);\n        // this.checkProgramCompilationForErrors(program);\n    };\n    Device_GL.prototype.getBufferData = function (buffer, dstBuffer, wordOffset) {\n        if (wordOffset === void 0) { wordOffset = 0; }\n        var gl = this.gl;\n        if (isWebGL2(gl)) {\n            gl.bindBuffer(gl.COPY_READ_BUFFER, getPlatformBuffer$1(buffer, wordOffset * 4));\n            gl.getBufferSubData(gl.COPY_READ_BUFFER, wordOffset * 4, dstBuffer);\n        }\n    };\n    //#endregion\n    Device_GL.prototype.debugGroupStatisticsDrawCall = function (count) {\n        if (count === void 0) { count = 1; }\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].drawCallCount += count;\n    };\n    Device_GL.prototype.debugGroupStatisticsBufferUpload = function (count) {\n        if (count === void 0) { count = 1; }\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].bufferUploadCount += count;\n    };\n    Device_GL.prototype.debugGroupStatisticsTextureBind = function (count) {\n        if (count === void 0) { count = 1; }\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].textureBindCount += count;\n    };\n    Device_GL.prototype.debugGroupStatisticsTriangles = function (count) {\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].triangleCount += count;\n    };\n    Device_GL.prototype.reportShaderError = function (shader, str) {\n        var gl = this.gl;\n        var status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!status) {\n            console.error(prependLineNo(str));\n            var debug_shaders = gl.getExtension('WEBGL_debug_shaders');\n            if (debug_shaders)\n                console.error(debug_shaders.getTranslatedShaderSource(shader));\n            console.error(gl.getShaderInfoLog(shader));\n        }\n        return status;\n    };\n    Device_GL.prototype.checkProgramCompilationForErrors = function (program) {\n        var gl = this.gl;\n        var prog = program.gl_program;\n        if (!gl.getProgramParameter(prog, gl.LINK_STATUS)) {\n            var descriptor = program.descriptor;\n            if (!this.reportShaderError(program.gl_shader_vert, descriptor.vertex.glsl))\n                return;\n            if (!this.reportShaderError(program.gl_shader_frag, descriptor.fragment.glsl))\n                return;\n            // Neither shader had an error, report the program info log.\n            console.error(gl.getProgramInfoLog(program.gl_program));\n        }\n    };\n    Device_GL.prototype.bindFramebufferAttachment = function (framebuffer, binding, attachment, level) {\n        var gl = this.gl;\n        if (attachment === null) {\n            gl.framebufferRenderbuffer(framebuffer, binding, gl.RENDERBUFFER, null);\n        }\n        else if (attachment.type === ResourceType.RenderTarget) {\n            if (attachment.gl_renderbuffer !== null) {\n                gl.framebufferRenderbuffer(framebuffer, binding, gl.RENDERBUFFER, attachment.gl_renderbuffer);\n            }\n            else if (attachment.texture !== null) {\n                gl.framebufferTexture2D(framebuffer, binding, GL.TEXTURE_2D, getPlatformTexture(attachment.texture), level);\n            }\n        }\n        else if (attachment.type === ResourceType.Texture) {\n            var texture = getPlatformTexture(attachment);\n            if (attachment.dimension === TextureDimension.TEXTURE_2D) {\n                gl.framebufferTexture2D(framebuffer, binding, GL.TEXTURE_2D, texture, level);\n            }\n            else if (isWebGL2(gl) &&\n                attachment.dimension === TextureDimension.TEXTURE_2D_ARRAY) ;\n        }\n    };\n    Device_GL.prototype.bindFramebufferDepthStencilAttachment = function (framebuffer, attachment) {\n        var gl = this.gl;\n        var flags = attachment !== null\n            ? getFormatFlags(attachment.format)\n            : FormatFlags.Depth | FormatFlags.Stencil;\n        var depth = !!(flags & FormatFlags.Depth);\n        var stencil = !!(flags & FormatFlags.Stencil);\n        if (depth && stencil) {\n            var supportDepthTexture = isWebGL2(this.gl) || (!isWebGL2(this.gl) && !!this.WEBGL_depth_texture);\n            if (supportDepthTexture) {\n                this.bindFramebufferAttachment(framebuffer, gl.DEPTH_STENCIL_ATTACHMENT, attachment, 0);\n            }\n            else {\n                this.bindFramebufferAttachment(framebuffer, gl.DEPTH_ATTACHMENT, attachment, 0);\n            }\n        }\n        else if (depth) {\n            this.bindFramebufferAttachment(framebuffer, gl.DEPTH_ATTACHMENT, attachment, 0);\n            this.bindFramebufferAttachment(framebuffer, gl.STENCIL_ATTACHMENT, null, 0);\n        }\n        else if (stencil) {\n            this.bindFramebufferAttachment(framebuffer, gl.STENCIL_ATTACHMENT, attachment, 0);\n            this.bindFramebufferAttachment(framebuffer, gl.DEPTH_ATTACHMENT, null, 0);\n        }\n    };\n    Device_GL.prototype.validateCurrentAttachments = function () {\n        var sampleCount = -1, width = -1, height = -1;\n        for (var i = 0; i < this.currentColorAttachments.length; i++) {\n            var attachment = this.currentColorAttachments[i];\n            if (attachment === null)\n                continue;\n            if (sampleCount === -1) {\n                sampleCount = attachment.sampleCount;\n                width = attachment.width;\n                height = attachment.height;\n            }\n            else {\n                assert(sampleCount === attachment.sampleCount);\n                assert(width === attachment.width);\n                assert(height === attachment.height);\n            }\n        }\n        if (this.currentDepthStencilAttachment) {\n            if (sampleCount === -1) {\n                sampleCount = this.currentDepthStencilAttachment.sampleCount;\n            }\n            else {\n                assert(sampleCount === this.currentDepthStencilAttachment.sampleCount);\n                assert(width === this.currentDepthStencilAttachment.width);\n                assert(height === this.currentDepthStencilAttachment.height);\n            }\n        }\n        this.currentSampleCount = sampleCount;\n    };\n    Device_GL.prototype.setRenderPassParametersBegin = function (numColorAttachments) {\n        var gl = this.gl;\n        if (isWebGL2(gl)) {\n            gl.bindFramebuffer(GL.DRAW_FRAMEBUFFER, this.renderPassDrawFramebuffer);\n        }\n        else {\n            if (!this.inBlitRenderPass) {\n                gl.bindFramebuffer(GL.FRAMEBUFFER, this.renderPassDrawFramebuffer);\n            }\n        }\n        if (isWebGL2(gl)) {\n            gl.drawBuffers([\n                GL.COLOR_ATTACHMENT0,\n                GL.COLOR_ATTACHMENT1,\n                GL.COLOR_ATTACHMENT2,\n                GL.COLOR_ATTACHMENT3,\n            ]);\n        }\n        else {\n            if (!this.inBlitRenderPass && this.WEBGL_draw_buffers) {\n                // MRT @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-1.md#multiple-render-targets\n                this.WEBGL_draw_buffers.drawBuffersWEBGL([\n                    GL.COLOR_ATTACHMENT0_WEBGL,\n                    GL.COLOR_ATTACHMENT1_WEBGL,\n                    GL.COLOR_ATTACHMENT2_WEBGL,\n                    GL.COLOR_ATTACHMENT3_WEBGL, // gl_FragData[3]\n                ]);\n            }\n        }\n        if (!this.inBlitRenderPass) {\n            for (var i = numColorAttachments; i < this.currentColorAttachments.length; i++) {\n                var target = isWebGL2(gl) ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER;\n                var attachment = isWebGL2(gl)\n                    ? GL.COLOR_ATTACHMENT0\n                    : GL.COLOR_ATTACHMENT0_WEBGL;\n                gl.framebufferRenderbuffer(target, attachment + i, GL.RENDERBUFFER, null);\n                gl.framebufferTexture2D(target, attachment + i, GL.TEXTURE_2D, null, 0);\n            }\n        }\n        this.currentColorAttachments.length = numColorAttachments;\n    };\n    Device_GL.prototype.setRenderPassParametersColor = function (i, colorAttachment, attachmentLevel, colorResolveTo, resolveToLevel) {\n        var gl = this.gl;\n        var gl2 = isWebGL2(gl);\n        if (this.currentColorAttachments[i] !== colorAttachment ||\n            this.currentColorAttachmentLevels[i] !== attachmentLevel) {\n            this.currentColorAttachments[i] = colorAttachment;\n            this.currentColorAttachmentLevels[i] = attachmentLevel;\n            if (gl2 || (!gl2 && this.WEBGL_draw_buffers)) {\n                this.bindFramebufferAttachment(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, (gl2 ? GL.COLOR_ATTACHMENT0 : GL.COLOR_ATTACHMENT0_WEBGL) + i, colorAttachment, attachmentLevel);\n            }\n            this.resolveColorAttachmentsChanged = true;\n        }\n        if (this.currentColorResolveTos[i] !== colorResolveTo ||\n            this.currentColorResolveToLevels[i] !== resolveToLevel) {\n            this.currentColorResolveTos[i] = colorResolveTo;\n            this.currentColorResolveToLevels[i] = resolveToLevel;\n            if (colorResolveTo !== null) {\n                this.resolveColorAttachmentsChanged = true;\n            }\n        }\n    };\n    Device_GL.prototype.setRenderPassParametersDepthStencil = function (depthStencilAttachment, depthStencilResolveTo) {\n        var gl = this.gl;\n        if (this.currentDepthStencilAttachment !== depthStencilAttachment) {\n            this.currentDepthStencilAttachment =\n                depthStencilAttachment;\n            if (!this.inBlitRenderPass) {\n                this.bindFramebufferDepthStencilAttachment(isWebGL2(gl) ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.currentDepthStencilAttachment);\n            }\n            this.resolveDepthStencilAttachmentsChanged = true;\n        }\n        if (this.currentDepthStencilResolveTo !== depthStencilResolveTo) {\n            this.currentDepthStencilResolveTo = depthStencilResolveTo;\n            if (depthStencilResolveTo) {\n                this.resolveDepthStencilAttachmentsChanged = true;\n            }\n        }\n    };\n    Device_GL.prototype.setRenderPassParametersClearColor = function (slot, r, g, b, a) {\n        var gl = this.gl;\n        if (this.OES_draw_buffers_indexed !== null) {\n            var attachment = this.currentMegaState.attachmentsState[slot];\n            if (attachment && attachment.channelWriteMask !== ChannelWriteMask.ALL) {\n                this.OES_draw_buffers_indexed.colorMaskiOES(slot, true, true, true, true);\n                attachment.channelWriteMask = ChannelWriteMask.ALL;\n            }\n        }\n        else {\n            var attachment = this.currentMegaState.attachmentsState[0];\n            if (attachment && attachment.channelWriteMask !== ChannelWriteMask.ALL) {\n                gl.colorMask(true, true, true, true);\n                attachment.channelWriteMask = ChannelWriteMask.ALL;\n            }\n        }\n        this.setScissorRectEnabled(false);\n        if (isWebGL2(gl)) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/clearBuffer\n            gl.clearBufferfv(gl.COLOR, slot, [r, g, b, a]);\n        }\n        else {\n            gl.clearColor(r, g, b, a);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n    };\n    Device_GL.prototype.setRenderPassParametersClearDepthStencil = function (depthClearValue, stencilClearValue) {\n        if (depthClearValue === void 0) { depthClearValue = 'load'; }\n        if (stencilClearValue === void 0) { stencilClearValue = 'load'; }\n        var gl = this.gl;\n        if (depthClearValue !== 'load') {\n            assert(!!this.currentDepthStencilAttachment);\n            // GL clears obey the masks... bad API or worst API?\n            if (!this.currentMegaState.depthWrite) {\n                gl.depthMask(true);\n                this.currentMegaState.depthWrite = true;\n            }\n            if (isWebGL2(gl)) {\n                gl.clearBufferfv(gl.DEPTH, 0, [depthClearValue]);\n            }\n            else {\n                gl.clearDepth(depthClearValue);\n                gl.clear(gl.DEPTH_BUFFER_BIT);\n            }\n        }\n        if (stencilClearValue !== 'load') {\n            assert(!!this.currentDepthStencilAttachment);\n            if (!this.currentMegaState.stencilWrite) {\n                gl.enable(gl.STENCIL_TEST);\n                gl.stencilMask(0xff);\n                this.currentMegaState.stencilWrite = true;\n            }\n            if (isWebGL2(gl)) {\n                gl.clearBufferiv(gl.STENCIL, 0, [stencilClearValue]);\n            }\n            else {\n                gl.clearStencil(stencilClearValue);\n                gl.clear(gl.STENCIL_BUFFER_BIT);\n            }\n        }\n    };\n    Device_GL.prototype.setBindings = function (bindings_) {\n        var _a;\n        var gl = this.gl;\n        var _b = bindings_, uniformBufferBindings = _b.uniformBufferBindings, samplerBindings = _b.samplerBindings, bindingLayouts = _b.bindingLayouts;\n        assert(0 < bindingLayouts.bindingLayoutTables.length);\n        var bindingLayoutTable = bindingLayouts.bindingLayoutTables[0];\n        // Ignore extra bindings.\n        assert(uniformBufferBindings.length >= bindingLayoutTable.numUniformBuffers);\n        assert(samplerBindings.length >= bindingLayoutTable.numSamplers);\n        for (var i = 0; i < uniformBufferBindings.length; i++) {\n            var binding = uniformBufferBindings[i];\n            if (binding.size === 0)\n                continue;\n            var index = bindingLayoutTable.firstUniformBuffer + i;\n            var buffer = binding.buffer;\n            var byteOffset = binding.offset || 0;\n            var byteSize = binding.size || buffer.byteSize;\n            if (buffer !== this.currentUniformBuffers[index] ||\n                byteOffset !== this.currentUniformBufferByteOffsets[index] ||\n                byteSize !== this.currentUniformBufferByteSizes[index]) {\n                var platformBufferByteOffset = byteOffset % buffer.pageByteSize;\n                var platformBuffer = buffer.gl_buffer_pages[(byteOffset / buffer.pageByteSize) | 0];\n                assert(platformBufferByteOffset + byteSize <= buffer.pageByteSize);\n                if (isWebGL2(gl)) {\n                    gl.bindBufferRange(gl.UNIFORM_BUFFER, index, platformBuffer, platformBufferByteOffset, byteSize);\n                }\n                this.currentUniformBuffers[index] = buffer;\n                this.currentUniformBufferByteOffsets[index] = byteOffset;\n                this.currentUniformBufferByteSizes[index] = byteSize;\n            }\n        }\n        for (var i = 0; i < bindingLayoutTable.numSamplers; i++) {\n            var binding = samplerBindings[i];\n            var samplerIndex = bindingLayoutTable.firstSampler + i;\n            var gl_sampler = binding !== null && binding.sampler !== null\n                ? getPlatformSampler$1(binding.sampler)\n                : null;\n            var gl_texture = binding !== null && binding.texture !== null\n                ? getPlatformTexture(binding.texture)\n                : null;\n            if (this.currentSamplers[samplerIndex] !== gl_sampler) {\n                if (isWebGL2(gl)) {\n                    gl.bindSampler(samplerIndex, gl_sampler);\n                }\n                this.currentSamplers[samplerIndex] = gl_sampler;\n            }\n            if (this.currentTextures[samplerIndex] !== gl_texture) {\n                this.setActiveTexture(gl.TEXTURE0 + samplerIndex);\n                if (gl_texture !== null) {\n                    var _c = assertExists(binding)\n                        .texture, gl_target = _c.gl_target, width = _c.width, height = _c.height;\n                    // update index\n                    binding.texture.textureIndex = samplerIndex;\n                    gl.bindTexture(gl_target, gl_texture);\n                    // In WebGL1 set tex's parameters @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter\n                    if (!isWebGL2(gl)) {\n                        (_a = binding.sampler) === null || _a === void 0 ? void 0 : _a.setTextureParameters(gl_target, width, height);\n                    }\n                    this.debugGroupStatisticsTextureBind();\n                }\n                else {\n                    var samplerEntry = __assign(__assign({}, binding), defaultBindingLayoutSamplerDescriptor);\n                    var dimension = samplerEntry.dimension, formatKind = samplerEntry.formatKind;\n                    var gl_target = translateTextureDimension$1(dimension);\n                    gl.bindTexture(gl_target, this.getFallbackTexture(__assign({ gl_target: gl_target, formatKind: formatKind }, samplerEntry)));\n                }\n                this.currentTextures[samplerIndex] = gl_texture;\n            }\n        }\n    };\n    Device_GL.prototype.setViewport = function (x, y, w, h) {\n        var gl = this.gl;\n        gl.viewport(x, y, w, h);\n    };\n    Device_GL.prototype.setScissorRect = function (x, y, w, h) {\n        var gl = this.gl;\n        this.setScissorRectEnabled(true);\n        gl.scissor(x, y, w, h);\n    };\n    Device_GL.prototype.applyAttachmentStateIndexed = function (i, currentAttachmentState, newAttachmentState) {\n        var gl = this.gl;\n        var dbi = this.OES_draw_buffers_indexed;\n        if (currentAttachmentState.channelWriteMask !==\n            newAttachmentState.channelWriteMask) {\n            dbi.colorMaskiOES(i, !!(newAttachmentState.channelWriteMask & ChannelWriteMask.RED), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.GREEN), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.BLUE), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.ALPHA));\n            currentAttachmentState.channelWriteMask =\n                newAttachmentState.channelWriteMask;\n        }\n        var blendModeChanged = currentAttachmentState.rgbBlendState.blendMode !==\n            newAttachmentState.rgbBlendState.blendMode ||\n            currentAttachmentState.alphaBlendState.blendMode !==\n                newAttachmentState.alphaBlendState.blendMode;\n        var blendFuncChanged = currentAttachmentState.rgbBlendState.blendSrcFactor !==\n            newAttachmentState.rgbBlendState.blendSrcFactor ||\n            currentAttachmentState.alphaBlendState.blendSrcFactor !==\n                newAttachmentState.alphaBlendState.blendSrcFactor ||\n            currentAttachmentState.rgbBlendState.blendDstFactor !==\n                newAttachmentState.rgbBlendState.blendDstFactor ||\n            currentAttachmentState.alphaBlendState.blendDstFactor !==\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        if (blendFuncChanged || blendModeChanged) {\n            if (isBlendStateNone(currentAttachmentState.rgbBlendState) &&\n                isBlendStateNone(currentAttachmentState.alphaBlendState))\n                dbi.enableiOES(i, gl.BLEND);\n            else if (isBlendStateNone(newAttachmentState.rgbBlendState) &&\n                isBlendStateNone(newAttachmentState.alphaBlendState))\n                dbi.disableiOES(i, gl.BLEND);\n        }\n        if (blendModeChanged) {\n            dbi.blendEquationSeparateiOES(i, newAttachmentState.rgbBlendState.blendMode, newAttachmentState.alphaBlendState.blendMode);\n            currentAttachmentState.rgbBlendState.blendMode =\n                newAttachmentState.rgbBlendState.blendMode;\n            currentAttachmentState.alphaBlendState.blendMode =\n                newAttachmentState.alphaBlendState.blendMode;\n        }\n        if (blendFuncChanged) {\n            dbi.blendFuncSeparateiOES(i, newAttachmentState.rgbBlendState.blendSrcFactor, newAttachmentState.rgbBlendState.blendDstFactor, newAttachmentState.alphaBlendState.blendSrcFactor, newAttachmentState.alphaBlendState.blendDstFactor);\n            currentAttachmentState.rgbBlendState.blendSrcFactor =\n                newAttachmentState.rgbBlendState.blendSrcFactor;\n            currentAttachmentState.alphaBlendState.blendSrcFactor =\n                newAttachmentState.alphaBlendState.blendSrcFactor;\n            currentAttachmentState.rgbBlendState.blendDstFactor =\n                newAttachmentState.rgbBlendState.blendDstFactor;\n            currentAttachmentState.alphaBlendState.blendDstFactor =\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        }\n    };\n    Device_GL.prototype.applyAttachmentState = function (currentAttachmentState, newAttachmentState) {\n        var gl = this.gl;\n        if (currentAttachmentState.channelWriteMask !==\n            newAttachmentState.channelWriteMask) {\n            gl.colorMask(!!(newAttachmentState.channelWriteMask & ChannelWriteMask.RED), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.GREEN), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.BLUE), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.ALPHA));\n            currentAttachmentState.channelWriteMask =\n                newAttachmentState.channelWriteMask;\n        }\n        var blendModeChanged = currentAttachmentState.rgbBlendState.blendMode !==\n            newAttachmentState.rgbBlendState.blendMode ||\n            currentAttachmentState.alphaBlendState.blendMode !==\n                newAttachmentState.alphaBlendState.blendMode;\n        var blendFuncChanged = currentAttachmentState.rgbBlendState.blendSrcFactor !==\n            newAttachmentState.rgbBlendState.blendSrcFactor ||\n            currentAttachmentState.alphaBlendState.blendSrcFactor !==\n                newAttachmentState.alphaBlendState.blendSrcFactor ||\n            currentAttachmentState.rgbBlendState.blendDstFactor !==\n                newAttachmentState.rgbBlendState.blendDstFactor ||\n            currentAttachmentState.alphaBlendState.blendDstFactor !==\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        if (blendFuncChanged || blendModeChanged) {\n            if (isBlendStateNone(currentAttachmentState.rgbBlendState) &&\n                isBlendStateNone(currentAttachmentState.alphaBlendState)) {\n                gl.enable(gl.BLEND);\n            }\n            else if (isBlendStateNone(newAttachmentState.rgbBlendState) &&\n                isBlendStateNone(newAttachmentState.alphaBlendState)) {\n                gl.disable(gl.BLEND);\n            }\n        }\n        if (blendModeChanged) {\n            gl.blendEquationSeparate(newAttachmentState.rgbBlendState.blendMode, newAttachmentState.alphaBlendState.blendMode);\n            currentAttachmentState.rgbBlendState.blendMode =\n                newAttachmentState.rgbBlendState.blendMode;\n            currentAttachmentState.alphaBlendState.blendMode =\n                newAttachmentState.alphaBlendState.blendMode;\n        }\n        if (blendFuncChanged) {\n            gl.blendFuncSeparate(newAttachmentState.rgbBlendState.blendSrcFactor, newAttachmentState.rgbBlendState.blendDstFactor, newAttachmentState.alphaBlendState.blendSrcFactor, newAttachmentState.alphaBlendState.blendDstFactor);\n            currentAttachmentState.rgbBlendState.blendSrcFactor =\n                newAttachmentState.rgbBlendState.blendSrcFactor;\n            currentAttachmentState.alphaBlendState.blendSrcFactor =\n                newAttachmentState.alphaBlendState.blendSrcFactor;\n            currentAttachmentState.rgbBlendState.blendDstFactor =\n                newAttachmentState.rgbBlendState.blendDstFactor;\n            currentAttachmentState.alphaBlendState.blendDstFactor =\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        }\n    };\n    Device_GL.prototype.setMegaState = function (newMegaState) {\n        var gl = this.gl;\n        var currentMegaState = this.currentMegaState;\n        if (this.OES_draw_buffers_indexed !== null) {\n            for (var i = 0; i < newMegaState.attachmentsState.length; i++)\n                this.applyAttachmentStateIndexed(i, currentMegaState.attachmentsState[0], newMegaState.attachmentsState[0]);\n        }\n        else {\n            assert(newMegaState.attachmentsState.length === 1);\n            this.applyAttachmentState(currentMegaState.attachmentsState[0], newMegaState.attachmentsState[0]);\n        }\n        if (!colorEqual(currentMegaState.blendConstant, newMegaState.blendConstant)) {\n            gl.blendColor(newMegaState.blendConstant.r, newMegaState.blendConstant.g, newMegaState.blendConstant.b, newMegaState.blendConstant.a);\n            colorCopy(currentMegaState.blendConstant, newMegaState.blendConstant);\n        }\n        if (currentMegaState.depthCompare !== newMegaState.depthCompare) {\n            gl.depthFunc(newMegaState.depthCompare);\n            currentMegaState.depthCompare = newMegaState.depthCompare;\n        }\n        if (!!currentMegaState.depthWrite !== !!newMegaState.depthWrite) {\n            gl.depthMask(newMegaState.depthWrite);\n            currentMegaState.depthWrite = newMegaState.depthWrite;\n        }\n        if (!!currentMegaState.stencilWrite !== !!newMegaState.stencilWrite) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMask\n            gl.stencilMask(newMegaState.stencilWrite ? 0xff : 0x00);\n            currentMegaState.stencilWrite = newMegaState.stencilWrite;\n        }\n        if (!stencilFaceStateEquals(currentMegaState.stencilFront, newMegaState.stencilFront)) {\n            var _a = newMegaState.stencilFront, passOp = _a.passOp, failOp = _a.failOp, depthFailOp = _a.depthFailOp, compare = _a.compare;\n            if (currentMegaState.stencilFront.passOp !== passOp ||\n                currentMegaState.stencilFront.failOp !== failOp ||\n                currentMegaState.stencilFront.depthFailOp !== depthFailOp) {\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOpSeparate\n                gl.stencilOpSeparate(gl.FRONT, failOp, depthFailOp, passOp);\n                currentMegaState.stencilFront.passOp = passOp;\n                currentMegaState.stencilFront.failOp = failOp;\n                currentMegaState.stencilFront.depthFailOp = depthFailOp;\n            }\n            if (currentMegaState.stencilFront.compare !== compare) {\n                this.setStencilReference(0);\n                currentMegaState.stencilFront.compare = compare;\n            }\n        }\n        if (!stencilFaceStateEquals(currentMegaState.stencilBack, newMegaState.stencilBack)) {\n            var _b = newMegaState.stencilBack, passOp = _b.passOp, failOp = _b.failOp, depthFailOp = _b.depthFailOp, compare = _b.compare;\n            if (currentMegaState.stencilBack.passOp !== passOp ||\n                currentMegaState.stencilBack.failOp !== failOp ||\n                currentMegaState.stencilBack.depthFailOp !== depthFailOp) {\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOpSeparate\n                gl.stencilOpSeparate(gl.BACK, failOp, depthFailOp, passOp);\n                currentMegaState.stencilBack.passOp = passOp;\n                currentMegaState.stencilBack.failOp = failOp;\n                currentMegaState.stencilBack.depthFailOp = depthFailOp;\n            }\n            if (currentMegaState.stencilBack.compare !== compare) {\n                this.setStencilReference(0);\n                currentMegaState.stencilBack.compare = compare;\n            }\n        }\n        // if (\n        //   currentMegaState.stencilCompare !== newMegaState.stencilCompare\n        // ) {\n        //   currentMegaState.stencilCompare = newMegaState.stencilCompare;\n        //   this.setStencilReference(newMegaState.stencilRef);\n        // }\n        if (currentMegaState.cullMode !== newMegaState.cullMode) {\n            if (currentMegaState.cullMode === CullMode.NONE) {\n                gl.enable(gl.CULL_FACE);\n            }\n            else if (newMegaState.cullMode === CullMode.NONE) {\n                gl.disable(gl.CULL_FACE);\n            }\n            if (newMegaState.cullMode === CullMode.BACK) {\n                gl.cullFace(gl.BACK);\n            }\n            else if (newMegaState.cullMode === CullMode.FRONT) {\n                gl.cullFace(gl.FRONT);\n            }\n            else if (newMegaState.cullMode === CullMode.FRONT_AND_BACK) {\n                gl.cullFace(gl.FRONT_AND_BACK);\n            }\n            currentMegaState.cullMode = newMegaState.cullMode;\n        }\n        if (currentMegaState.frontFace !== newMegaState.frontFace) {\n            gl.frontFace(newMegaState.frontFace);\n            currentMegaState.frontFace = newMegaState.frontFace;\n        }\n        if (currentMegaState.polygonOffset !== newMegaState.polygonOffset) {\n            if (newMegaState.polygonOffset) {\n                gl.polygonOffset(1, 1);\n                gl.enable(gl.POLYGON_OFFSET_FILL);\n            }\n            else {\n                gl.disable(gl.POLYGON_OFFSET_FILL);\n            }\n            currentMegaState.polygonOffset = newMegaState.polygonOffset;\n        }\n    };\n    Device_GL.prototype.validatePipelineFormats = function (pipeline) {\n        for (var i = 0; i < this.currentColorAttachments.length; i++) {\n            var attachment = this.currentColorAttachments[i];\n            if (attachment === null)\n                continue;\n            // assert(attachment.format === pipeline.colorAttachmentFormats[i]);\n        }\n        if (this.currentDepthStencilAttachment) {\n            assert(this.currentDepthStencilAttachment.format ===\n                pipeline.depthStencilAttachmentFormat);\n        }\n        if (this.currentSampleCount !== -1) {\n            assert(this.currentSampleCount === pipeline.sampleCount);\n        }\n    };\n    Device_GL.prototype.setPipeline = function (o) {\n        this.currentPipeline = o;\n        this.validatePipelineFormats(this.currentPipeline);\n        // We allow users to use \"non-ready\" pipelines for emergencies. In this case, there can be a bit of stuttering.\n        // assert(this.queryPipelineReady(this.currentPipeline));\n        this.setMegaState(this.currentPipeline.megaState);\n        var program = this.currentPipeline.program;\n        this.useProgram(program);\n        if (program.compileState === ProgramCompileState_GL.NeedsBind) {\n            var gl = this.gl;\n            var prog = program.gl_program;\n            var deviceProgram = program.descriptor;\n            var uniformBlocks = findall(deviceProgram.vertex.glsl, /uniform (\\w+) {([^]*?)}/g);\n            if (isWebGL2(gl)) {\n                for (var i = 0; i < uniformBlocks.length; i++) {\n                    var _a = __read(uniformBlocks[i], 2), blockName = _a[1];\n                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/getUniformBlockIndex\n                    var blockIdx = gl.getUniformBlockIndex(prog, blockName);\n                    if (blockIdx !== -1 && blockIdx !== 0xffffffff) {\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/uniformBlockBinding\n                        gl.uniformBlockBinding(prog, blockIdx, i);\n                    }\n                }\n            }\n            var samplers = findall(deviceProgram.vertex.glsl, /^uniform .*sampler\\S+ (\\w+);\\s* \\/\\/ BINDING=(\\d+)$/gm);\n            for (var i = 0; i < samplers.length; i++) {\n                var _b = __read(samplers[i], 3), name_1 = _b[1], location_1 = _b[2];\n                var samplerUniformLocation = gl.getUniformLocation(prog, name_1);\n                gl.uniform1i(samplerUniformLocation, parseInt(location_1));\n            }\n            program.compileState = ProgramCompileState_GL.ReadyToUse;\n        }\n    };\n    Device_GL.prototype.setVertexInput = function (inputLayout_, vertexBuffers, indexBuffer) {\n        var e_1, _a;\n        var _b;\n        if (inputLayout_ !== null) {\n            assert(this.currentPipeline.inputLayout === inputLayout_);\n            var inputLayout = inputLayout_;\n            this.bindVAO(inputLayout.vao);\n            var gl = this.gl;\n            for (var i = 0; i < inputLayout.vertexBufferDescriptors.length; i++) {\n                var vertexBufferDescriptor = inputLayout.vertexBufferDescriptors[i];\n                var arrayStride = vertexBufferDescriptor.arrayStride, attributes = vertexBufferDescriptor.attributes;\n                try {\n                    for (var attributes_1 = (e_1 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {\n                        var attribute = attributes_1_1.value;\n                        var shaderLocation = attribute.shaderLocation, offset = attribute.offset;\n                        // find location by name in WebGL1\n                        var location_2 = isWebGL2(gl)\n                            ? shaderLocation\n                            : (_b = inputLayout.program.attributes[shaderLocation]) === null || _b === void 0 ? void 0 : _b.location;\n                        if (!isNil(location_2)) {\n                            var vertexBuffer = vertexBuffers[i];\n                            if (vertexBuffer === null)\n                                continue;\n                            // @ts-ignore\n                            var format = attribute.vertexFormat;\n                            gl.bindBuffer(gl.ARRAY_BUFFER, getPlatformBuffer$1(vertexBuffer.buffer));\n                            var bufferOffset = (vertexBuffer.offset || 0) + offset;\n                            gl.vertexAttribPointer(location_2, format.size, format.type, format.normalized, arrayStride, bufferOffset);\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (attributes_1_1 && !attributes_1_1.done && (_a = attributes_1.return)) _a.call(attributes_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n            assert((indexBuffer !== null) === (inputLayout.indexBufferFormat !== null));\n            if (indexBuffer !== null) {\n                var buffer = indexBuffer.buffer;\n                assert(buffer.usage === BufferUsage.INDEX);\n                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, getPlatformBuffer$1(buffer));\n                this.currentIndexBufferByteOffset = indexBuffer.offset || 0;\n            }\n            else {\n                this.currentIndexBufferByteOffset = null;\n            }\n        }\n        else {\n            assert(this.currentPipeline.inputLayout === null);\n            assert(indexBuffer === null);\n            this.bindVAO(null);\n            this.currentIndexBufferByteOffset = 0;\n        }\n    };\n    Device_GL.prototype.setStencilReference = function (value) {\n        if (this.currentStencilRef === value) {\n            return;\n        }\n        this.currentStencilRef = value;\n        this.applyStencil();\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-draw\n     */\n    Device_GL.prototype.draw = function (vertexCount, instanceCount, firstVertex, firstInstance) {\n        var _a;\n        var gl = this.gl;\n        var pipeline = this.currentPipeline;\n        if (instanceCount) {\n            var params = [\n                pipeline.drawMode,\n                firstVertex || 0,\n                vertexCount,\n                instanceCount,\n            ];\n            if (isWebGL2(gl)) {\n                gl.drawArraysInstanced.apply(gl, __spreadArray([], __read(params), false));\n            }\n            else {\n                (_a = this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(_a, __spreadArray([], __read(params), false));\n            }\n        }\n        else {\n            gl.drawArrays(pipeline.drawMode, firstVertex, vertexCount);\n        }\n        this.debugGroupStatisticsDrawCall();\n        this.debugGroupStatisticsTriangles((vertexCount / 3) * Math.max(instanceCount, 1));\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindexed\n     */\n    Device_GL.prototype.drawIndexed = function (indexCount, instanceCount, firstIndex, baseVertex, firstInstance) {\n        var _a;\n        var gl = this.gl;\n        var pipeline = this.currentPipeline, inputLayout = assertExists(pipeline.inputLayout);\n        var byteOffset = assertExists(this.currentIndexBufferByteOffset) +\n            firstIndex * inputLayout.indexBufferCompByteSize;\n        if (instanceCount) {\n            var params = [\n                pipeline.drawMode,\n                indexCount,\n                inputLayout.indexBufferType,\n                byteOffset,\n                instanceCount,\n            ];\n            if (isWebGL2(gl)) {\n                gl.drawElementsInstanced.apply(gl, __spreadArray([], __read(params), false));\n            }\n            else {\n                (_a = this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(_a, __spreadArray([], __read(params), false));\n            }\n        }\n        else {\n            gl.drawElements(pipeline.drawMode, indexCount, inputLayout.indexBufferType, byteOffset);\n        }\n        this.debugGroupStatisticsDrawCall();\n        this.debugGroupStatisticsTriangles((indexCount / 3) * Math.max(instanceCount, 1));\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindirect\n     */\n    Device_GL.prototype.drawIndirect = function (indirectBuffer, indirectOffset) { };\n    Device_GL.prototype.drawIndexedIndirect = function (indirectBuffer, indirectOffset) { };\n    Device_GL.prototype.beginOcclusionQuery = function (queryIndex) {\n        var gl = this.gl;\n        if (isWebGL2(gl)) {\n            var queryPool = this.currentRenderPassDescriptor\n                .occlusionQueryPool;\n            gl.beginQuery(queryPool.gl_query_type, queryPool.gl_query[queryIndex]);\n        }\n    };\n    Device_GL.prototype.endOcclusionQuery = function () {\n        var gl = this.gl;\n        if (isWebGL2(gl)) {\n            var queryPool = this.currentRenderPassDescriptor\n                .occlusionQueryPool;\n            gl.endQuery(queryPool.gl_query_type);\n        }\n    };\n    Device_GL.prototype.pipelineQueryReady = function (o) {\n        var pipeline = o;\n        return this.queryProgramReady(pipeline.program);\n    };\n    Device_GL.prototype.pipelineForceReady = function (o) {\n        // No need to do anything; it will be forced to compile when used naturally.\n    };\n    Device_GL.prototype.endPass = function () {\n        var gl = this.gl;\n        var gl2 = isWebGL2(gl);\n        var didUnbindDraw = false;\n        for (var i = 0; i < this.currentColorAttachments.length; i++) {\n            var colorResolveFrom = this.currentColorAttachments[i];\n            if (colorResolveFrom !== null) {\n                var colorResolveTo = this.currentColorResolveTos[i];\n                var didBindRead = false;\n                if (colorResolveTo !== null) {\n                    assert(colorResolveFrom.width === colorResolveTo.width &&\n                        colorResolveFrom.height === colorResolveTo.height);\n                    // assert(colorResolveFrom.format === colorResolveTo.format);\n                    this.setScissorRectEnabled(false);\n                    if (gl2) {\n                        gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.resolveColorReadFramebuffer);\n                    }\n                    if (this.resolveColorAttachmentsChanged) {\n                        if (gl2) {\n                            this.bindFramebufferAttachment(gl.READ_FRAMEBUFFER, gl.COLOR_ATTACHMENT0, colorResolveFrom, this.currentColorAttachmentLevels[i]);\n                        }\n                    }\n                    didBindRead = true;\n                    // Special case: Blitting to the on-screen.\n                    if (colorResolveTo === this.scTexture) {\n                        gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.scPlatformFramebuffer);\n                    }\n                    else {\n                        gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveColorDrawFramebuffer);\n                        if (this.resolveColorAttachmentsChanged)\n                            gl.framebufferTexture2D(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, colorResolveTo.gl_texture, this.currentColorResolveToLevels[i]);\n                    }\n                    if (gl2) {\n                        gl.blitFramebuffer(0, 0, colorResolveFrom.width, colorResolveFrom.height, 0, 0, colorResolveTo.width, colorResolveTo.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n                        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n                    }\n                    else {\n                        // need an extra render pass in WebGL1\n                        this.submitBlitRenderPass(colorResolveFrom, colorResolveTo);\n                    }\n                    didUnbindDraw = true;\n                }\n                if (!this.currentRenderPassDescriptor.colorStore[i]) {\n                    if (!didBindRead) {\n                        gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveColorReadFramebuffer);\n                        if (this.resolveColorAttachmentsChanged)\n                            this.bindFramebufferAttachment(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, colorResolveFrom, this.currentColorAttachmentLevels[i]);\n                    }\n                    // if (gl2) {\n                    //   gl.invalidateFramebuffer(gl.READ_FRAMEBUFFER, [\n                    //     gl.COLOR_ATTACHMENT0,\n                    //   ]);\n                    // }\n                }\n                gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n            }\n        }\n        this.resolveColorAttachmentsChanged = false;\n        var depthStencilResolveFrom = this.currentDepthStencilAttachment;\n        if (depthStencilResolveFrom) {\n            var depthStencilResolveTo = this.currentDepthStencilResolveTo;\n            var didBindRead = false;\n            if (depthStencilResolveTo) {\n                assert(depthStencilResolveFrom.width === depthStencilResolveTo.width &&\n                    depthStencilResolveFrom.height === depthStencilResolveTo.height);\n                this.setScissorRectEnabled(false);\n                gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveDepthStencilReadFramebuffer);\n                gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveDepthStencilDrawFramebuffer);\n                if (this.resolveDepthStencilAttachmentsChanged) {\n                    this.bindFramebufferDepthStencilAttachment(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, depthStencilResolveFrom);\n                    this.bindFramebufferDepthStencilAttachment(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, depthStencilResolveTo);\n                }\n                didBindRead = true;\n                if (gl2) {\n                    gl.blitFramebuffer(0, 0, depthStencilResolveFrom.width, depthStencilResolveFrom.height, 0, 0, depthStencilResolveTo.width, depthStencilResolveTo.height, gl.DEPTH_BUFFER_BIT, gl.NEAREST);\n                }\n                gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n                didUnbindDraw = true;\n            }\n            if (!this.currentRenderPassDescriptor.depthStencilStore) {\n                if (!didBindRead) {\n                    gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveDepthStencilReadFramebuffer);\n                    if (this.resolveDepthStencilAttachmentsChanged)\n                        this.bindFramebufferDepthStencilAttachment(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, depthStencilResolveFrom);\n                    didBindRead = true;\n                }\n                if (gl2) {\n                    gl.invalidateFramebuffer(gl.READ_FRAMEBUFFER, [\n                        gl.DEPTH_STENCIL_ATTACHMENT,\n                    ]);\n                }\n            }\n            if (didBindRead)\n                gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n            this.resolveDepthStencilAttachmentsChanged = false;\n        }\n        if (!didUnbindDraw) {\n            // If we did not unbind from a resolve, then we need to unbind our render pass draw FBO here.\n            gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n        }\n    };\n    Device_GL.prototype.setScissorRectEnabled = function (v) {\n        if (this.currentScissorEnabled === v) {\n            return;\n        }\n        var gl = this.gl;\n        if (v) {\n            gl.enable(gl.SCISSOR_TEST);\n        }\n        else {\n            gl.disable(gl.SCISSOR_TEST);\n        }\n        this.currentScissorEnabled = v;\n    };\n    Device_GL.prototype.applyStencil = function () {\n        if (isNil(this.currentStencilRef)) {\n            return;\n        }\n        this.gl.stencilFuncSeparate(GL.FRONT, this.currentMegaState.stencilFront.compare, this.currentStencilRef, 0xff);\n        this.gl.stencilFuncSeparate(GL.BACK, this.currentMegaState.stencilBack.compare, this.currentStencilRef, 0xff);\n    };\n    Device_GL.prototype.getFallbackTexture = function (samplerEntry) {\n        var gl_target = samplerEntry.gl_target, formatKind = samplerEntry.formatKind;\n        if (gl_target === GL.TEXTURE_2D)\n            return formatKind === SamplerFormatKind.Depth\n                ? this.fallbackTexture2DDepth\n                : this.fallbackTexture2D;\n        else if (gl_target === GL.TEXTURE_2D_ARRAY)\n            return this.fallbackTexture2DArray;\n        else if (gl_target === GL.TEXTURE_3D)\n            return this.fallbackTexture3D;\n        else if (gl_target === GL.TEXTURE_CUBE_MAP)\n            return this.fallbackTextureCube;\n        else\n            throw new Error('whoops');\n    };\n    Device_GL.prototype.submitBlitRenderPass = function (resolveFrom, resolveTo) {\n        if (!this.blitRenderPipeline) {\n            this.blitProgram = this.createProgram({\n                vertex: {\n                    glsl: \"layout(location = 0) in vec2 a_Position;\\nout vec2 v_TexCoord;\\nvoid main() {\\n  v_TexCoord = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n\\n  #ifdef VIEWPORT_ORIGIN_TL\\n    v_TexCoord.y = 1.0 - v_TexCoord.y;\\n  #endif\\n}\",\n                },\n                fragment: {\n                    glsl: \"uniform sampler2D u_Texture;\\nin vec2 v_TexCoord;\\nout vec4 outputColor;\\nvoid main() {\\n  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);\\n}\",\n                },\n            });\n            this.blitVertexBuffer = this.createBuffer({\n                usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n                viewOrSize: new Float32Array([-4, -4, 4, -4, 0, 4]),\n            });\n            this.blitInputLayout = this.createInputLayout({\n                vertexBufferDescriptors: [\n                    {\n                        arrayStride: 4 * 2,\n                        stepMode: VertexStepMode.VERTEX,\n                        attributes: [\n                            {\n                                format: Format.F32_RG,\n                                offset: 4 * 0,\n                                shaderLocation: 0,\n                            },\n                        ],\n                    },\n                ],\n                indexBufferFormat: null,\n                program: this.blitProgram,\n            });\n            this.blitRenderPipeline = this.createRenderPipeline({\n                topology: PrimitiveTopology.TRIANGLES,\n                sampleCount: 1,\n                program: this.blitProgram,\n                colorAttachmentFormats: [Format.U8_RGBA_RT],\n                depthStencilAttachmentFormat: null,\n                inputLayout: this.blitInputLayout,\n                megaStateDescriptor: copyMegaState(defaultMegaState),\n            });\n            this.blitBindings = this.createBindings({\n                samplerBindings: [\n                    {\n                        sampler: null,\n                        texture: resolveFrom.texture,\n                    },\n                ],\n                uniformBufferBindings: [],\n            });\n            this.blitProgram.setUniformsLegacy({\n                u_Texture: resolveFrom,\n            });\n        }\n        // save currentRenderPassDescriptor since we're already in a render pass\n        var currentRenderPassDescriptor = this.currentRenderPassDescriptor;\n        this.currentRenderPassDescriptor = null;\n        this.inBlitRenderPass = true;\n        var blitRenderPass = this.createRenderPass({\n            colorAttachment: [resolveFrom],\n            colorResolveTo: [resolveTo],\n            colorClearColor: [TransparentWhite],\n        });\n        var _a = this.getCanvas(), width = _a.width, height = _a.height;\n        blitRenderPass.setPipeline(this.blitRenderPipeline);\n        blitRenderPass.setBindings(this.blitBindings);\n        blitRenderPass.setVertexInput(this.blitInputLayout, [{ buffer: this.blitVertexBuffer }], null);\n        blitRenderPass.setViewport(0, 0, width, height);\n        // disable blending for blit\n        this.gl.disable(this.gl.BLEND);\n        blitRenderPass.draw(3, 0);\n        this.gl.enable(this.gl.BLEND);\n        // restore\n        this.currentRenderPassDescriptor = currentRenderPassDescriptor;\n        this.inBlitRenderPass = false;\n    };\n    return Device_GL;\n}());\n\nvar WebGLDeviceContribution = /** @class */ (function () {\n    function WebGLDeviceContribution(pluginOptions) {\n        this.pluginOptions = pluginOptions;\n    }\n    WebGLDeviceContribution.prototype.createSwapChain = function ($canvas) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, targets, xrCompatible, _b, antialias, _c, preserveDrawingBuffer, _d, premultipliedAlpha, options, gl;\n            return __generator(this, function (_e) {\n                _a = this.pluginOptions, targets = _a.targets, xrCompatible = _a.xrCompatible, _b = _a.antialias, antialias = _b === void 0 ? false : _b, _c = _a.preserveDrawingBuffer, preserveDrawingBuffer = _c === void 0 ? false : _c, _d = _a.premultipliedAlpha, premultipliedAlpha = _d === void 0 ? true : _d;\n                options = {\n                    // alpha: true,\n                    antialias: antialias,\n                    // @see https://stackoverflow.com/questions/27746091/preservedrawingbuffer-false-is-it-worth-the-effort\n                    preserveDrawingBuffer: preserveDrawingBuffer,\n                    // @see https://webglfundamentals.org/webgl/lessons/webgl-qna-how-to-use-the-stencil-buffer.html\n                    stencil: true,\n                    // @see https://webglfundamentals.org/webgl/lessons/webgl-and-alpha.html\n                    premultipliedAlpha: premultipliedAlpha,\n                    xrCompatible: xrCompatible,\n                };\n                this.handleContextEvents($canvas);\n                if (targets.includes('webgl2')) {\n                    gl =\n                        $canvas.getContext('webgl2', options) ||\n                            $canvas.getContext('experimental-webgl2', options);\n                }\n                if (!gl && targets.includes('webgl1')) {\n                    gl =\n                        $canvas.getContext('webgl', options) ||\n                            $canvas.getContext('experimental-webgl', options);\n                }\n                return [2 /*return*/, new Device_GL(gl, {\n                        shaderDebug: true,\n                        trackResources: true,\n                    })];\n            });\n        });\n    };\n    WebGLDeviceContribution.prototype.handleContextEvents = function ($canvas) {\n        var _a = this.pluginOptions, onContextLost = _a.onContextLost, onContextRestored = _a.onContextRestored, onContextCreationError = _a.onContextCreationError;\n        // bind context event listeners\n        if (onContextCreationError) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/webglcontextcreationerror_event\n            $canvas.addEventListener('webglcontextcreationerror', onContextCreationError, false);\n        }\n        if (onContextLost) {\n            $canvas.addEventListener('webglcontextlost', onContextLost, false);\n        }\n        if (onContextRestored) {\n            $canvas.addEventListener('webglcontextrestored', onContextRestored, false);\n        }\n    };\n    return WebGLDeviceContribution;\n}());\n\nlet wasm;\n\nconst cachedTextDecoder =\n  typeof TextDecoder !== 'undefined'\n    ? new TextDecoder('utf-8', { ignoreBOM: true, fatal: true })\n    : {\n        decode: () => {\n          throw Error('TextDecoder not available');\n        },\n      };\n\nif (typeof TextDecoder !== 'undefined') {\n  cachedTextDecoder.decode();\n}\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n  if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n    cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n  }\n  return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n  ptr = ptr >>> 0;\n  return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction addHeapObject(obj) {\n  if (heap_next === heap.length) heap.push(heap.length + 1);\n  const idx = heap_next;\n  heap_next = heap[idx];\n\n  heap[idx] = obj;\n  return idx;\n}\n\nfunction getObject(idx) {\n  return heap[idx];\n}\n\nfunction dropObject(idx) {\n  if (idx < 132) return;\n  heap[idx] = heap_next;\n  heap_next = idx;\n}\n\nfunction takeObject(idx) {\n  const ret = getObject(idx);\n  dropObject(idx);\n  return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst cachedTextEncoder =\n  typeof TextEncoder !== 'undefined'\n    ? new TextEncoder('utf-8')\n    : {\n        encode: () => {\n          throw Error('TextEncoder not available');\n        },\n      };\n\nconst encodeString =\n  typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n        return cachedTextEncoder.encodeInto(arg, view);\n      }\n    : function (arg, view) {\n        const buf = cachedTextEncoder.encode(arg);\n        view.set(buf);\n        return {\n          read: arg.length,\n          written: buf.length,\n        };\n      };\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n  if (realloc === undefined) {\n    const buf = cachedTextEncoder.encode(arg);\n    const ptr = malloc(buf.length, 1) >>> 0;\n    getUint8Memory0()\n      .subarray(ptr, ptr + buf.length)\n      .set(buf);\n    WASM_VECTOR_LEN = buf.length;\n    return ptr;\n  }\n\n  let len = arg.length;\n  let ptr = malloc(len, 1) >>> 0;\n\n  const mem = getUint8Memory0();\n\n  let offset = 0;\n\n  for (; offset < len; offset++) {\n    const code = arg.charCodeAt(offset);\n    if (code > 0x7f) break;\n    mem[ptr + offset] = code;\n  }\n\n  if (offset !== len) {\n    if (offset !== 0) {\n      arg = arg.slice(offset);\n    }\n    ptr = realloc(ptr, len, (len = offset + arg.length * 3), 1) >>> 0;\n    const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n    const ret = encodeString(arg, view);\n\n    offset += ret.written;\n  }\n\n  WASM_VECTOR_LEN = offset;\n  return ptr;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n  if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n    cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n  }\n  return cachedInt32Memory0;\n}\n/**\n * @param {string} source\n * @param {string} stage\n * @param {boolean} validation_enabled\n * @returns {string}\n */\nfunction glsl_compile(source, stage, validation_enabled) {\n  let deferred3_0;\n  let deferred3_1;\n  try {\n    const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n    const ptr0 = passStringToWasm0(\n      source,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len0 = WASM_VECTOR_LEN;\n    const ptr1 = passStringToWasm0(\n      stage,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len1 = WASM_VECTOR_LEN;\n    wasm.glsl_compile(retptr, ptr0, len0, ptr1, len1, validation_enabled);\n    var r0 = getInt32Memory0()[retptr / 4 + 0];\n    var r1 = getInt32Memory0()[retptr / 4 + 1];\n    deferred3_0 = r0;\n    deferred3_1 = r1;\n    return getStringFromWasm0(r0, r1);\n  } finally {\n    wasm.__wbindgen_add_to_stack_pointer(16);\n    wasm.__wbindgen_free(deferred3_0, deferred3_1, 1);\n  }\n}\n\nasync function __wbg_load(module, imports) {\n  if (typeof Response === 'function' && module instanceof Response) {\n    if (typeof WebAssembly.instantiateStreaming === 'function') {\n      try {\n        return await WebAssembly.instantiateStreaming(module, imports);\n      } catch (e) {\n        if (module.headers.get('Content-Type') != 'application/wasm') {\n          console.warn(\n            '`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n',\n            e,\n          );\n        } else {\n          throw e;\n        }\n      }\n    }\n\n    const bytes = await module.arrayBuffer();\n    return await WebAssembly.instantiate(bytes, imports);\n  } else {\n    const instance = await WebAssembly.instantiate(module, imports);\n\n    if (instance instanceof WebAssembly.Instance) {\n      return { instance, module };\n    } else {\n      return instance;\n    }\n  }\n}\n\nfunction __wbg_get_imports() {\n  const imports = {};\n  imports.wbg = {};\n  imports.wbg.__wbindgen_string_new = function (arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return addHeapObject(ret);\n  };\n  imports.wbg.__wbindgen_object_drop_ref = function (arg0) {\n    takeObject(arg0);\n  };\n  imports.wbg.__wbg_log_1d3ae0273d8f4f8a = function (arg0) {\n    console.log(getObject(arg0));\n  };\n  imports.wbg.__wbg_log_576ca876af0d4a77 = function (arg0, arg1) {\n    console.log(getObject(arg0), getObject(arg1));\n  };\n  imports.wbg.__wbindgen_throw = function (arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n  };\n\n  return imports;\n}\n\nfunction __wbg_finalize_init(instance, module) {\n  wasm = instance.exports;\n  __wbg_init.__wbindgen_wasm_module = module;\n  cachedInt32Memory0 = null;\n  cachedUint8Memory0 = null;\n\n  return wasm;\n}\n\nasync function __wbg_init(input) {\n  if (wasm !== undefined) return wasm;\n  const imports = __wbg_get_imports();\n\n  if (\n    typeof input === 'string' ||\n    (typeof Request === 'function' && input instanceof Request) ||\n    (typeof URL === 'function' && input instanceof URL)\n  ) {\n    input = fetch(input);\n  }\n\n  const { instance, module } = await __wbg_load(await input, imports);\n\n  return __wbg_finalize_init(instance, module);\n}\n\n/**\n * @see https://github.com/gpuweb/cts/blob/main/src/webgpu/constants.ts\n */\nvar GPUTextureUsage$1;\n(function (GPUTextureUsage) {\n    GPUTextureUsage[GPUTextureUsage[\"COPY_SRC\"] = 1] = \"COPY_SRC\";\n    GPUTextureUsage[GPUTextureUsage[\"COPY_DST\"] = 2] = \"COPY_DST\";\n    GPUTextureUsage[GPUTextureUsage[\"TEXTURE_BINDING\"] = 4] = \"TEXTURE_BINDING\";\n    // SAMPLED= 0x04,\n    GPUTextureUsage[GPUTextureUsage[\"STORAGE_BINDING\"] = 8] = \"STORAGE_BINDING\";\n    GPUTextureUsage[GPUTextureUsage[\"STORAGE\"] = 8] = \"STORAGE\";\n    GPUTextureUsage[GPUTextureUsage[\"RENDER_ATTACHMENT\"] = 16] = \"RENDER_ATTACHMENT\";\n})(GPUTextureUsage$1 || (GPUTextureUsage$1 = {}));\n// @see https://www.w3.org/TR/webgpu/#typedefdef-gpumapmodeflags\nvar GPUMapMode;\n(function (GPUMapMode) {\n    GPUMapMode[GPUMapMode[\"READ\"] = 1] = \"READ\";\n    GPUMapMode[GPUMapMode[\"WRITE\"] = 2] = \"WRITE\";\n})(GPUMapMode || (GPUMapMode = {}));\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/GPUTexture/usage#value\n */\nfunction translateTextureUsage(usage) {\n    var gpuUsage = 0;\n    if (usage & TextureUsage.SAMPLED)\n        gpuUsage |= GPUTextureUsage$1.TEXTURE_BINDING | GPUTextureUsage$1.COPY_DST;\n    if (usage & TextureUsage.RENDER_TARGET)\n        gpuUsage |=\n            GPUTextureUsage$1.RENDER_ATTACHMENT |\n                GPUTextureUsage$1.TEXTURE_BINDING |\n                GPUTextureUsage$1.COPY_SRC |\n                GPUTextureUsage$1.COPY_DST;\n    return gpuUsage;\n}\nfunction translateTextureFormat(format) {\n    if (format === Format.U8_R_NORM)\n        return 'r8unorm';\n    else if (format === Format.U8_RG_NORM)\n        return 'rg8unorm';\n    else if (format === Format.U8_RGBA_RT)\n        return 'bgra8unorm';\n    else if (format === Format.U8_RGBA_RT_SRGB)\n        return 'bgra8unorm-srgb';\n    else if (format === Format.U8_RGBA_NORM)\n        return 'rgba8unorm';\n    else if (format === Format.U8_RGBA_SRGB)\n        return 'rgba8unorm-srgb';\n    else if (format === Format.S8_R_NORM)\n        return 'r8snorm';\n    else if (format === Format.S8_RG_NORM)\n        return 'rg8snorm';\n    else if (format === Format.S8_RGBA_NORM)\n        return 'rgba8snorm';\n    else if (format === Format.U32_R)\n        return 'r32uint';\n    else if (format === Format.F16_RGBA)\n        return 'rgba16float';\n    else if (format === Format.F32_RGBA)\n        return 'rgba32float';\n    else if (format === Format.D24)\n        return 'depth24plus';\n    else if (format === Format.D24_S8)\n        return 'depth24plus-stencil8';\n    else if (format === Format.D32F)\n        return 'depth32float';\n    else if (format === Format.D32F_S8)\n        return 'depth32float-stencil8';\n    else if (format === Format.BC1)\n        return 'bc1-rgba-unorm';\n    else if (format === Format.BC1_SRGB)\n        return 'bc1-rgba-unorm-srgb';\n    else if (format === Format.BC2)\n        return 'bc2-rgba-unorm';\n    else if (format === Format.BC2_SRGB)\n        return 'bc2-rgba-unorm-srgb';\n    else if (format === Format.BC3)\n        return 'bc3-rgba-unorm';\n    else if (format === Format.BC3_SRGB)\n        return 'bc3-rgba-unorm-srgb';\n    else if (format === Format.BC4_SNORM)\n        return 'bc4-r-snorm';\n    else if (format === Format.BC4_UNORM)\n        return 'bc4-r-unorm';\n    else if (format === Format.BC5_SNORM)\n        return 'bc5-rg-snorm';\n    else if (format === Format.BC5_UNORM)\n        return 'bc5-rg-unorm';\n    else\n        throw 'whoops';\n}\nfunction translateTextureDimension(dimension) {\n    if (dimension === TextureDimension.TEXTURE_2D)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_3D)\n        return '3d';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gputextureviewdimension\n */\nfunction translateTextureViewDimension(dimension) {\n    if (dimension === TextureDimension.TEXTURE_2D)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n        return 'cube';\n    else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n        return '2d-array';\n    else if (dimension === TextureDimension.TEXTURE_3D)\n        return '3d';\n    else\n        throw new Error('whoops');\n}\nfunction translateBufferUsage(usage_) {\n    var usage = 0;\n    if (usage_ & BufferUsage.INDEX)\n        usage |= GPUBufferUsage.INDEX;\n    if (usage_ & BufferUsage.VERTEX)\n        usage |= GPUBufferUsage.VERTEX;\n    if (usage_ & BufferUsage.UNIFORM)\n        usage |= GPUBufferUsage.UNIFORM;\n    if (usage_ & BufferUsage.STORAGE)\n        usage |= GPUBufferUsage.STORAGE;\n    if (usage_ & BufferUsage.COPY_SRC)\n        usage |= GPUBufferUsage.COPY_SRC;\n    usage |= GPUBufferUsage.COPY_DST;\n    return usage;\n}\nfunction translateAddressMode(wrapMode) {\n    if (wrapMode === AddressMode.CLAMP_TO_EDGE)\n        return 'clamp-to-edge';\n    else if (wrapMode === AddressMode.REPEAT)\n        return 'repeat';\n    else if (wrapMode === AddressMode.MIRRORED_REPEAT)\n        return 'mirror-repeat';\n    else\n        throw new Error('whoops');\n}\nfunction translateMinMagFilter(texFilter) {\n    if (texFilter === FilterMode.BILINEAR)\n        return 'linear';\n    else if (texFilter === FilterMode.POINT)\n        return 'nearest';\n    else\n        throw new Error('whoops');\n}\n// @see https://www.w3.org/TR/webgpu/#enumdef-gpumipmapfiltermode\nfunction translateMipFilter(mipmapFilter) {\n    if (mipmapFilter === MipmapFilterMode.LINEAR)\n        return 'linear';\n    else if (mipmapFilter === MipmapFilterMode.NEAREST)\n        return 'nearest';\n    else if (mipmapFilter === MipmapFilterMode.NO_MIP)\n        return 'nearest';\n    else\n        throw new Error('whoops');\n}\nfunction getPlatformBuffer(buffer_) {\n    var buffer = buffer_;\n    return buffer.gpuBuffer;\n}\nfunction getPlatformSampler(sampler_) {\n    var sampler = sampler_;\n    return sampler.gpuSampler;\n}\nfunction getPlatformQuerySet(queryPool_) {\n    var queryPool = queryPool_;\n    return queryPool.querySet;\n}\nfunction translateQueryPoolType(type) {\n    if (type === QueryPoolType.OcclusionConservative)\n        return 'occlusion';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#primitive-state\n */\nfunction translateTopology(topology) {\n    switch (topology) {\n        case PrimitiveTopology.TRIANGLES:\n            return 'triangle-list';\n        case PrimitiveTopology.POINTS:\n            return 'point-list';\n        case PrimitiveTopology.TRIANGLE_STRIP:\n            return 'triangle-strip';\n        case PrimitiveTopology.LINES:\n            return 'line-list';\n        case PrimitiveTopology.LINE_STRIP:\n            return 'line-strip';\n        default:\n            throw new Error('Unknown primitive topology mode');\n    }\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpucullmode\n */\nfunction translateCullMode(cullMode) {\n    if (cullMode === CullMode.NONE)\n        return 'none';\n    else if (cullMode === CullMode.FRONT)\n        return 'front';\n    else if (cullMode === CullMode.BACK)\n        return 'back';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpufrontface\n */\nfunction translateFrontFace(frontFaceMode) {\n    if (frontFaceMode === FrontFace.CCW)\n        return 'ccw';\n    else if (frontFaceMode === FrontFace.CW)\n        return 'cw';\n    else\n        throw new Error('whoops');\n}\nfunction translatePrimitiveState(topology, megaStateDescriptor) {\n    return {\n        topology: translateTopology(topology),\n        cullMode: translateCullMode(megaStateDescriptor.cullMode),\n        frontFace: translateFrontFace(megaStateDescriptor.frontFace),\n    };\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendfactor\n */\nfunction translateBlendFactor(factor) {\n    if (factor === BlendFactor.ZERO)\n        return 'zero';\n    else if (factor === BlendFactor.ONE)\n        return 'one';\n    else if (factor === BlendFactor.SRC)\n        return 'src';\n    else if (factor === BlendFactor.ONE_MINUS_SRC)\n        return 'one-minus-src';\n    else if (factor === BlendFactor.DST)\n        return 'dst';\n    else if (factor === BlendFactor.ONE_MINUS_DST)\n        return 'one-minus-dst';\n    else if (factor === BlendFactor.SRC_ALPHA)\n        return 'src-alpha';\n    else if (factor === BlendFactor.ONE_MINUS_SRC_ALPHA)\n        return 'one-minus-src-alpha';\n    else if (factor === BlendFactor.DST_ALPHA)\n        return 'dst-alpha';\n    else if (factor === BlendFactor.ONE_MINUS_DST_ALPHA)\n        return 'one-minus-dst-alpha';\n    else if (factor === BlendFactor.CONST)\n        return 'constant';\n    else if (factor === BlendFactor.ONE_MINUS_CONSTANT)\n        return 'one-minus-constant';\n    else if (factor === BlendFactor.SRC_ALPHA_SATURATE)\n        return 'src-alpha-saturated';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendoperation\n */\nfunction translateBlendMode(mode) {\n    if (mode === BlendMode.ADD)\n        return 'add';\n    else if (mode === BlendMode.SUBSTRACT)\n        return 'subtract';\n    else if (mode === BlendMode.REVERSE_SUBSTRACT)\n        return 'reverse-subtract';\n    else if (mode === BlendMode.MIN)\n        return 'min';\n    else if (mode === BlendMode.MAX)\n        return 'max';\n    else\n        throw new Error('whoops');\n}\nfunction translateBlendComponent(ch) {\n    return {\n        operation: translateBlendMode(ch.blendMode),\n        srcFactor: translateBlendFactor(ch.blendSrcFactor),\n        dstFactor: translateBlendFactor(ch.blendDstFactor),\n    };\n}\nfunction blendComponentIsNil(ch) {\n    return (ch.blendMode === BlendMode.ADD &&\n        ch.blendSrcFactor === BlendFactor.ONE &&\n        ch.blendDstFactor === BlendFactor.ZERO);\n}\nfunction translateBlendState(attachmentState) {\n    if (blendComponentIsNil(attachmentState.rgbBlendState) &&\n        blendComponentIsNil(attachmentState.alphaBlendState)) {\n        return undefined;\n    }\n    else {\n        return {\n            color: translateBlendComponent(attachmentState.rgbBlendState),\n            alpha: translateBlendComponent(attachmentState.alphaBlendState),\n        };\n    }\n}\nfunction translateColorState(attachmentState, format) {\n    return {\n        format: translateTextureFormat(format),\n        blend: translateBlendState(attachmentState),\n        writeMask: attachmentState.channelWriteMask,\n    };\n}\nfunction translateTargets(colorAttachmentFormats, megaStateDescriptor) {\n    return megaStateDescriptor.attachmentsState.map(function (attachmentState, i) {\n        return translateColorState(attachmentState, colorAttachmentFormats[i]);\n    });\n}\n// @see https://www.w3.org/TR/webgpu/#enumdef-gpucomparefunction\nfunction translateCompareFunction(compareFunction) {\n    if (compareFunction === CompareFunction.NEVER)\n        return 'never';\n    else if (compareFunction === CompareFunction.LESS)\n        return 'less';\n    else if (compareFunction === CompareFunction.EQUAL)\n        return 'equal';\n    else if (compareFunction === CompareFunction.LEQUAL)\n        return 'less-equal';\n    else if (compareFunction === CompareFunction.GREATER)\n        return 'greater';\n    else if (compareFunction === CompareFunction.NOTEQUAL)\n        return 'not-equal';\n    else if (compareFunction === CompareFunction.GEQUAL)\n        return 'greater-equal';\n    else if (compareFunction === CompareFunction.ALWAYS)\n        return 'always';\n    else\n        throw new Error('whoops');\n}\nfunction translateStencilOperation(stencilOp) {\n    if (stencilOp === StencilOp.KEEP)\n        return 'keep';\n    else if (stencilOp === StencilOp.REPLACE)\n        return 'replace';\n    else if (stencilOp === StencilOp.ZERO)\n        return 'zero';\n    else if (stencilOp === StencilOp.DECREMENT_CLAMP)\n        return 'decrement-clamp';\n    else if (stencilOp === StencilOp.DECREMENT_WRAP)\n        return 'decrement-wrap';\n    else if (stencilOp === StencilOp.INCREMENT_CLAMP)\n        return 'increment-clamp';\n    else if (stencilOp === StencilOp.INCREMENT_WRAP)\n        return 'increment-wrap';\n    else if (stencilOp === StencilOp.INVERT)\n        return 'invert';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#dictdef-gpudepthstencilstate\n */\nfunction translateDepthStencilState(format, megaStateDescriptor) {\n    if (isNil(format))\n        return undefined;\n    return {\n        /**\n         * @see https://www.w3.org/TR/webgpu/#dom-gpudepthstencilstate-format\n         */\n        format: translateTextureFormat(format),\n        depthWriteEnabled: !!megaStateDescriptor.depthWrite,\n        depthCompare: translateCompareFunction(megaStateDescriptor.depthCompare),\n        depthBias: megaStateDescriptor.polygonOffset ? 1 : 0,\n        depthBiasSlopeScale: megaStateDescriptor.polygonOffset ? 1 : 0,\n        stencilFront: {\n            compare: translateCompareFunction(megaStateDescriptor.stencilFront.compare),\n            passOp: translateStencilOperation(megaStateDescriptor.stencilFront.passOp),\n            failOp: translateStencilOperation(megaStateDescriptor.stencilFront.failOp),\n            depthFailOp: translateStencilOperation(megaStateDescriptor.stencilFront.depthFailOp),\n        },\n        stencilBack: {\n            compare: translateCompareFunction(megaStateDescriptor.stencilBack.compare),\n            passOp: translateStencilOperation(megaStateDescriptor.stencilBack.passOp),\n            failOp: translateStencilOperation(megaStateDescriptor.stencilBack.failOp),\n            depthFailOp: translateStencilOperation(megaStateDescriptor.stencilBack.depthFailOp),\n        },\n        stencilReadMask: 1,\n        stencilWriteMask: 1,\n    };\n}\nfunction translateIndexFormat(format) {\n    if (format === null)\n        return undefined;\n    else if (format === Format.U16_R)\n        return 'uint16';\n    else if (format === Format.U32_R)\n        return 'uint32';\n    else\n        throw new Error('whoops');\n}\nfunction translateVertexStepMode(stepMode) {\n    if (stepMode === VertexStepMode.VERTEX)\n        return 'vertex';\n    else if (stepMode === VertexStepMode.INSTANCE)\n        return 'instance';\n    else\n        throw new Error('whoops');\n}\nfunction translateVertexFormat(format) {\n    if (format === Format.U8_R)\n        return 'uint8x2';\n    else if (format === Format.U8_RG)\n        return 'uint8x2';\n    else if (format === Format.U8_RGB)\n        return 'uint8x4';\n    else if (format === Format.U8_RGBA)\n        return 'uint8x4';\n    else if (format === Format.U8_RG_NORM)\n        return 'unorm8x2';\n    else if (format === Format.U8_RGBA_NORM)\n        return 'unorm8x4';\n    else if (format === Format.S8_RGB_NORM)\n        return 'snorm8x4';\n    else if (format === Format.S8_RGBA_NORM)\n        return 'snorm8x4';\n    else if (format === Format.U16_RG_NORM)\n        return 'unorm16x2';\n    else if (format === Format.U16_RGBA_NORM)\n        return 'unorm16x4';\n    else if (format === Format.S16_RG_NORM)\n        return 'snorm16x2';\n    else if (format === Format.S16_RGBA_NORM)\n        return 'snorm16x4';\n    else if (format === Format.S16_RG)\n        return 'uint16x2';\n    else if (format === Format.F16_RG)\n        return 'float16x2';\n    else if (format === Format.F16_RGBA)\n        return 'float16x4';\n    else if (format === Format.F32_R)\n        return 'float32';\n    else if (format === Format.F32_RG)\n        return 'float32x2';\n    else if (format === Format.F32_RGB)\n        return 'float32x3';\n    else if (format === Format.F32_RGBA)\n        return 'float32x4';\n    else\n        throw 'whoops';\n}\nfunction isFormatTextureCompressionBC(format) {\n    var formatTypeFlags = getFormatTypeFlags(format);\n    switch (formatTypeFlags) {\n        case FormatTypeFlags.BC1:\n        case FormatTypeFlags.BC2:\n        case FormatTypeFlags.BC3:\n        case FormatTypeFlags.BC4_SNORM:\n        case FormatTypeFlags.BC4_UNORM:\n        case FormatTypeFlags.BC5_SNORM:\n        case FormatTypeFlags.BC5_UNORM:\n            return true;\n        default:\n            return false;\n    }\n}\nfunction getFormatBlockSize(format) {\n    var formatTypeFlags = getFormatTypeFlags(format);\n    switch (formatTypeFlags) {\n        case FormatTypeFlags.BC1:\n        case FormatTypeFlags.BC2:\n        case FormatTypeFlags.BC3:\n        case FormatTypeFlags.BC4_SNORM:\n        case FormatTypeFlags.BC4_UNORM:\n        case FormatTypeFlags.BC5_SNORM:\n        case FormatTypeFlags.BC5_UNORM:\n            return 4;\n        default:\n            return 1;\n    }\n}\nfunction allocateAndCopyTypedBuffer(type, sizeOrDstBuffer, sizeInBytes, copyBuffer) {\n    if (sizeInBytes === void 0) { sizeInBytes = false; }\n    switch (type) {\n        case Format.S8_R:\n        case Format.S8_R_NORM:\n        case Format.S8_RG_NORM:\n        case Format.S8_RGB_NORM:\n        case Format.S8_RGBA_NORM: {\n            var buffer_1 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Int8Array(sizeOrDstBuffer)\n                : new Int8Array(sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_1.set(new Int8Array(copyBuffer));\n            }\n            return buffer_1;\n        }\n        case Format.U8_R:\n        case Format.U8_R_NORM:\n        case Format.U8_RG:\n        case Format.U8_RG_NORM:\n        case Format.U8_RGB:\n        case Format.U8_RGB_NORM:\n        case Format.U8_RGB_SRGB:\n        case Format.U8_RGBA:\n        case Format.U8_RGBA_NORM:\n        case Format.U8_RGBA_SRGB: {\n            var buffer_2 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Uint8Array(sizeOrDstBuffer)\n                : new Uint8Array(sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_2.set(new Uint8Array(copyBuffer));\n            }\n            return buffer_2;\n        }\n        case Format.S16_R:\n        case Format.S16_RG:\n        case Format.S16_RG_NORM:\n        case Format.S16_RGB_NORM:\n        case Format.S16_RGBA:\n        case Format.S16_RGBA_NORM: {\n            var buffer_3 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Int16Array(sizeOrDstBuffer)\n                : new Int16Array(sizeInBytes ? sizeOrDstBuffer / 2 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_3.set(new Int16Array(copyBuffer));\n            }\n            return buffer_3;\n        }\n        case Format.U16_R:\n        case Format.U16_RGB:\n        case Format.U16_RGBA_5551:\n        case Format.U16_RGBA_NORM:\n        case Format.U16_RG_NORM:\n        case Format.U16_R_NORM: {\n            var buffer_4 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Uint16Array(sizeOrDstBuffer)\n                : new Uint16Array(sizeInBytes ? sizeOrDstBuffer / 2 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_4.set(new Uint16Array(copyBuffer));\n            }\n            return buffer_4;\n        }\n        case Format.S32_R: {\n            var buffer_5 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Int32Array(sizeOrDstBuffer)\n                : new Int32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_5.set(new Int32Array(copyBuffer));\n            }\n            return buffer_5;\n        }\n        case Format.U32_R:\n        case Format.U32_RG: {\n            var buffer_6 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Uint32Array(sizeOrDstBuffer)\n                : new Uint32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_6.set(new Uint32Array(copyBuffer));\n            }\n            return buffer_6;\n        }\n        case Format.F32_R:\n        case Format.F32_RG:\n        case Format.F32_RGB:\n        case Format.F32_RGBA: {\n            var buffer_7 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Float32Array(sizeOrDstBuffer)\n                : new Float32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_7.set(new Float32Array(copyBuffer));\n            }\n            return buffer_7;\n        }\n    }\n    var buffer = sizeOrDstBuffer instanceof ArrayBuffer\n        ? new Uint8Array(sizeOrDstBuffer)\n        : new Uint8Array(sizeOrDstBuffer);\n    if (copyBuffer) {\n        buffer.set(new Uint8Array(copyBuffer));\n    }\n    return buffer;\n}\n/**\n * Converts a half float to a number\n * @param value half float to convert\n * @returns converted half float\n */\nfunction halfFloat2Number(value) {\n    var s = (value & 0x8000) >> 15;\n    var e = (value & 0x7c00) >> 10;\n    var f = value & 0x03ff;\n    if (e === 0) {\n        return (s ? -1 : 1) * Math.pow(2, -14) * (f / Math.pow(2, 10));\n    }\n    else if (e == 0x1f) {\n        return f ? NaN : (s ? -1 : 1) * Infinity;\n    }\n    return (s ? -1 : 1) * Math.pow(2, e - 15) * (1 + f / Math.pow(2, 10));\n}\n\nvar ResourceBase_WebGPU = /** @class */ (function (_super) {\n    __extends(ResourceBase_WebGPU, _super);\n    function ResourceBase_WebGPU(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.device = device;\n        return _this;\n    }\n    ResourceBase_WebGPU.prototype.destroy = function () { };\n    return ResourceBase_WebGPU;\n}(EventEmitter));\n\nvar Bindings_WebGPU = /** @class */ (function (_super) {\n    __extends(Bindings_WebGPU, _super);\n    function Bindings_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Bindings;\n        var pipeline = descriptor.pipeline;\n        assert(!!pipeline);\n        var uniformBufferBindings = descriptor.uniformBufferBindings, storageBufferBindings = descriptor.storageBufferBindings, samplerBindings = descriptor.samplerBindings;\n        _this.numUniformBuffers = (uniformBufferBindings === null || uniformBufferBindings === void 0 ? void 0 : uniformBufferBindings.length) || 0;\n        // entries orders: Storage(read-only storage) Uniform Sampler\n        var gpuBindGroupEntries = [[], []];\n        var numBindings = 0;\n        if (storageBufferBindings && storageBufferBindings.length) {\n            for (var i = 0; i < storageBufferBindings.length; i++) {\n                var _b = descriptor.storageBufferBindings[i], binding = _b.binding, size = _b.size, offset = _b.offset, buffer = _b.buffer;\n                var gpuBufferBinding = {\n                    buffer: getPlatformBuffer(buffer),\n                    offset: offset !== null && offset !== void 0 ? offset : 0,\n                    size: size,\n                };\n                gpuBindGroupEntries[0].push({\n                    binding: binding !== null && binding !== void 0 ? binding : numBindings++,\n                    resource: gpuBufferBinding,\n                });\n            }\n        }\n        if (uniformBufferBindings && uniformBufferBindings.length) {\n            for (var i = 0; i < uniformBufferBindings.length; i++) {\n                var _c = descriptor.uniformBufferBindings[i], binding = _c.binding, size = _c.size, offset = _c.offset, buffer = _c.buffer;\n                var gpuBufferBinding = {\n                    buffer: getPlatformBuffer(buffer),\n                    offset: offset !== null && offset !== void 0 ? offset : 0,\n                    size: size,\n                };\n                gpuBindGroupEntries[0].push({\n                    binding: binding !== null && binding !== void 0 ? binding : numBindings++,\n                    resource: gpuBufferBinding,\n                });\n            }\n        }\n        if (samplerBindings && samplerBindings.length) {\n            numBindings = 0;\n            for (var i = 0; i < samplerBindings.length; i++) {\n                var samplerEntry = __assign(__assign({}, samplerBindings[i]), defaultBindingLayoutSamplerDescriptor);\n                var binding = descriptor.samplerBindings[i];\n                var texture = binding.texture !== null\n                    ? binding.texture\n                    : _this.device['getFallbackTexture'](samplerEntry);\n                samplerEntry.dimension = texture.dimension;\n                samplerEntry.formatKind = getFormatSamplerKind(texture.format);\n                var gpuTextureView = texture.gpuTextureView;\n                gpuBindGroupEntries[1].push({\n                    binding: numBindings++,\n                    resource: gpuTextureView,\n                });\n                var sampler = binding.sampler !== null\n                    ? binding.sampler\n                    : _this.device['getFallbackSampler'](samplerEntry);\n                var gpuSampler = getPlatformSampler(sampler);\n                gpuBindGroupEntries[1].push({\n                    binding: numBindings++,\n                    resource: gpuSampler,\n                });\n            }\n        }\n        _this.gpuBindGroup = gpuBindGroupEntries\n            .filter(function (entries) { return entries.length > 0; })\n            .map(function (gpuBindGroupEntries, i) {\n            return _this.device.device.createBindGroup({\n                // layout: bindGroupLayout.gpuBindGroupLayout[i],\n                layout: pipeline.getBindGroupLayout(i),\n                entries: gpuBindGroupEntries,\n            });\n        });\n        return _this;\n    }\n    return Bindings_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Buffer_WebGPU = /** @class */ (function (_super) {\n    __extends(Buffer_WebGPU, _super);\n    function Buffer_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Buffer;\n        var usage = descriptor.usage, viewOrSize = descriptor.viewOrSize;\n        var useMapRead = !!(usage & BufferUsage.MAP_READ);\n        _this.usage = translateBufferUsage(usage);\n        // Buffer usages (BufferUsage::(MapRead|CopyDst|Storage)) is invalid. If a buffer usage contains BufferUsage::MapRead the only other allowed usage is BufferUsage::CopyDst.\n        // @see https://www.w3.org/TR/webgpu/#dom-gpubufferusage-copy_dst\n        if (useMapRead) {\n            _this.usage = BufferUsage.MAP_READ | BufferUsage.COPY_DST;\n        }\n        var mapBuffer = !isNumber(viewOrSize);\n        // this.size = isView(viewOrSize) ? viewOrSize.byteLength : viewOrSize * 4;\n        _this.view = !isNumber(viewOrSize) ? viewOrSize : null;\n        // 4 bytes alignments (because of the upload which requires this)\n        _this.size = isNumber(viewOrSize)\n            ? align(viewOrSize, 4)\n            : align(viewOrSize.byteLength, 4);\n        if (!isNumber(viewOrSize)) {\n            _this.gpuBuffer = _this.device.device.createBuffer({\n                usage: _this.usage,\n                size: _this.size,\n                mappedAtCreation: true,\n            });\n            var ctor = (viewOrSize && viewOrSize.constructor) || Float32Array;\n            // @ts-ignore\n            new ctor(_this.gpuBuffer.getMappedRange()).set(viewOrSize);\n            _this.gpuBuffer.unmap();\n        }\n        else {\n            _this.gpuBuffer = _this.device.device.createBuffer({\n                usage: _this.usage,\n                size: _this.size,\n                mappedAtCreation: useMapRead ? mapBuffer : false,\n            });\n        }\n        return _this;\n    }\n    Buffer_WebGPU.prototype.setSubData = function (dstByteOffset, src, srcByteOffset, byteLength) {\n        if (srcByteOffset === void 0) { srcByteOffset = 0; }\n        if (byteLength === void 0) { byteLength = 0; }\n        var buffer = this.gpuBuffer;\n        byteLength = byteLength || src.byteLength;\n        byteLength = Math.min(byteLength, this.size - dstByteOffset);\n        // After Migration to Canary\n        var chunkStart = src.byteOffset + srcByteOffset;\n        var chunkEnd = chunkStart + byteLength;\n        // 4 bytes alignments for upload\n        var alignedLength = (byteLength + 3) & ~3;\n        if (alignedLength !== byteLength) {\n            var tempView = new Uint8Array(src.buffer.slice(chunkStart, chunkEnd));\n            src = new Uint8Array(alignedLength);\n            src.set(tempView);\n            srcByteOffset = 0;\n            chunkStart = 0;\n            chunkEnd = alignedLength;\n            byteLength = alignedLength;\n        }\n        // Chunk\n        var maxChunk = 1024 * 1024 * 15;\n        var offset = 0;\n        while (chunkEnd - (chunkStart + offset) > maxChunk) {\n            this.device.device.queue.writeBuffer(buffer, dstByteOffset + offset, src.buffer, chunkStart + offset, maxChunk);\n            offset += maxChunk;\n        }\n        this.device.device.queue.writeBuffer(buffer, dstByteOffset + offset, src.buffer, chunkStart + offset, byteLength - offset);\n    };\n    Buffer_WebGPU.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        // @see https://www.w3.org/TR/webgpu/#dom-gpubuffer-destroy\n        this.gpuBuffer.destroy();\n    };\n    return Buffer_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar ComputePass_WebGPU = /** @class */ (function () {\n    function ComputePass_WebGPU() {\n        this.commandEncoder = null;\n        this.gpuComputePassEncoder = null;\n    }\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucomputepassencoder-dispatchworkgroups\n     */\n    ComputePass_WebGPU.prototype.dispatchWorkgroups = function (workgroupCountX, workgroupCountY, workgroupCountZ) {\n        this.gpuComputePassEncoder.dispatchWorkgroups(workgroupCountX, workgroupCountY, workgroupCountZ);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucomputepassencoder-dispatchworkgroupsindirect\n     */\n    ComputePass_WebGPU.prototype.dispatchWorkgroupsIndirect = function (indirectBuffer, indirectOffset) {\n        this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(indirectBuffer.gpuBuffer, indirectOffset);\n    };\n    ComputePass_WebGPU.prototype.finish = function () {\n        this.gpuComputePassEncoder.end();\n        this.gpuComputePassEncoder = null;\n        return this.commandEncoder.finish();\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucommandencoder-begincomputepass\n     */\n    ComputePass_WebGPU.prototype.beginComputePass = function () {\n        assert(this.gpuComputePassEncoder === null);\n        this.gpuComputePassEncoder = this.commandEncoder.beginComputePass(this.gpuComputePassDescriptor);\n    };\n    ComputePass_WebGPU.prototype.setPipeline = function (pipeline_) {\n        var pipeline = pipeline_;\n        var gpuComputePipeline = assertExists(pipeline.gpuComputePipeline);\n        this.gpuComputePassEncoder.setPipeline(gpuComputePipeline);\n    };\n    ComputePass_WebGPU.prototype.setBindings = function (bindings_) {\n        var bindings = bindings_;\n        this.gpuComputePassEncoder.setBindGroup(0, bindings.gpuBindGroup[0]);\n    };\n    ComputePass_WebGPU.prototype.pushDebugGroup = function (name) {\n        this.gpuComputePassEncoder.pushDebugGroup(name);\n    };\n    ComputePass_WebGPU.prototype.popDebugGroup = function () {\n        this.gpuComputePassEncoder.popDebugGroup();\n    };\n    ComputePass_WebGPU.prototype.insertDebugMarker = function (markerLabel) {\n        this.gpuComputePassEncoder.insertDebugMarker(markerLabel);\n    };\n    return ComputePass_WebGPU;\n}());\n\nvar ComputePipeline_WebGPU = /** @class */ (function (_super) {\n    __extends(ComputePipeline_WebGPU, _super);\n    function ComputePipeline_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.ComputePipeline;\n        _this.gpuComputePipeline = null;\n        _this.descriptor = descriptor;\n        var program = descriptor.program;\n        var computeStage = program.computeStage;\n        if (computeStage === null)\n            return _this;\n        var gpuComputePipeline = {\n            layout: 'auto',\n            compute: __assign({}, computeStage),\n        };\n        // @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createrenderpipeline\n        _this.gpuComputePipeline =\n            _this.device.device.createComputePipeline(gpuComputePipeline);\n        if (_this.name !== undefined) {\n            _this.gpuComputePipeline.label = _this.name;\n        }\n        return _this;\n    }\n    ComputePipeline_WebGPU.prototype.getBindGroupLayout = function (index) {\n        return this.gpuComputePipeline.getBindGroupLayout(index);\n    };\n    return ComputePipeline_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar InputLayout_WebGPU = /** @class */ (function (_super) {\n    __extends(InputLayout_WebGPU, _super);\n    function InputLayout_WebGPU(_a) {\n        var e_1, _b, e_2, _c;\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.InputLayout;\n        var buffers = [];\n        try {\n            for (var _d = __values(descriptor.vertexBufferDescriptors), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var vertexBufferDescriptor = _e.value;\n                var arrayStride = vertexBufferDescriptor.arrayStride, stepMode = vertexBufferDescriptor.stepMode, attributes = vertexBufferDescriptor.attributes;\n                buffers.push({\n                    arrayStride: arrayStride,\n                    stepMode: translateVertexStepMode(stepMode),\n                    attributes: [],\n                });\n                try {\n                    for (var attributes_1 = (e_2 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {\n                        var attribute = attributes_1_1.value;\n                        // TODO: divisor\n                        var shaderLocation = attribute.shaderLocation, format = attribute.format, offset = attribute.offset;\n                        buffers[buffers.length - 1].attributes.push({\n                            shaderLocation: shaderLocation,\n                            format: translateVertexFormat(format),\n                            offset: offset,\n                        });\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (attributes_1_1 && !attributes_1_1.done && (_c = attributes_1.return)) _c.call(attributes_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        _this.indexFormat = translateIndexFormat(descriptor.indexBufferFormat);\n        _this.buffers = buffers;\n        return _this;\n    }\n    return InputLayout_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Program_WebGPU = /** @class */ (function (_super) {\n    __extends(Program_WebGPU, _super);\n    function Program_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Program;\n        _this.vertexStage = null;\n        _this.fragmentStage = null;\n        _this.computeStage = null;\n        _this.descriptor = descriptor;\n        if (descriptor.vertex) {\n            _this.vertexStage = _this.createShaderStage(descriptor.vertex, 'vertex');\n        }\n        if (descriptor.fragment) {\n            _this.fragmentStage = _this.createShaderStage(descriptor.fragment, 'fragment');\n        }\n        if (descriptor.compute) {\n            // Only support WGSL now\n            _this.computeStage = _this.createShaderStage(descriptor.compute, 'compute');\n        }\n        return _this;\n    }\n    // eslint-disable-next-line\n    Program_WebGPU.prototype.setUniformsLegacy = function (uniforms) {\n    };\n    Program_WebGPU.prototype.createShaderStage = function (_a, shaderStage) {\n        var e_1, _b;\n        var glsl = _a.glsl, wgsl = _a.wgsl, entryPoint = _a.entryPoint;\n        var validationEnabled = false;\n        // Use user-defined WGSL first.\n        var code = wgsl;\n        if (!code) {\n            try {\n                code = this.device['glsl_compile'](glsl, shaderStage, validationEnabled);\n            }\n            catch (e) {\n                console.error(e, glsl);\n                throw new Error('whoops');\n            }\n        }\n        var _loop_1 = function (depthTextureName) {\n            if (!code.includes(depthTextureName))\n                return \"continue\";\n            code = code.replace(\"var T_\".concat(depthTextureName, \": texture_2d<f32>;\"), \"var T_\".concat(depthTextureName, \": texture_depth_2d;\"));\n            code = code.replace(new RegExp(\"textureSample\\\\(T_\".concat(depthTextureName, \"(.*)\\\\);$\"), 'gm'), function (sub, cap) {\n                return \"vec4<f32>(textureSample(T_\".concat(depthTextureName).concat(cap, \"), 0.0, 0.0, 0.0);\");\n            });\n        };\n        try {\n            // Workaround for https://github.com/gfx-rs/naga/issues/1355\n            for (var _c = __values(['u_TextureFramebufferDepth']), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var depthTextureName = _d.value;\n                _loop_1(depthTextureName);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createshadermodule\n        var shaderModule = this.device.device.createShaderModule({ code: code });\n        return { module: shaderModule, entryPoint: entryPoint || 'main' };\n    };\n    return Program_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar QueryPool_WebGPU = /** @class */ (function (_super) {\n    __extends(QueryPool_WebGPU, _super);\n    function QueryPool_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.QueryPool;\n        var elemCount = descriptor.elemCount, type = descriptor.type;\n        _this.querySet = _this.device.device.createQuerySet({\n            type: translateQueryPoolType(type),\n            count: elemCount,\n        });\n        _this.resolveBuffer = _this.device.device.createBuffer({\n            size: elemCount * 8,\n            usage: GPUBufferUsage.QUERY_RESOLVE | GPUBufferUsage.COPY_SRC,\n        });\n        _this.cpuBuffer = _this.device.device.createBuffer({\n            size: elemCount * 8,\n            usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ,\n        });\n        _this.results = null;\n        return _this;\n    }\n    QueryPool_WebGPU.prototype.queryResultOcclusion = function (dstOffs) {\n        if (this.results === null)\n            return null;\n        return this.results[dstOffs] !== BigInt(0);\n    };\n    QueryPool_WebGPU.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.querySet.destroy();\n        this.resolveBuffer.destroy();\n        this.cpuBuffer.destroy();\n    };\n    return QueryPool_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Readback_WebGPU = /** @class */ (function (_super) {\n    __extends(Readback_WebGPU, _super);\n    function Readback_WebGPU(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Readback;\n        return _this;\n    }\n    Readback_WebGPU.prototype.readTexture = function (t, x, y, width, height, dst, dstOffset, length) {\n        if (dstOffset === void 0) { dstOffset = 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            var texture, faceIndex, blockInformation, bytesPerRow, bytesPerRowAligned, size, buffer, commandEncoder;\n            return __generator(this, function (_a) {\n                texture = t;\n                faceIndex = 0;\n                blockInformation = this.getBlockInformationFromFormat(texture.gpuTextureformat);\n                bytesPerRow = Math.ceil(width / blockInformation.width) * blockInformation.length;\n                bytesPerRowAligned = Math.ceil(bytesPerRow / 256) * 256;\n                size = bytesPerRowAligned * height;\n                buffer = this.device.createBuffer({\n                    usage: BufferUsage.STORAGE | BufferUsage.MAP_READ | BufferUsage.COPY_DST,\n                    hint: BufferFrequencyHint.STATIC,\n                    viewOrSize: size,\n                });\n                commandEncoder = this.device.device.createCommandEncoder();\n                // @see https://www.w3.org/TR/webgpu/#dom-gpucommandencoder-copytexturetobuffer\n                commandEncoder.copyTextureToBuffer({\n                    texture: texture.gpuTexture,\n                    mipLevel: 0,\n                    origin: {\n                        x: x,\n                        y: y,\n                        z: Math.max(faceIndex, 0),\n                    },\n                }, {\n                    buffer: buffer.gpuBuffer,\n                    offset: 0,\n                    bytesPerRow: bytesPerRowAligned,\n                }, {\n                    width: width,\n                    height: height,\n                    depthOrArrayLayers: 1,\n                });\n                this.device.device.queue.submit([commandEncoder.finish()]);\n                return [2 /*return*/, this.readBuffer(buffer, 0, dst.byteLength === size ? dst : null, dstOffset, size, texture.format)];\n            });\n        });\n    };\n    Readback_WebGPU.prototype.readTextureSync = function (t, x, y, width, height, dst, dstOffset, length) {\n        throw new Error('ERROR_MSG_METHOD_NOT_IMPLEMENTED');\n    };\n    Readback_WebGPU.prototype.readBuffer = function (b, srcByteOffset, dstArrayBufferView, dstOffset, _size, type, noDataConversion, destroy) {\n        var _this = this;\n        if (srcByteOffset === void 0) { srcByteOffset = 0; }\n        if (dstArrayBufferView === void 0) { dstArrayBufferView = null; }\n        if (_size === void 0) { _size = 0; }\n        if (type === void 0) { type = Format.U8_RGB; }\n        if (noDataConversion === void 0) { noDataConversion = false; }\n        var buffer = b;\n        var size = _size || buffer.size;\n        var dst = dstArrayBufferView || buffer.view;\n        var floatFormat = \n        // @ts-ignore\n        (dst && dst.constructor && dst.constructor.BYTES_PER_ELEMENT) ||\n            getFormatCompByteSize(type);\n        var gpuReadBuffer = buffer;\n        // can read buffer directly?\n        if (!(buffer.usage & BufferUsage.MAP_READ &&\n            buffer.usage & BufferUsage.COPY_DST)) {\n            var commandEncoder = this.device.device.createCommandEncoder();\n            gpuReadBuffer = this.device.createBuffer({\n                usage: BufferUsage.STORAGE | BufferUsage.MAP_READ | BufferUsage.COPY_DST,\n                hint: BufferFrequencyHint.STATIC,\n                viewOrSize: size,\n            });\n            // Encode commands for copying buffer to buffer.\n            commandEncoder.copyBufferToBuffer(buffer.gpuBuffer /* source buffer */, srcByteOffset /* source offset */, gpuReadBuffer.gpuBuffer /* destination buffer */, 0 /* destination offset */, size /* size */);\n            this.device.device.queue.submit([commandEncoder.finish()]);\n        }\n        return new Promise(function (resolve, reject) {\n            gpuReadBuffer.gpuBuffer\n                .mapAsync(GPUMapMode.READ, srcByteOffset, size)\n                .then(function () {\n                var copyArrayBuffer = gpuReadBuffer.gpuBuffer.getMappedRange(srcByteOffset, size);\n                var data = dst;\n                if (noDataConversion) {\n                    if (data === null) {\n                        data = allocateAndCopyTypedBuffer(type, size, true, copyArrayBuffer);\n                    }\n                    else {\n                        // @ts-ignore\n                        data = allocateAndCopyTypedBuffer(type, data.buffer, undefined, copyArrayBuffer);\n                    }\n                }\n                else {\n                    if (data === null) {\n                        switch (floatFormat) {\n                            case 1: // byte format\n                                data = new Uint8Array(size);\n                                data.set(new Uint8Array(copyArrayBuffer));\n                                break;\n                            case 2: // half float\n                                // TODO WEBGPU use computer shaders (or render pass) to make the conversion?\n                                data = _this.getHalfFloatAsFloatRGBAArrayBuffer(size / 2, copyArrayBuffer);\n                                break;\n                            case 4: // float\n                                data = new Float32Array(size / 4);\n                                data.set(new Float32Array(copyArrayBuffer));\n                                break;\n                        }\n                    }\n                    else {\n                        switch (floatFormat) {\n                            case 1: // byte format\n                                data = new Uint8Array(data.buffer);\n                                data.set(new Uint8Array(copyArrayBuffer));\n                                break;\n                            case 2: // half float\n                                // TODO WEBGPU use computer shaders (or render pass) to make the conversion?\n                                data = _this.getHalfFloatAsFloatRGBAArrayBuffer(size / 2, copyArrayBuffer, dst);\n                                break;\n                            case 4: // float\n                                var ctor = (dst && dst.constructor) || Float32Array;\n                                // @ts-ignore\n                                data = new ctor(data.buffer);\n                                // @ts-ignore\n                                data.set(new ctor(copyArrayBuffer));\n                                break;\n                        }\n                    }\n                }\n                // if (bytesPerRow !== bytesPerRowAligned) {\n                //   // TODO WEBGPU use computer shaders (or render pass) to build the final buffer data?\n                //   if (floatFormat === 1 && !noDataConversion) {\n                //     // half float have been converted to float above\n                //     bytesPerRow *= 2;\n                //     bytesPerRowAligned *= 2;\n                //   }\n                //   const data2 = new Uint8Array(data!.buffer);\n                //   let offset = bytesPerRow,\n                //     offset2 = 0;\n                //   for (let y = 1; y < height; ++y) {\n                //     offset2 = y * bytesPerRowAligned;\n                //     for (let x = 0; x < bytesPerRow; ++x) {\n                //       data2[offset++] = data2[offset2++];\n                //     }\n                //   }\n                //   if (floatFormat !== 0 && !noDataConversion) {\n                //     data = new Float32Array(data2.buffer, 0, offset / 4);\n                //   } else {\n                //     data = new Uint8Array(data2.buffer, 0, offset);\n                //   }\n                // }\n                gpuReadBuffer.gpuBuffer.unmap();\n                resolve(data);\n            }, function (reason) { return reject(reason); });\n        });\n    };\n    Readback_WebGPU.prototype.getHalfFloatAsFloatRGBAArrayBuffer = function (dataLength, arrayBuffer, destArray) {\n        if (!destArray) {\n            destArray = new Float32Array(dataLength);\n        }\n        var srcData = new Uint16Array(arrayBuffer);\n        while (dataLength--) {\n            destArray[dataLength] = halfFloat2Number(srcData[dataLength]);\n        }\n        return destArray;\n    };\n    Readback_WebGPU.prototype.getBlockInformationFromFormat = function (format) {\n        switch (format) {\n            // 8 bits formats\n            case 'r8unorm':\n            case 'r8snorm':\n            case 'r8uint':\n            case 'r8sint':\n                return { width: 1, height: 1, length: 1 };\n            // 16 bits formats\n            case 'r16uint':\n            case 'r16sint':\n            case 'r16float':\n            case 'rg8unorm':\n            case 'rg8snorm':\n            case 'rg8uint':\n            case 'rg8sint':\n                return { width: 1, height: 1, length: 2 };\n            // 32 bits formats\n            case 'r32uint':\n            case 'r32sint':\n            case 'r32float':\n            case 'rg16uint':\n            case 'rg16sint':\n            case 'rg16float':\n            case 'rgba8unorm':\n            case 'rgba8unorm-srgb':\n            case 'rgba8snorm':\n            case 'rgba8uint':\n            case 'rgba8sint':\n            case 'bgra8unorm':\n            case 'bgra8unorm-srgb':\n            case 'rgb9e5ufloat':\n            case 'rgb10a2unorm':\n            case 'rg11b10ufloat':\n                return { width: 1, height: 1, length: 4 };\n            // 64 bits formats\n            case 'rg32uint':\n            case 'rg32sint':\n            case 'rg32float':\n            case 'rgba16uint':\n            case 'rgba16sint':\n            case 'rgba16float':\n                return { width: 1, height: 1, length: 8 };\n            // 128 bits formats\n            case 'rgba32uint':\n            case 'rgba32sint':\n            case 'rgba32float':\n                return { width: 1, height: 1, length: 16 };\n            // Depth and stencil formats\n            case 'stencil8':\n                throw new Error('No fixed size for Stencil8 format!');\n            case 'depth16unorm':\n                return { width: 1, height: 1, length: 2 };\n            case 'depth24plus':\n                throw new Error('No fixed size for Depth24Plus format!');\n            case 'depth24plus-stencil8':\n                throw new Error('No fixed size for Depth24PlusStencil8 format!');\n            case 'depth32float':\n                return { width: 1, height: 1, length: 4 };\n            // case 'depth24unorm-stencil8':\n            //   return { width: 1, height: 1, length: 4 };\n            case 'depth32float-stencil8':\n                return { width: 1, height: 1, length: 5 };\n            // BC compressed formats usable if \"texture-compression-bc\" is both\n            // supported by the device/user agent and enabled in requestDevice.\n            case 'bc7-rgba-unorm':\n            case 'bc7-rgba-unorm-srgb':\n            case 'bc6h-rgb-ufloat':\n            case 'bc6h-rgb-float':\n            case 'bc2-rgba-unorm':\n            case 'bc2-rgba-unorm-srgb':\n            case 'bc3-rgba-unorm':\n            case 'bc3-rgba-unorm-srgb':\n            case 'bc5-rg-unorm':\n            case 'bc5-rg-snorm':\n                return { width: 4, height: 4, length: 16 };\n            case 'bc4-r-unorm':\n            case 'bc4-r-snorm':\n            case 'bc1-rgba-unorm':\n            case 'bc1-rgba-unorm-srgb':\n                return { width: 4, height: 4, length: 8 };\n            default:\n                return { width: 1, height: 1, length: 4 };\n        }\n    };\n    return Readback_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar RenderPass_WebGPU = /** @class */ (function () {\n    function RenderPass_WebGPU(device) {\n        this.device = device;\n        this.commandEncoder = null;\n        this.gpuRenderPassEncoder = null;\n        this.gfxColorAttachment = [];\n        this.gfxColorAttachmentLevel = [];\n        this.gfxColorResolveTo = [];\n        this.gfxColorResolveToLevel = [];\n        this.gfxDepthStencilAttachment = null;\n        this.gfxDepthStencilResolveTo = null;\n        this.gpuColorAttachments = [];\n        this.gpuDepthStencilAttachment = {\n            view: null,\n            depthLoadOp: 'load',\n            depthStoreOp: 'store',\n            stencilLoadOp: 'load',\n            stencilStoreOp: 'store',\n        };\n        this.gpuRenderPassDescriptor = {\n            colorAttachments: this.gpuColorAttachments,\n            depthStencilAttachment: this.gpuDepthStencilAttachment,\n        };\n    }\n    RenderPass_WebGPU.prototype.getTextureView = function (target, level) {\n        assert(level < target.mipLevelCount);\n        if (target.mipLevelCount === 1)\n            return target.gpuTextureView;\n        else\n            return target.gpuTexture.createView({\n                baseMipLevel: level,\n                mipLevelCount: 1,\n            });\n    };\n    RenderPass_WebGPU.prototype.setRenderPassDescriptor = function (descriptor) {\n        var _a, _b, _c, _d, _e, _f;\n        this.descriptor = descriptor;\n        this.gpuRenderPassDescriptor.colorAttachments = this.gpuColorAttachments;\n        var numColorAttachments = descriptor.colorAttachment.length;\n        this.gfxColorAttachment.length = numColorAttachments;\n        this.gfxColorResolveTo.length = numColorAttachments;\n        for (var i = 0; i < descriptor.colorAttachment.length; i++) {\n            var colorAttachment = descriptor\n                .colorAttachment[i];\n            var colorResolveTo = descriptor\n                .colorResolveTo[i];\n            // Do some dumb juggling...\n            if (colorAttachment === null && colorResolveTo !== null) {\n                colorAttachment = colorResolveTo;\n                colorResolveTo = null;\n            }\n            this.gfxColorAttachment[i] = colorAttachment;\n            this.gfxColorResolveTo[i] = colorResolveTo;\n            this.gfxColorAttachmentLevel[i] =\n                ((_a = descriptor.colorAttachmentLevel) === null || _a === void 0 ? void 0 : _a[i]) || 0;\n            this.gfxColorResolveToLevel[i] = ((_b = descriptor.colorResolveToLevel) === null || _b === void 0 ? void 0 : _b[i]) || 0;\n            if (colorAttachment !== null) {\n                if (this.gpuColorAttachments[i] === undefined) {\n                    this.gpuColorAttachments[i] = {};\n                }\n                var dstAttachment = this.gpuColorAttachments[i];\n                dstAttachment.view = this.getTextureView(colorAttachment, ((_c = this.gfxColorAttachmentLevel) === null || _c === void 0 ? void 0 : _c[i]) || 0);\n                var clearColor = (_e = (_d = descriptor.colorClearColor) === null || _d === void 0 ? void 0 : _d[i]) !== null && _e !== void 0 ? _e : 'load';\n                if (clearColor === 'load') {\n                    dstAttachment.loadOp = 'load';\n                }\n                else {\n                    dstAttachment.loadOp = 'clear';\n                    dstAttachment.clearValue = clearColor;\n                }\n                dstAttachment.storeOp = ((_f = descriptor.colorStore) === null || _f === void 0 ? void 0 : _f[i])\n                    ? 'store'\n                    : 'discard';\n                dstAttachment.resolveTarget = undefined;\n                if (colorResolveTo !== null) {\n                    if (colorAttachment.sampleCount > 1) {\n                        dstAttachment.resolveTarget = this.getTextureView(colorResolveTo, this.gfxColorResolveToLevel[i]);\n                    }\n                    else {\n                        dstAttachment.storeOp = 'store';\n                    }\n                }\n            }\n            else {\n                // https://github.com/gpuweb/gpuweb/issues/1250\n                this.gpuColorAttachments.length = i;\n                this.gfxColorAttachment.length = i;\n                this.gfxColorResolveTo.length = i;\n                break;\n            }\n        }\n        this.gfxDepthStencilAttachment =\n            descriptor.depthStencilAttachment;\n        this.gfxDepthStencilResolveTo =\n            descriptor.depthStencilResolveTo;\n        if (descriptor.depthStencilAttachment) {\n            var dsAttachment = descriptor.depthStencilAttachment;\n            var dstAttachment = this.gpuDepthStencilAttachment;\n            dstAttachment.view = dsAttachment.gpuTextureView;\n            var hasDepth = !!(getFormatFlags(dsAttachment.format) & FormatFlags.Depth);\n            if (hasDepth) {\n                if (descriptor.depthClearValue === 'load') {\n                    dstAttachment.depthLoadOp = 'load';\n                }\n                else {\n                    dstAttachment.depthLoadOp = 'clear';\n                    dstAttachment.depthClearValue = descriptor.depthClearValue;\n                }\n                if (descriptor.depthStencilStore ||\n                    this.gfxDepthStencilResolveTo !== null)\n                    dstAttachment.depthStoreOp = 'store';\n                else\n                    dstAttachment.depthStoreOp = 'discard';\n            }\n            else {\n                dstAttachment.depthLoadOp = undefined;\n                dstAttachment.depthStoreOp = undefined;\n            }\n            var hasStencil = !!(getFormatFlags(dsAttachment.format) & FormatFlags.Stencil);\n            if (hasStencil) {\n                if (descriptor.stencilClearValue === 'load') {\n                    dstAttachment.stencilLoadOp = 'load';\n                }\n                else {\n                    dstAttachment.stencilLoadOp = 'clear';\n                    dstAttachment.stencilClearValue = descriptor.stencilClearValue;\n                }\n                if (descriptor.depthStencilStore ||\n                    this.gfxDepthStencilResolveTo !== null)\n                    dstAttachment.stencilStoreOp = 'store';\n                else\n                    dstAttachment.stencilStoreOp = 'discard';\n            }\n            else {\n                dstAttachment.stencilLoadOp = undefined;\n                dstAttachment.stencilStoreOp = undefined;\n            }\n            this.gpuRenderPassDescriptor.depthStencilAttachment =\n                this.gpuDepthStencilAttachment;\n        }\n        else {\n            this.gpuRenderPassDescriptor.depthStencilAttachment = undefined;\n        }\n        this.gpuRenderPassDescriptor.occlusionQuerySet = !isNil(descriptor.occlusionQueryPool)\n            ? getPlatformQuerySet(descriptor.occlusionQueryPool)\n            : undefined;\n    };\n    RenderPass_WebGPU.prototype.beginRenderPass = function (renderPassDescriptor) {\n        assert(this.gpuRenderPassEncoder === null);\n        this.setRenderPassDescriptor(renderPassDescriptor);\n        this.gpuRenderPassEncoder = this.commandEncoder.beginRenderPass(this.gpuRenderPassDescriptor);\n    };\n    RenderPass_WebGPU.prototype.flipY = function (y, h) {\n        var height = this.device['swapChainHeight'];\n        return height - y - h;\n    };\n    RenderPass_WebGPU.prototype.setViewport = function (x, y, w, h, minDepth, maxDepth) {\n        if (minDepth === void 0) { minDepth = 0; }\n        if (maxDepth === void 0) { maxDepth = 1; }\n        this.gpuRenderPassEncoder.setViewport(x, this.flipY(y, h), w, h, minDepth, maxDepth);\n    };\n    RenderPass_WebGPU.prototype.setScissorRect = function (x, y, w, h) {\n        this.gpuRenderPassEncoder.setScissorRect(x, this.flipY(y, h), w, h);\n    };\n    RenderPass_WebGPU.prototype.setPipeline = function (pipeline_) {\n        var pipeline = pipeline_;\n        var gpuRenderPipeline = assertExists(pipeline.gpuRenderPipeline);\n        this.gpuRenderPassEncoder.setPipeline(gpuRenderPipeline);\n    };\n    RenderPass_WebGPU.prototype.setVertexInput = function (inputLayout_, vertexBuffers, indexBuffer) {\n        if (inputLayout_ === null)\n            return;\n        var inputLayout = inputLayout_;\n        if (indexBuffer !== null)\n            this.gpuRenderPassEncoder.setIndexBuffer(getPlatformBuffer(indexBuffer.buffer), assertExists(inputLayout.indexFormat), indexBuffer.offset);\n        for (var i = 0; i < vertexBuffers.length; i++) {\n            var b = vertexBuffers[i];\n            if (b === null)\n                continue;\n            this.gpuRenderPassEncoder.setVertexBuffer(i, getPlatformBuffer(b.buffer), b.offset);\n        }\n    };\n    RenderPass_WebGPU.prototype.setBindings = function (bindings_) {\n        var bindings = bindings_;\n        this.gpuRenderPassEncoder.setBindGroup(0, bindings.gpuBindGroup[0]);\n        if (bindings.gpuBindGroup[1]) {\n            this.gpuRenderPassEncoder.setBindGroup(1, bindings.gpuBindGroup[1]);\n        }\n    };\n    RenderPass_WebGPU.prototype.setStencilReference = function (ref) {\n        this.gpuRenderPassEncoder.setStencilReference(ref);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-draw\n     */\n    RenderPass_WebGPU.prototype.draw = function (vertexCount, instanceCount, firstVertex, firstInstance) {\n        this.gpuRenderPassEncoder.draw(vertexCount, instanceCount, firstVertex, firstInstance);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindexed\n     */\n    RenderPass_WebGPU.prototype.drawIndexed = function (indexCount, instanceCount, firstIndex, baseVertex, firstInstance) {\n        this.gpuRenderPassEncoder.drawIndexed(indexCount, instanceCount, firstIndex, baseVertex, firstInstance);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindirect\n     */\n    RenderPass_WebGPU.prototype.drawIndirect = function (indirectBuffer, indirectOffset) {\n        this.gpuRenderPassEncoder.drawIndirect(getPlatformBuffer(indirectBuffer), indirectOffset);\n    };\n    RenderPass_WebGPU.prototype.drawIndexedIndirect = function (indirectBuffer, indirectOffset) {\n        this.gpuRenderPassEncoder.drawIndexedIndirect(getPlatformBuffer(indirectBuffer), indirectOffset);\n    };\n    RenderPass_WebGPU.prototype.beginOcclusionQuery = function (queryIndex) {\n        this.gpuRenderPassEncoder.beginOcclusionQuery(queryIndex);\n    };\n    RenderPass_WebGPU.prototype.endOcclusionQuery = function () {\n        this.gpuRenderPassEncoder.endOcclusionQuery();\n    };\n    RenderPass_WebGPU.prototype.pushDebugGroup = function (name) {\n        this.gpuRenderPassEncoder.pushDebugGroup(name);\n    };\n    RenderPass_WebGPU.prototype.popDebugGroup = function () {\n        this.gpuRenderPassEncoder.popDebugGroup();\n    };\n    RenderPass_WebGPU.prototype.insertDebugMarker = function (markerLabel) {\n        this.gpuRenderPassEncoder.insertDebugMarker(markerLabel);\n    };\n    RenderPass_WebGPU.prototype.finish = function () {\n        this.gpuRenderPassEncoder.end();\n        this.gpuRenderPassEncoder = null;\n        // Fake a resolve with a copy for non-MSAA.\n        for (var i = 0; i < this.gfxColorAttachment.length; i++) {\n            var colorAttachment = this.gfxColorAttachment[i];\n            var colorResolveTo = this.gfxColorResolveTo[i];\n            if (colorAttachment !== null &&\n                colorResolveTo !== null &&\n                colorAttachment.sampleCount === 1) {\n                this.copyAttachment(colorResolveTo, this.gfxColorAttachmentLevel[i], colorAttachment, this.gfxColorResolveToLevel[i]);\n            }\n        }\n        if (this.gfxDepthStencilAttachment && this.gfxDepthStencilResolveTo) {\n            if (this.gfxDepthStencilAttachment.sampleCount > 1) ;\n            else {\n                this.copyAttachment(this.gfxDepthStencilResolveTo, 0, this.gfxDepthStencilAttachment, 0);\n            }\n        }\n        return this.commandEncoder.finish();\n    };\n    RenderPass_WebGPU.prototype.copyAttachment = function (dst, dstLevel, src, srcLevel) {\n        assert(src.sampleCount === 1);\n        var srcCopy = {\n            texture: src.gpuTexture,\n            mipLevel: srcLevel,\n        };\n        var dstCopy = {\n            texture: dst.gpuTexture,\n            mipLevel: dstLevel,\n        };\n        assert(src.width >>> srcLevel === dst.width >>> dstLevel);\n        assert(src.height >>> srcLevel === dst.height >>> dstLevel);\n        assert(!!(src.usage & GPUTextureUsage$1.COPY_SRC));\n        assert(!!(dst.usage & GPUTextureUsage$1.COPY_DST));\n        this.commandEncoder.copyTextureToTexture(srcCopy, dstCopy, [\n            dst.width,\n            dst.height,\n            1,\n        ]);\n    };\n    return RenderPass_WebGPU;\n}());\n\nvar RenderPipeline_WebGPU = /** @class */ (function (_super) {\n    __extends(RenderPipeline_WebGPU, _super);\n    function RenderPipeline_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.RenderPipeline;\n        _this.isCreatingAsync = false;\n        _this.gpuRenderPipeline = null;\n        _this.descriptor = descriptor;\n        _this.device['createRenderPipelineInternal'](_this, false);\n        return _this;\n    }\n    RenderPipeline_WebGPU.prototype.getBindGroupLayout = function (index) {\n        return this.gpuRenderPipeline.getBindGroupLayout(index);\n    };\n    return RenderPipeline_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Sampler_WebGPU = /** @class */ (function (_super) {\n    __extends(Sampler_WebGPU, _super);\n    function Sampler_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _b, _c;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Sampler;\n        var lodMinClamp = descriptor.lodMinClamp;\n        var lodMaxClamp = descriptor.mipmapFilter === MipmapFilterMode.NO_MIP\n            ? descriptor.lodMinClamp\n            : descriptor.lodMaxClamp;\n        var maxAnisotropy = (_b = descriptor.maxAnisotropy) !== null && _b !== void 0 ? _b : 1;\n        if (maxAnisotropy > 1)\n            assert(descriptor.minFilter === FilterMode.BILINEAR &&\n                descriptor.magFilter === FilterMode.BILINEAR &&\n                descriptor.mipmapFilter === MipmapFilterMode.LINEAR);\n        _this.gpuSampler = _this.device.device.createSampler({\n            addressModeU: translateAddressMode(descriptor.addressModeU),\n            addressModeV: translateAddressMode(descriptor.addressModeV),\n            addressModeW: translateAddressMode((_c = descriptor.addressModeW) !== null && _c !== void 0 ? _c : descriptor.addressModeU),\n            lodMinClamp: lodMinClamp,\n            lodMaxClamp: lodMaxClamp,\n            minFilter: translateMinMagFilter(descriptor.minFilter),\n            magFilter: translateMinMagFilter(descriptor.magFilter),\n            mipmapFilter: translateMipFilter(descriptor.mipmapFilter),\n            compare: descriptor.compareFunction !== undefined\n                ? translateCompareFunction(descriptor.compareFunction)\n                : undefined,\n            maxAnisotropy: maxAnisotropy,\n        });\n        return _this;\n    }\n    return Sampler_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Texture_WebGPU = /** @class */ (function (_super) {\n    __extends(Texture_WebGPU, _super);\n    function Texture_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor, skipCreate = _a.skipCreate, sampleCount = _a.sampleCount;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Texture;\n        var format = descriptor.format, dimension = descriptor.dimension, width = descriptor.width, height = descriptor.height, depthOrArrayLayers = descriptor.depthOrArrayLayers, mipLevelCount = descriptor.mipLevelCount, usage = descriptor.usage;\n        _this.device.createTextureShared({\n            format: format,\n            dimension: dimension !== null && dimension !== void 0 ? dimension : TextureDimension.TEXTURE_2D,\n            width: width,\n            height: height,\n            depthOrArrayLayers: depthOrArrayLayers !== null && depthOrArrayLayers !== void 0 ? depthOrArrayLayers : 1,\n            mipLevelCount: mipLevelCount !== null && mipLevelCount !== void 0 ? mipLevelCount : 1,\n            usage: usage,\n            sampleCount: sampleCount !== null && sampleCount !== void 0 ? sampleCount : 1,\n        }, _this, skipCreate);\n        return _this;\n    }\n    Texture_WebGPU.prototype.textureFromImageBitmapOrCanvas = function (device, sources, depthOrArrayLayers) {\n        var width = sources[0].width;\n        var height = sources[0].height;\n        var textureDescriptor = {\n            // Unlike in WebGL, the size of our texture must be set at texture creation time.\n            // This means we have to wait until the image is loaded to create the texture, since we won't\n            // know the size until then.\n            size: { width: width, height: height, depthOrArrayLayers: depthOrArrayLayers },\n            format: 'rgba8unorm',\n            usage: GPUTextureUsage.TEXTURE_BINDING |\n                GPUTextureUsage.COPY_DST |\n                GPUTextureUsage.RENDER_ATTACHMENT,\n        };\n        var texture = device.createTexture(textureDescriptor);\n        for (var i = 0; i < sources.length; i++) {\n            device.queue.copyExternalImageToTexture({ source: sources[i] }, { texture: texture, origin: [0, 0, i] }, [width, height]);\n        }\n        return [texture, width, height];\n    };\n    Texture_WebGPU.prototype.isImageBitmapOrCanvases = function (datas) {\n        var data = datas[0];\n        return (data instanceof ImageBitmap ||\n            data instanceof HTMLCanvasElement ||\n            data instanceof OffscreenCanvas);\n    };\n    Texture_WebGPU.prototype.isVideo = function (datas) {\n        var data = datas[0];\n        return data instanceof HTMLVideoElement;\n    };\n    /**\n     * @see https://toji.dev/webgpu-best-practices/img-textures\n     */\n    Texture_WebGPU.prototype.setImageData = function (datas, lod) {\n        var _a;\n        var device = this.device.device;\n        var texture;\n        var width;\n        var height;\n        if (this.isImageBitmapOrCanvases(datas)) {\n            _a = __read(this.textureFromImageBitmapOrCanvas(device, datas, this.depthOrArrayLayers), 3), texture = _a[0], width = _a[1], height = _a[2];\n        }\n        else if (this.isVideo(datas)) {\n            // @see https://toji.dev/webgpu-best-practices/img-textures#creating-a-texture-from-an-htmlvideoelement-video-tag\n            texture = device.importExternalTexture({\n                source: datas[0],\n            });\n        }\n        else ;\n        this.width = width;\n        this.height = height;\n        this.gpuTexture = texture;\n        this.gpuTextureView = texture.createView({\n            dimension: translateTextureViewDimension(this.dimension),\n        });\n    };\n    Texture_WebGPU.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        // @see https://www.w3.org/TR/webgpu/#dom-gputexture-destroy\n        this.gpuTexture.destroy();\n    };\n    return Texture_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Device_WebGPU = /** @class */ (function () {\n    function Device_WebGPU(adapter, device, canvas, canvasContext, glsl_compile) {\n        this.swapChainWidth = 0;\n        this.swapChainHeight = 0;\n        this.swapChainTextureUsage = GPUTextureUsage$1.RENDER_ATTACHMENT | GPUTextureUsage$1.COPY_DST;\n        this._resourceUniqueId = 0;\n        this.renderPassPool = [];\n        this.computePassPool = [];\n        this.featureTextureCompressionBC = false;\n        // VendorInfo\n        this.platformString = 'WebGPU';\n        this.glslVersion = \"#version 440\";\n        this.explicitBindingLocations = true;\n        this.separateSamplerTextures = true;\n        this.viewportOrigin = ViewportOrigin.UPPER_LEFT;\n        this.clipSpaceNearZ = ClipSpaceNearZ.ZERO;\n        this.supportsSyncPipelineCompilation = false;\n        this.supportMRT = true;\n        this.device = device;\n        this.canvas = canvas;\n        this.canvasContext = canvasContext;\n        this.glsl_compile = glsl_compile;\n        this.fallbackTexture2D = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTexture2D, 'Fallback Texture2D');\n        this.fallbackTexture2DDepth = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Depth);\n        this.setResourceName(this.fallbackTexture2DDepth, 'Fallback Depth Texture2D');\n        this.fallbackTexture2DArray = this.createFallbackTexture(TextureDimension.TEXTURE_2D_ARRAY, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTexture2DArray, 'Fallback Texture2DArray');\n        this.fallbackTexture3D = this.createFallbackTexture(TextureDimension.TEXTURE_3D, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTexture3D, 'Fallback Texture3D');\n        this.fallbackTextureCube = this.createFallbackTexture(TextureDimension.TEXTURE_CUBE_MAP, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTextureCube, 'Fallback TextureCube');\n        this.fallbackSamplerFiltering = this.createSampler({\n            addressModeU: AddressMode.REPEAT,\n            addressModeV: AddressMode.REPEAT,\n            minFilter: FilterMode.POINT,\n            magFilter: FilterMode.POINT,\n            mipmapFilter: MipmapFilterMode.NEAREST,\n        });\n        this.setResourceName(this.fallbackSamplerFiltering, 'Fallback Sampler Filtering');\n        this.fallbackSamplerComparison = this.createSampler({\n            addressModeU: AddressMode.REPEAT,\n            addressModeV: AddressMode.REPEAT,\n            minFilter: FilterMode.POINT,\n            magFilter: FilterMode.POINT,\n            mipmapFilter: MipmapFilterMode.NEAREST,\n            compareFunction: CompareFunction.ALWAYS,\n        });\n        this.setResourceName(this.fallbackSamplerComparison, 'Fallback Sampler Comparison Filtering');\n        // Firefox doesn't support GPUDevice.features yet...\n        if (this.device.features) {\n            this.featureTextureCompressionBC = this.device.features.has('texture-compression-bc');\n        }\n        this.device.onuncapturederror = function (event) {\n            console.error(event.error);\n        };\n        this.swapChainFormat = navigator.gpu.getPreferredCanvasFormat();\n        // @see https://www.w3.org/TR/webgpu/#canvas-configuration\n        this.canvasContext.configure({\n            device: this.device,\n            format: this.swapChainFormat,\n            usage: this.swapChainTextureUsage,\n            // @see https://www.w3.org/TR/webgpu/#gpucanvasalphamode\n            // alphaMode: 'opaque',\n            alphaMode: 'premultiplied',\n        });\n    }\n    Device_WebGPU.prototype.destroy = function () { };\n    // SwapChain\n    Device_WebGPU.prototype.configureSwapChain = function (width, height) {\n        if (this.swapChainWidth === width && this.swapChainHeight === height)\n            return;\n        this.swapChainWidth = width;\n        this.swapChainHeight = height;\n    };\n    Device_WebGPU.prototype.getOnscreenTexture = function () {\n        // @see https://www.w3.org/TR/webgpu/#dom-gpucanvascontext-getcurrenttexture\n        var gpuTexture = this.canvasContext.getCurrentTexture();\n        var gpuTextureView = gpuTexture.createView();\n        var texture = new Texture_WebGPU({\n            id: 0,\n            device: this,\n            descriptor: {\n                format: Format.U8_RGBA_RT,\n                width: this.swapChainWidth,\n                height: this.swapChainHeight,\n                depthOrArrayLayers: 0,\n                dimension: TextureDimension.TEXTURE_2D,\n                mipLevelCount: 1,\n                usage: this.swapChainTextureUsage,\n            },\n            skipCreate: true,\n        });\n        texture.depthOrArrayLayers = 1;\n        texture.sampleCount = 1;\n        texture.gpuTexture = gpuTexture;\n        texture.gpuTextureView = gpuTextureView;\n        texture.name = 'Onscreen';\n        this.setResourceName(texture, 'Onscreen Texture');\n        return texture;\n    };\n    Device_WebGPU.prototype.getDevice = function () {\n        return this;\n    };\n    Device_WebGPU.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    Device_WebGPU.prototype.beginFrame = function () {\n        // assert(this.frameCommandEncoder === null);\n        // this.frameCommandEncoder = this.device.createCommandEncoder();\n    };\n    Device_WebGPU.prototype.endFrame = function () {\n        // assert(this.frameCommandEncoder !== null);\n        // this.device.queue.submit([this.frameCommandEncoder.finish()]);\n        // this.frameCommandEncoder = null;\n        // for (let i = 0; i < this.queryPoolsSubmitted.length; i++) {\n        //   const queryPool = this.queryPoolsSubmitted[i];\n        //   queryPool.cpuBuffer.mapAsync(GPUMapMode.READ).then(() => {\n        //     queryPool.results = new BigUint64Array(\n        //       queryPool.cpuBuffer.getMappedRange(),\n        //     );\n        //   });\n        // }\n        // this.queryPoolsSubmitted.length = 0;\n    };\n    Device_WebGPU.prototype.getNextUniqueId = function () {\n        return ++this._resourceUniqueId;\n    };\n    Device_WebGPU.prototype.createBuffer = function (descriptor) {\n        return new Buffer_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createTexture = function (descriptor) {\n        return new Texture_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createsampler\n     * @see https://www.w3.org/TR/webgpu/#GPUSamplerDescriptor\n     */\n    Device_WebGPU.prototype.createSampler = function (descriptor) {\n        return new Sampler_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createRenderTarget = function (descriptor) {\n        var texture = new Texture_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: __assign(__assign({}, descriptor), { dimension: TextureDimension.TEXTURE_2D, mipLevelCount: 1, depthOrArrayLayers: 1, usage: TextureUsage.RENDER_TARGET }),\n            sampleCount: descriptor.sampleCount,\n        });\n        texture.depthOrArrayLayers = 1;\n        // @ts-ignore\n        texture.type = ResourceType.RenderTarget;\n        return texture;\n    };\n    Device_WebGPU.prototype.createRenderTargetFromTexture = function (texture) {\n        var _a = texture, format = _a.format, width = _a.width, height = _a.height, depthOrArrayLayers = _a.depthOrArrayLayers, sampleCount = _a.sampleCount, mipLevelCount = _a.mipLevelCount, gpuTexture = _a.gpuTexture, gpuTextureView = _a.gpuTextureView, usage = _a.usage;\n        assert(!!(usage & GPUTextureUsage$1.RENDER_ATTACHMENT));\n        var attachment = new Texture_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                format: format,\n                width: width,\n                height: height,\n                depthOrArrayLayers: depthOrArrayLayers,\n                dimension: TextureDimension.TEXTURE_2D,\n                mipLevelCount: mipLevelCount,\n                usage: usage,\n            },\n            skipCreate: true,\n        });\n        attachment.depthOrArrayLayers = depthOrArrayLayers;\n        attachment.sampleCount = sampleCount;\n        attachment.gpuTexture = gpuTexture;\n        attachment.gpuTextureView = gpuTextureView;\n        return attachment;\n    };\n    Device_WebGPU.prototype.createProgram = function (descriptor) {\n        var _a, _b;\n        // preprocess GLSL first\n        if ((_a = descriptor.vertex) === null || _a === void 0 ? void 0 : _a.glsl) {\n            descriptor.vertex.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'vert', descriptor.vertex.glsl);\n        }\n        if ((_b = descriptor.fragment) === null || _b === void 0 ? void 0 : _b.glsl) {\n            descriptor.fragment.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'frag', descriptor.fragment.glsl);\n        }\n        return new Program_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createProgramSimple = function (descriptor) {\n        return new Program_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createTextureShared = function (descriptor, texture, skipCreate) {\n        var size = {\n            width: descriptor.width,\n            height: descriptor.height,\n            depthOrArrayLayers: descriptor.depthOrArrayLayers,\n        };\n        var mipLevelCount = descriptor.mipLevelCount;\n        var format = translateTextureFormat(descriptor.format);\n        var dimension = translateTextureDimension(descriptor.dimension);\n        var usage = translateTextureUsage(descriptor.usage);\n        texture.gpuTextureformat = format;\n        texture.dimension = descriptor.dimension;\n        texture.format = descriptor.format;\n        texture.width = descriptor.width;\n        texture.height = descriptor.height;\n        texture.depthOrArrayLayers = descriptor.depthOrArrayLayers;\n        texture.mipLevelCount = mipLevelCount;\n        texture.usage = usage;\n        texture.sampleCount = descriptor.sampleCount;\n        if (!skipCreate) {\n            var gpuTexture = this.device.createTexture({\n                size: size,\n                mipLevelCount: mipLevelCount,\n                format: format,\n                dimension: dimension,\n                sampleCount: descriptor.sampleCount,\n                usage: usage,\n            });\n            var gpuTextureView = gpuTexture.createView();\n            texture.gpuTexture = gpuTexture;\n            texture.gpuTextureView = gpuTextureView;\n        }\n    };\n    Device_WebGPU.prototype.getFallbackSampler = function (samplerEntry) {\n        var formatKind = samplerEntry.formatKind;\n        if (formatKind === SamplerFormatKind.Depth && samplerEntry.comparison) {\n            return this.fallbackSamplerComparison;\n        }\n        else {\n            return this.fallbackSamplerFiltering;\n        }\n    };\n    Device_WebGPU.prototype.getFallbackTexture = function (samplerEntry) {\n        var dimension = samplerEntry.dimension, formatKind = samplerEntry.formatKind;\n        if (dimension === TextureDimension.TEXTURE_2D)\n            return formatKind === SamplerFormatKind.Depth\n                ? this.fallbackTexture2DDepth\n                : this.fallbackTexture2D;\n        else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n            return this.fallbackTexture2DArray;\n        else if (dimension === TextureDimension.TEXTURE_3D)\n            return this.fallbackTexture3D;\n        else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n            return this.fallbackTextureCube;\n        else\n            throw new Error('whoops');\n    };\n    Device_WebGPU.prototype.createFallbackTexture = function (dimension, formatKind) {\n        var depthOrArrayLayers = dimension === TextureDimension.TEXTURE_CUBE_MAP ? 6 : 1;\n        var format = formatKind === SamplerFormatKind.Float ? Format.U8_RGBA_NORM : Format.D24;\n        return this.createTexture({\n            dimension: dimension,\n            format: format,\n            usage: TextureUsage.SAMPLED,\n            width: 1,\n            height: 1,\n            depthOrArrayLayers: depthOrArrayLayers,\n            mipLevelCount: 1,\n        });\n    };\n    Device_WebGPU.prototype.createBindings = function (descriptor) {\n        return new Bindings_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createInputLayout = function (descriptor) {\n        return new InputLayout_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createComputePipeline = function (descriptor) {\n        return new ComputePipeline_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createRenderPipeline = function (descriptor) {\n        return new RenderPipeline_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: __assign({}, descriptor),\n        });\n    };\n    Device_WebGPU.prototype.createQueryPool = function (type, elemCount) {\n        return new QueryPool_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                type: type,\n                elemCount: elemCount,\n            },\n        });\n    };\n    Device_WebGPU.prototype.createRenderPipelineInternal = function (renderPipeline, async) {\n        // if (this.device.createRenderPipelineAsync === undefined) {\n        //   async = false;\n        // }\n        var _a;\n        // // If we're already in the process of creating a the pipeline async, no need to kick the process off again...\n        // if (async && renderPipeline.isCreatingAsync) {\n        //   return;\n        // }\n        if (renderPipeline.gpuRenderPipeline !== null) {\n            return;\n        }\n        var descriptor = renderPipeline.descriptor;\n        var program = descriptor.program;\n        var vertexStage = program.vertexStage, fragmentStage = program.fragmentStage;\n        if (vertexStage === null || fragmentStage === null)\n            return;\n        var _b = descriptor.megaStateDescriptor || {}, stencilBack = _b.stencilBack, stencilFront = _b.stencilFront, rest = __rest(_b, [\"stencilBack\", \"stencilFront\"]);\n        var copied = copyMegaState(defaultMegaState);\n        descriptor.megaStateDescriptor = __assign(__assign(__assign({}, copied), { stencilBack: __assign(__assign({}, copied.stencilBack), stencilBack), stencilFront: __assign(__assign({}, copied.stencilFront), stencilFront) }), rest);\n        var defaultAttachmentState = descriptor.megaStateDescriptor.attachmentsState[0];\n        descriptor.colorAttachmentFormats.forEach(function (format, i) {\n            if (!descriptor.megaStateDescriptor.attachmentsState[i]) {\n                descriptor.megaStateDescriptor.attachmentsState[i] =\n                    copyAttachmentState(undefined, defaultAttachmentState);\n            }\n        });\n        var primitive = translatePrimitiveState((_a = descriptor.topology) !== null && _a !== void 0 ? _a : PrimitiveTopology.TRIANGLES, descriptor.megaStateDescriptor);\n        var targets = translateTargets(descriptor.colorAttachmentFormats, descriptor.megaStateDescriptor);\n        var depthStencil = translateDepthStencilState(descriptor.depthStencilAttachmentFormat, descriptor.megaStateDescriptor);\n        var buffers = undefined;\n        if (descriptor.inputLayout !== null)\n            buffers = descriptor.inputLayout.buffers;\n        var sampleCount = descriptor.sampleCount;\n        // renderPipeline.isCreatingAsync = true;\n        var gpuRenderPipelineDescriptor = {\n            // layout,\n            layout: 'auto',\n            vertex: __assign(__assign({}, vertexStage), { buffers: buffers }),\n            primitive: primitive,\n            depthStencil: depthStencil,\n            multisample: {\n                count: sampleCount,\n            },\n            fragment: __assign(__assign({}, fragmentStage), { targets: targets }),\n        };\n        // TODO: async creation\n        // @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createrenderpipeline\n        // renderPipeline.gpuRenderPipeline =\n        //   this.device.createRenderPipeline(gpuRenderPipeline);\n        // if (renderPipeline.name !== undefined)\n        //   renderPipeline.gpuRenderPipeline.label = renderPipeline.name;\n        // if (async) {\n        //   const gpuRenderPipeline = await this.device.createRenderPipelineAsync(\n        //     gpuRenderPipelineDescriptor,\n        //   );\n        //   // We might have created a sync pipeline while we were async building; no way to cancel the async\n        //   // pipeline build at this point, so just chuck it out :/\n        //   if (renderPipeline.gpuRenderPipeline === null)\n        //     renderPipeline.gpuRenderPipeline = gpuRenderPipeline;\n        // } else {\n        renderPipeline.gpuRenderPipeline = this.device.createRenderPipeline(gpuRenderPipelineDescriptor);\n        // }\n        // // if (renderPipeline.ResourceName !== undefined)\n        // //     renderPipeline.gpuRenderPipeline.label = renderPipeline.ResourceName;\n        // renderPipeline.isCreatingAsync = false;\n    };\n    Device_WebGPU.prototype.createReadback = function () {\n        return new Readback_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n        });\n    };\n    Device_WebGPU.prototype.createRenderPass = function (renderPassDescriptor) {\n        var pass = this.renderPassPool.pop();\n        if (pass === undefined) {\n            pass = new RenderPass_WebGPU(this);\n        }\n        pass.commandEncoder = this.device.createCommandEncoder();\n        pass.beginRenderPass(renderPassDescriptor);\n        return pass;\n    };\n    Device_WebGPU.prototype.createComputePass = function () {\n        var pass = this.computePassPool.pop();\n        if (pass === undefined)\n            pass = new ComputePass_WebGPU();\n        pass.commandEncoder = this.device.createCommandEncoder();\n        pass.beginComputePass();\n        return pass;\n    };\n    Device_WebGPU.prototype.submitPass = function (_pass) {\n        var queue = this.device.queue;\n        var pass = _pass;\n        var commands = pass.finish();\n        queue.submit([commands]);\n        pass.commandEncoder = null;\n        // if (pass instanceof RenderPass_WebGPU) {\n        //   pass.finish();\n        //   this.renderPassPool.push(pass);\n        //   if (pass.occlusionQueryPool !== null) {\n        //     this.queryPoolsSubmitted.push(pass.occlusionQueryPool);\n        //   }\n        // } else if (pass instanceof ComputePass_WebGPU) {\n        //   pass.finish();\n        //   this.computePassPool.push(pass);\n        // }\n    };\n    Device_WebGPU.prototype.copySubTexture2D = function (dst_, dstX, dstY, src_, srcX, srcY) {\n        var cmd = this.device.createCommandEncoder();\n        var dst = dst_;\n        var src = src_;\n        var srcCopy = {\n            texture: src.gpuTexture,\n            origin: [srcX, srcY, 0],\n        };\n        var dstCopy = {\n            texture: dst.gpuTexture,\n            origin: [dstX, dstY, 0],\n        };\n        assert(!!(src.usage & GPUTextureUsage$1.COPY_SRC));\n        assert(!!(dst.usage & GPUTextureUsage$1.COPY_DST));\n        cmd.copyTextureToTexture(srcCopy, dstCopy, [src.width, src.height, 1]);\n        this.device.queue.submit([cmd.finish()]);\n    };\n    Device_WebGPU.prototype.queryLimits = function () {\n        // GPUAdapter.limits\n        // @see https://www.w3.org/TR/webgpu/#gpu-supportedlimits\n        return {\n            uniformBufferMaxPageWordSize: this.device.limits.maxUniformBufferBindingSize >>> 2,\n            uniformBufferWordAlignment: this.device.limits.minUniformBufferOffsetAlignment >>> 2,\n            supportedSampleCounts: [1],\n            occlusionQueriesRecommended: true,\n            computeShadersSupported: true,\n        };\n    };\n    Device_WebGPU.prototype.queryTextureFormatSupported = function (format, width, height) {\n        if (isFormatTextureCompressionBC(format)) {\n            if (!this.featureTextureCompressionBC)\n                return false;\n            var bb = getFormatBlockSize(format);\n            if (width % bb !== 0 || height % bb !== 0)\n                return false;\n            return this.featureTextureCompressionBC;\n        }\n        switch (format) {\n            case Format.U16_RGBA_NORM:\n                return false;\n            case Format.F32_RGBA:\n                return false; // unfilterable\n        }\n        return true;\n    };\n    Device_WebGPU.prototype.queryPlatformAvailable = function () {\n        // TODO: should listen to lost event\n        return true;\n    };\n    Device_WebGPU.prototype.queryVendorInfo = function () {\n        return this;\n    };\n    Device_WebGPU.prototype.queryRenderPass = function (o) {\n        var pass = o;\n        return pass.descriptor;\n    };\n    Device_WebGPU.prototype.queryRenderTarget = function (o) {\n        var attachment = o;\n        return attachment;\n    };\n    Device_WebGPU.prototype.setResourceName = function (o, s) {\n        o.name = s;\n        if (o.type === ResourceType.Buffer) {\n            var r = o;\n            r.gpuBuffer.label = s;\n        }\n        else if (o.type === ResourceType.Texture) {\n            var r = o;\n            r.gpuTexture.label = s;\n            r.gpuTextureView.label = s;\n        }\n        else if (o.type === ResourceType.RenderTarget) {\n            var r = o;\n            r.gpuTexture.label = s;\n            r.gpuTextureView.label = s;\n        }\n        else if (o.type === ResourceType.Sampler) {\n            var r = o;\n            r.gpuSampler.label = s;\n        }\n        else if (o.type === ResourceType.RenderPipeline) {\n            var r = o;\n            if (r.gpuRenderPipeline !== null)\n                r.gpuRenderPipeline.label = s;\n        }\n    };\n    Device_WebGPU.prototype.setResourceLeakCheck = function (o, v) { };\n    Device_WebGPU.prototype.checkForLeaks = function () { };\n    Device_WebGPU.prototype.programPatched = function (o) { };\n    Device_WebGPU.prototype.pipelineQueryReady = function (o) {\n        var renderPipeline = o;\n        return renderPipeline.gpuRenderPipeline !== null;\n    };\n    Device_WebGPU.prototype.pipelineForceReady = function (o) {\n        var renderPipeline = o;\n        this.createRenderPipelineInternal(renderPipeline, false);\n    };\n    return Device_WebGPU;\n}());\n\nvar WebGPUDeviceContribution = /** @class */ (function () {\n    function WebGPUDeviceContribution(pluginOptions) {\n        this.pluginOptions = pluginOptions;\n    }\n    WebGPUDeviceContribution.prototype.createSwapChain = function ($canvas) {\n        return __awaiter(this, void 0, void 0, function () {\n            var adapter, xrCompatible, e_1, optionalFeatures, requiredFeatures, device, onContextLost_1, context;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // eslint-disable-next-line\n                        if (globalThis.navigator.gpu === undefined)\n                            return [2 /*return*/, null];\n                        adapter = null;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        xrCompatible = this.pluginOptions.xrCompatible;\n                        return [4 /*yield*/, globalThis.navigator.gpu.requestAdapter({\n                                xrCompatible: xrCompatible,\n                            })];\n                    case 2:\n                        // eslint-disable-next-line\n                        adapter = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        console.log(e_1);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        if (adapter === null)\n                            return [2 /*return*/, null];\n                        optionalFeatures = [\n                            // 'depth24unorm-stencil8',\n                            'depth32float-stencil8',\n                            'texture-compression-bc',\n                        ];\n                        requiredFeatures = optionalFeatures.filter(function (feature) {\n                            return adapter.features.has(feature);\n                        });\n                        return [4 /*yield*/, adapter.requestDevice({ requiredFeatures: requiredFeatures })];\n                    case 5:\n                        device = _a.sent();\n                        if (device) {\n                            onContextLost_1 = this.pluginOptions.onContextLost;\n                            device.lost.then(function () {\n                                if (onContextLost_1) {\n                                    onContextLost_1();\n                                }\n                            });\n                        }\n                        if (device === null)\n                            return [2 /*return*/, null];\n                        context = $canvas.getContext('webgpu');\n                        if (!context)\n                            return [2 /*return*/, null];\n                        _a.label = 6;\n                    case 6:\n                        _a.trys.push([6, 8, , 9]);\n                        return [4 /*yield*/, __wbg_init(this.pluginOptions.shaderCompilerPath)];\n                    case 7:\n                        _a.sent();\n                        return [3 /*break*/, 9];\n                    case 8:\n                        _a.sent();\n                        return [3 /*break*/, 9];\n                    case 9: \n                    // @ts-ignore\n                    return [2 /*return*/, new Device_WebGPU(adapter, device, $canvas, context, glsl_compile)];\n                }\n            });\n        });\n    };\n    return WebGPUDeviceContribution;\n}());\n\nexport { AddressMode, BlendFactor, BlendMode, BufferFrequencyHint, BufferUsage, ChannelWriteMask, ClipSpaceNearZ, CompareFunction, CullMode, FilterMode, Format, FormatCompFlags, FormatFlags, FormatTypeFlags, FrontFace, GL, IsDepthReversed, MipmapFilterMode, OpaqueBlack, OpaqueWhite, PrimitiveTopology, QueryPoolType, ResourceType, SamplerFormatKind, StencilOp, TextureDimension, TextureEvent, TextureUsage, TransparentBlack, TransparentWhite, UNIFORM_SETTERS, VertexStepMode, ViewportOrigin, WebGLDeviceContribution, WebGPUDeviceContribution, align, alignNonPowerOfTwo, arrayCopy, arrayEqual, assert, assertExists, bindingsDescriptorCopy, bindingsDescriptorEquals, bisectRight, bufferBindingCopy, colorCopy, colorEqual, colorNewCopy, colorNewFromRGBA, compareDepthValues, copyAttachmentState, copyAttachmentStateFromSimple, copyMegaState, copyStencilFaceState, defaultBindingLayoutSamplerDescriptor, defaultMegaState, fallbackUndefined, fillArray, fullscreenMegaState, getAttributeLocations, getDefines, getFormatByteSize, getFormatCompByteSize, getFormatCompFlags, getFormatCompFlagsComponentCount, getFormatComponentCount, getFormatFlags, getFormatSamplerKind, getFormatTypeFlags, getFormatTypeFlagsByteSize, getUniformSetter, getUniforms, inputLayoutBufferDescriptorCopy, inputLayoutBufferDescriptorEquals, inputLayoutDescriptorCopy, inputLayoutDescriptorEquals, isPowerOfTwo, isTypedArray, leftPad, makeFormat, makeMegaState, makeTextureDescriptor2D, nArray, nullify, parseUniformName, prependLineNo, preprocessProgram_GLSL, preprocessShader_GLSL, range, renderPipelineDescriptorCopy, renderPipelineDescriptorEquals, reverseDepthForClearValue, reverseDepthForCompareFunction, reverseDepthForDepthOffset, reverseDepthForOrthographicProjectionMatrix, reverseDepthForPerspectiveProjectionMatrix, samplerBindingCopy, samplerDescriptorEquals, setAttachmentStateSimple, setBitFlagEnabled, setFormatComponentCount, setFormatFlags, setMegaStateFlags, spliceBisectRight, stencilFaceStateEquals, vertexAttributeDescriptorCopy, vertexAttributeDescriptorEquals };\n//# sourceMappingURL=index.js.map\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    var filteredBridge = filterPoints(bridge, bridge.next);\n    filterPoints(bridgeReverse, bridgeReverse.next);\n\n    // Check if input node was removed by the filtering\n    return outerNode === bridge ? filteredBridge : outerNode;\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","import { __spreadArray, __read } from 'tslib';\nimport { isNumberEqual } from '@antv/util';\nimport { vec2 } from 'gl-matrix';\n\nfunction distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction getBBoxByArray(xArr, yArr) {\n    var minX = Math.min.apply(Math, __spreadArray([], __read(xArr), false));\n    var minY = Math.min.apply(Math, __spreadArray([], __read(yArr), false));\n    var maxX = Math.max.apply(Math, __spreadArray([], __read(xArr), false));\n    var maxY = Math.max.apply(Math, __spreadArray([], __read(yArr), false));\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n\nfunction copysign(v1, v2) {\n    var absv = Math.abs(v1);\n    return v2 > 0 ? absv : absv * -1;\n}\nfunction nearestPoint$4(x, y, rx, ry, x0, y0) {\n    var a = rx;\n    var b = ry;\n    // 0\n    if (a === 0 || b === 0) {\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    //  0 0 \n    var relativeX = x0 - x;\n    var relativeY = y0 - y;\n    var px = Math.abs(relativeX);\n    var py = Math.abs(relativeY);\n    var squareA = a * a;\n    var squareB = b * b;\n    // const angle0 = Math.atan2(relativeY, relativeX);\n    var t = Math.PI / 4;\n    var nearestX = 0; // \n    var nearestY = 0;\n    //  4 \n    for (var i = 0; i < 4; i++) {\n        nearestX = a * Math.cos(t);\n        nearestY = b * Math.sin(t);\n        var ex = ((squareA - squareB) * Math.pow(Math.cos(t), 3)) / a;\n        var ey = ((squareB - squareA) * Math.pow(Math.sin(t), 3)) / b;\n        var rx1 = nearestX - ex;\n        var ry1 = nearestY - ey;\n        var qx = px - ex;\n        var qy = py - ey;\n        var r = Math.hypot(ry1, rx1);\n        var q = Math.hypot(qy, qx);\n        var delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));\n        var delta_t = delta_c /\n            Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);\n        t += delta_t;\n        t = Math.min(Math.PI / 2, Math.max(0, t));\n    }\n    return {\n        x: x + copysign(nearestX, relativeX),\n        y: y + copysign(nearestY, relativeY),\n    };\n}\n\n//  x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return (-1 * rx * Math.cos(xRotation) * Math.sin(angle) -\n        ry * Math.sin(xRotation) * Math.cos(angle));\n}\n//  y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return (-1 * rx * Math.sin(xRotation) * Math.sin(angle) +\n        ry * Math.cos(xRotation) * Math.cos(angle));\n}\n// x \nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y \nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n//  x \nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return (rx * Math.cos(xRotation) * Math.cos(angle) -\n        ry * Math.sin(xRotation) * Math.sin(angle) +\n        cx);\n}\n//  y \nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return (rx * Math.sin(xRotation) * Math.cos(angle) +\n        ry * Math.cos(xRotation) * Math.sin(angle) +\n        cy);\n}\n// \nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    //  0 - 2PI \n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// \nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nfunction box$5(cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n    var xDim = xExtrema(rx, ry, xRotation);\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var xs = [startAngle, endAngle];\n    for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n        var xAngle = xDim + i;\n        if (startAngle < endAngle) {\n            if (startAngle < xAngle && xAngle < endAngle) {\n                xs.push(xAngle);\n            }\n        }\n        else {\n            if (endAngle < xAngle && xAngle < startAngle) {\n                xs.push(xAngle);\n            }\n        }\n    }\n    for (var i = 0; i < xs.length; i++) {\n        var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n        if (x < minX) {\n            minX = x;\n        }\n        if (x > maxX) {\n            maxX = x;\n        }\n    }\n    var yDim = yExtrema(rx, ry, xRotation);\n    var minY = Infinity;\n    var maxY = -Infinity;\n    var ys = [startAngle, endAngle];\n    for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n        var yAngle = yDim + i;\n        if (startAngle < endAngle) {\n            if (startAngle < yAngle && yAngle < endAngle) {\n                ys.push(yAngle);\n            }\n        }\n        else {\n            if (endAngle < yAngle && yAngle < startAngle) {\n                ys.push(yAngle);\n            }\n        }\n    }\n    for (var i = 0; i < ys.length; i++) {\n        var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n        if (y < minY) {\n            minY = y;\n        }\n        if (y > maxY) {\n            maxY = y;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction nearestPoint$3(cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n    //  0,0 \n    var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n    var _a = __read(relativeVector, 2), x1 = _a[0], y1 = _a[1];\n    // \n    var relativePoint = nearestPoint$4(0, 0, rx, ry, x1, y1);\n    // \n    var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n    // \n    if (angle < startAngle) {\n        // \n        relativePoint = getPoint(rx, ry, startAngle);\n    }\n    else if (angle > endAngle) {\n        // \n        relativePoint = getPoint(rx, ry, endAngle);\n    }\n    //  xRotation \n    var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n    return {\n        x: vector[0] + cx,\n        y: vector[1] + cy,\n    };\n}\nfunction tangentAngle$4(cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n    var angle = (endAngle - startAngle) * t + startAngle;\n    var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n    var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n    return piMod(Math.atan2(dy, dx));\n}\n\nvar EPSILON = 0.0001;\n/**\n * \n * @param {number[]} xArr       x \n * @param {number[]} yArr       y \n * @param {number}   x          x\n * @param {number}   y          y\n * @param {Function} tCallback \n */\nfunction nearestPoint$2(xArr, yArr, x, y, tCallback, length) {\n    var t = -1;\n    var d = Infinity;\n    var v0 = [x, y];\n    var segNum = 20;\n    if (length && length > 200) {\n        segNum = length / 10;\n    }\n    var increaseRate = 1 / segNum;\n    var interval = increaseRate / 10;\n    for (var i = 0; i <= segNum; i++) {\n        var _t = i * increaseRate;\n        var v1 = [\n            tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([_t])), false)),\n            tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([_t])), false)),\n        ];\n        var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    // \n    if (t === 0) {\n        return {\n            x: xArr[0],\n            y: yArr[0],\n        };\n    }\n    if (t === 1) {\n        var count = xArr.length;\n        return {\n            x: xArr[count - 1],\n            y: yArr[count - 1],\n        };\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        var v1 = [\n            tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([prev])), false)),\n            tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([prev])), false)),\n        ];\n        var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            var v2 = [\n                tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([next])), false)),\n                tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([next])), false)),\n            ];\n            var d2 = distance(v0[0], v0[1], v2[0], v2[1]);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    return {\n        x: tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([t])), false)),\n        y: tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([t])), false)),\n    };\n}\n//  https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nfunction snapLength(xArr, yArr) {\n    var totalLength = 0;\n    var count = xArr.length;\n    for (var i = 0; i < count; i++) {\n        var x = xArr[i];\n        var y = yArr[i];\n        var nextX = xArr[(i + 1) % count];\n        var nextY = yArr[(i + 1) % count];\n        totalLength += distance(x, y, nextX, nextY);\n    }\n    return totalLength / 2;\n}\n\nfunction box$4(x1, y1, x2, y2) {\n    return getBBoxByArray([x1, x2], [y1, y2]);\n}\nfunction length$4(x1, y1, x2, y2) {\n    return distance(x1, y1, x2, y2);\n}\nfunction pointAt$3(x1, y1, x2, y2, t) {\n    return {\n        x: (1 - t) * x1 + t * x2,\n        y: (1 - t) * y1 + t * y2,\n    };\n}\nfunction pointDistance$4(x1, y1, x2, y2, x, y) {\n    //  x1, y1  p, p1, p2  a\n    // p1a = p1p.p1p2/|p1p2| * (p1p )\n    var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n    if (cross < 0) {\n        return distance(x1, y1, x, y);\n    }\n    var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n    if (cross > lengthSquare) {\n        return distance(x2, y2, x, y);\n    }\n    return pointToLine(x1, y1, x2, y2, x, y);\n}\nfunction pointToLine(x1, y1, x2, y2, x, y) {\n    var d = [x2 - x1, y2 - y1];\n    // \n    if (vec2.exactEquals(d, [0, 0])) {\n        return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n    }\n    var u = [-d[1], d[0]];\n    vec2.normalize(u, u);\n    var a = [x - x1, y - y1];\n    return Math.abs(vec2.dot(a, u));\n}\nfunction tangentAngle$3(x1, y1, x2, y2) {\n    return Math.atan2(y2 - y1, x2 - x1);\n}\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t  Math.pow(t, 3) \n    return (onet * onet * onet * p0 +\n        3 * p1 * t * onet * onet +\n        3 * p2 * t * t * onet +\n        p3 * t * t * t);\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return (3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2)));\n}\nfunction extrema$1(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (isNumberEqual(a, 0)) {\n        if (!isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// \nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // \n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // \n    var c1 = pointAt$3(x1, y1, x2, y2, t);\n    var c2 = pointAt$3(x2, y2, x3, y3, t);\n    var c3 = pointAt$3(x3, y3, x4, y4, t);\n    var c12 = pointAt$3(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = pointAt$3(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// \nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = __spreadArray(__spreadArray([], __read(cubics[0]), false), [iterationCount - 1], false);\n    var right = __spreadArray(__spreadArray([], __read(cubics[1]), false), [iterationCount - 1], false);\n    return cubicLength.apply(void 0, __spreadArray([], __read(left), false)) + cubicLength.apply(void 0, __spreadArray([], __read(right), false));\n}\nfunction box$3(x1, y1, x2, y2, x3, y3, x4, y4) {\n    var xArr = [x1, x4];\n    var yArr = [y1, y4];\n    var xExtrema = extrema$1(x1, x2, x3, x4);\n    var yExtrema = extrema$1(y1, y2, y3, y4);\n    for (var i = 0; i < xExtrema.length; i++) {\n        xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n    }\n    for (var i = 0; i < yExtrema.length; i++) {\n        yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n    }\n    return getBBoxByArray(xArr, yArr);\n}\nfunction length$3(x1, y1, x2, y2, x3, y3, x4, y4) {\n    //  8 \n    return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n}\nfunction nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    return nearestPoint$2([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt, length);\n}\nfunction pointDistance$3(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    var point = nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n    return distance(point.x, point.y, x0, y0);\n}\nfunction pointAt$2(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return {\n        x: cubicAt(x1, x2, x3, x4, t),\n        y: cubicAt(y1, y2, y3, y4, t),\n    };\n}\nfunction tangentAngle$2(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    var dx = derivativeAt(x1, x2, x3, x4, t);\n    var dy = derivativeAt(y1, y2, y3, y4, t);\n    return piMod(Math.atan2(dy, dx));\n}\n\nfunction analyzePoints(points) {\n    // \n    var totalLength = 0;\n    var segments = [];\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        var length_1 = distance(from[0], from[1], to[0], to[1]);\n        var seg = {\n            from: from,\n            to: to,\n            length: length_1,\n        };\n        segments.push(seg);\n        totalLength += length_1;\n    }\n    return { segments: segments, totalLength: totalLength };\n}\nfunction lengthOfSegment(points) {\n    if (points.length < 2) {\n        return 0;\n    }\n    var totalLength = 0;\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        totalLength += distance(from[0], from[1], to[0], to[1]);\n    }\n    return totalLength;\n}\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n * @return {object} \n */\nfunction pointAtSegments(points, t) {\n    // \n    if (t > 1 || t < 0 || points.length < 2) {\n        return null;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // \n    if (totalLength === 0) {\n        return {\n            x: points[0][0],\n            y: points[0][1],\n        };\n    }\n    // \n    var startRatio = 0;\n    var point = null;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            var localRatio = (t - startRatio) / currentRatio;\n            point = pointAt$3(from[0], from[1], to[0], to[1], localRatio);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return point;\n}\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n */\nfunction angleAtSegments(points, t) {\n    // \n    if (t > 1 || t < 0 || points.length < 2) {\n        return 0;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // \n    var startRatio = 0;\n    var angle = 0;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return angle;\n}\nfunction distanceAtSegment(points, x, y) {\n    var minDistance = Infinity;\n    for (var i = 0; i < points.length - 1; i++) {\n        var point = points[i];\n        var nextPoint = points[i + 1];\n        var distance_1 = pointDistance$4(point[0], point[1], nextPoint[0], nextPoint[1], x, y);\n        if (distance_1 < minDistance) {\n            minDistance = distance_1;\n        }\n    }\n    return minDistance;\n}\n\nfunction box$2(points) {\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return getBBoxByArray(xArr, yArr);\n}\nfunction length$2(points) {\n    return lengthOfSegment(points);\n}\nfunction pointAt$1(points, t) {\n    return pointAtSegments(points, t);\n}\nfunction pointDistance$2(points, x, y) {\n    return distanceAtSegment(points, x, y);\n}\nfunction tangentAngle$1(points, t) {\n    return angleAtSegments(points, t);\n}\n\nfunction getAllPoints(points) {\n    var tmp = points.slice(0);\n    if (points.length) {\n        tmp.push(points[0]);\n    }\n    return tmp;\n}\nfunction box$1(points) {\n    return box$2(points);\n}\nfunction length$1(points) {\n    return lengthOfSegment(getAllPoints(points));\n}\nfunction pointAt(points, t) {\n    return pointAtSegments(getAllPoints(points), t);\n}\nfunction pointDistance$1(points, x, y) {\n    return distanceAtSegment(getAllPoints(points), x, y);\n}\nfunction tangentAngle(points, t) {\n    return angleAtSegments(getAllPoints(points), t);\n}\n\n// \nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// \nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\n// \nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // \n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // \n    var controlPoint1 = pointAt$3(x1, y1, x2, y2, t);\n    // \n    var controlPoint2 = pointAt$3(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// \nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return ((distance(x1, y1, x2, y2) +\n            distance(x2, y2, x3, y3) +\n            distance(x1, y1, x3, y3)) /\n            2);\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(void 0, __spreadArray([], __read(left), false)) + quadraticLength.apply(void 0, __spreadArray([], __read(right), false));\n}\nfunction box(x1, y1, x2, y2, x3, y3) {\n    var xExtrema = extrema(x1, x2, x3)[0];\n    var yExtrema = extrema(y1, y2, y3)[0];\n    //  box \n    var xArr = [x1, x3];\n    var yArr = [y1, y3];\n    if (xExtrema !== undefined) {\n        xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n    }\n    if (yExtrema !== undefined) {\n        yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n    }\n    return getBBoxByArray(xArr, yArr);\n}\nfunction length(x1, y1, x2, y2, x3, y3) {\n    return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n}\nfunction nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0) {\n    return nearestPoint$2([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n}\nfunction pointDistance(x1, y1, x2, y2, x3, y3, x0, y0) {\n    var point = nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n    return distance(point.x, point.y, x0, y0);\n}\n\nexport { box$5 as arcBox, nearestPoint$3 as arcNearestPoint, tangentAngle$4 as arcTangentAngle, box$3 as cubicBox, length$3 as cubicLength, nearestPoint$1 as cubicNearestPoint, pointAt$2 as cubicPointAt, pointDistance$3 as cubicPointDistance, tangentAngle$2 as cubicTangentAngle, distance, box$4 as lineBox, length$4 as lineLength, pointAt$3 as linePointAt, pointDistance$4 as linePointDistance, pointToLine as linePointToLine, tangentAngle$3 as lineTangentAngle, box$1 as polygonBox, length$1 as polygonLength, pointAt as polygonPointAt, pointDistance$1 as polygonPointDistance, tangentAngle as polygonTangentAngle, box$2 as polylineBox, length$2 as polylineLength, pointAt$1 as polylinePointAt, pointDistance$2 as polylinePointDistance, tangentAngle$1 as polylineTangentAngle, box as quadBox, length as quadLength, nearestPoint as quadNearestPoint, pointDistance as quadPointDistance };\n//# sourceMappingURL=index.esm.js.map\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","pop","push","__values","o","m","__read","r","ar","error","__spreadArray","to","from","pack","l","slice","concat","Renderable3D","drawcalls","tag","LightPool","lights","addLight","light","sortLights","removeLight","splice","addFog","fog","removeFog","getFog","getAllLights","getDefines","defines","USE_LIGHT","forEach","define","sort","a","order","Mesh","_super","_a","_this","style","rest","type","Shape","MESH","x","z","lineWidth","anchor","cullable","enable","geometry","meshes","material","destroy","index","DisplayObject","MeshUpdater","update","parsedStyle","aabb","computeBoundingBox","max","getMax","min","getMin","width","height","depth","PickingIdGenerator","counter","id2DisplayObjectMap","getId","displayObject","id","getById","deleteById","reset","decodePickingColor","color","encodePickingColor","featureIdx","ARRAY_TYPE","Float32Array","out","glMatrix.ARRAY_TYPE","copy","fromValues","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","fromTranslation","Math","hypot","sqrt","mul","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","rotateVector","rad","cos","sin","arcToCubic","X1","Y1","RX","RY","angle","LAF","SF","X2","Y2","recursive","xy","f1","f2","cx","cy","x1","y1","rx","ry","x2","y2","d120","PI","res","h","rx2","ry2","k","abs","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","ii","isNil$3","toString","isType$3","isString","str","isType","clamp$3","isNumber$3","isNil$1","isType$1","clamp$1","isNumber$1","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","name","names","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","removeListener","undefined","j","on","removeAllListeners","off","prefixed","module","exports","GL","ResourceType","CompareFunction","FrontFace","CullMode","BlendFactor","BlendMode","AddressMode","FilterMode","MipmapFilterMode","PrimitiveTopology","BufferUsage","BufferFrequencyHint","VertexStepMode","TextureEvent","TextureDimension","TextureUsage","ChannelWriteMask","StencilOp","SamplerFormatKind","ViewportOrigin","ClipSpaceNearZ","QueryPoolType","FormatTypeFlags","FormatCompFlags","FormatFlags","Format","makeTextureDescriptor2D","format","mipLevelCount","dimension","TEXTURE_2D","depthOrArrayLayers","usage","SAMPLED","makeFormat","comp","flags","getFormatCompFlags","fmt","getFormatTypeFlags","getFormatFlags","getFormatTypeFlagsByteSize","typeFlags","F32","U32","S32","U16","S16","F16","U8","S8","Error","getFormatCompByteSize","getFormatSamplerKind","Depth","Normalized","Float","Uint","Sint","assert","message","assertExists","colorNewCopy","src","colorNewFromRGBA","A","None","R","RG","RGB","RGBA","sRGB","U16_PACKED_5551","U16_PACKED_565","BC1","BC2","BC3","BC4_UNORM","BC4_SNORM","BC5_UNORM","BC5_SNORM","D24","D24S8","Stencil","D32F","D32FS8","RenderTarget","TransparentBlack","OpaqueBlack","TransparentWhite","OpaqueWhite","isPowerOfTwo","fallbackUndefined","fallback","fillArray","L","fill","align","multiple","mask","alignNonPowerOfTwo","setBitFlagEnabled","enabled","nArray","c","copyChannelBlendState","dst","blendDstFactor","blendSrcFactor","blendMode","copyStencilFaceState","compare","depthFailOp","passOp","failOp","copyAttachmentState","rgbBlendState","alphaBlendState","channelWriteMask","copyAttachmentsState","setMegaStateFlags","attachmentsState","blendConstant","colorCopy","depthCompare","depthWrite","stencilWrite","stencilFront","stencilBack","cullMode","frontFace","polygonOffset","copyMegaState","defaultBlendState","ADD","ONE","ZERO","defaultMegaState","ALL","LEQUAL","ALWAYS","KEEP","NONE","CCW","fullscreenMegaState","other","makeMegaState","setAttachmentStateSimple","simple","rgbBlendMode","alphaBlendMode","rgbBlendSrcFactor","alphaBlendSrcFactor","rgbBlendDstFactor","alphaBlendDstFactor","copyAttachmentStateFromSimple","defaultBindingLayoutSamplerDescriptor","texture","sampler","formatKind","arrayEqual","arrayCopy","copyFunc","bufferBindingEquals","buffer","size","binding","offset","samplerBindingEquals","comparison","bindingsDescriptorEquals","samplerBindings","uniformBufferBindings","channelBlendStateEquals","attachmentStateEquals","stencilFaceStateEquals","programEquals","formatEquals","renderPipelineDescriptorEquals","topology","inputLayout","sampleCount","megaStateDescriptor","c0","megaStateDescriptorEquals","program","colorAttachmentFormats","depthStencilAttachmentFormat","vertexAttributeDescriptorEquals","shaderLocation","divisor","inputLayoutBufferDescriptorEquals","isNil","arrayStride","stepMode","attributes","inputLayoutDescriptorEquals","indexBufferFormat","vertexBufferDescriptors","samplerDescriptorEquals","addressModeU","addressModeV","minFilter","magFilter","mipmapFilter","lodMinClamp","lodMaxClamp","maxAnisotropy","compareFunction","samplerBindingCopy","bufferBindingCopy","vertexAttributeDescriptorCopy","inputLayoutBufferDescriptorCopy","UNIFORM_NAME_REGEXP","parseUniformName","isArray","matches","match","Number","getSamplerSetter","cache","gl","location","uniform1i","getArraySetter","functionName","toArray","uniformSetter","cacheLength","arrayValue","set","setVectorUniform","setMatrixUniform","FLOAT_ARRAY","INT_ARRAY","UINT_ARRAY","array1","toTypedArray","uniformLength","Type","isFinite","toFloatArray","toIntArray","Int32Array","toUIntArray","Uint32Array","UNIFORM_SETTERS","FLOAT","bind","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","UNSIGNED_INT","UNSIGNED_INT_VEC2","UNSIGNED_INT_VEC3","UNSIGNED_INT_VEC4","FLOAT_MAT2x3","FLOAT_MAT2x4","FLOAT_MAT3x2","FLOAT_MAT3x4","FLOAT_MAT4x2","FLOAT_MAT4x3","SAMPLER_2D","SAMPLER_CUBE","SAMPLER_3D","SAMPLER_2D_SHADOW","SAMPLER_2D_ARRAY","SAMPLER_2D_ARRAY_SHADOW","SAMPLER_CUBE_SHADOW","INT_SAMPLER_2D","INT_SAMPLER_3D","INT_SAMPLER_CUBE","INT_SAMPLER_2D_ARRAY","UNSIGNED_INT_SAMPLER_2D","UNSIGNED_INT_SAMPLER_3D","UNSIGNED_INT_SAMPLER_CUBE","UNSIGNED_INT_SAMPLER_2D_ARRAY","getUniformSetter","info","setter","dtypes","defineStr","parseBinding","layout","exec","bindingNum","parseInt","isNaN","preprocessShader_GLSL","vendorInfo","source","usePrecision","isGLSL100","glslVersion","useMRT","lines","replace","split","map","filter","test","definesString","keys","key","join","precision","find","line","startsWith","extraDefines","viewportOrigin","UPPER_LEFT","clipSpaceNearZ","explicitBindingLocations","set_1","implicitBinding_1","location_1","substr","cap","separateSamplerTextures","combinedSamplerType","samplerName","getSeparateSamplerTypes","textureType","samplerType","trim","tok","implicitBinding_2","samplerNames_1","_b","RegExp","dataType","uniforms","uniform","trimmed","gBuffers_1","lastIndexOfMain","lastIndexOf","substring","gBuffer","glFragColor_1","ResourceBase_GL","device","trackResourceCreated","trackResourceDestroyed","isWebGL2","WebGL2RenderingContext","_version","isFormatSizedInteger","translateBufferUsageToTarget","INDEX","ELEMENT_ARRAY_BUFFER","VERTEX","ARRAY_BUFFER","UNIFORM","UNIFORM_BUFFER","translateVertexFormat$1","compFlags","UNSIGNED_BYTE","UNSIGNED_SHORT","BYTE","SHORT","HALF_FLOAT","translateType","translateSize","normalized","translateAddressMode$1","wrapMode","CLAMP_TO_EDGE","REPEAT","MIRRORED_REPEAT","translateFilterMode","LINEAR","BILINEAR","LINEAR_MIPMAP_LINEAR","POINT","NEAREST_MIPMAP_LINEAR","NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_NEAREST","NO_MIP","getPlatformBuffer$1","buffer_","byteOffset","gl_buffer_pages","pageByteSize","Bindings_GL","descriptor","Bindings","bindingLayouts","createBindingLayouts","firstUniformBuffer","firstSampler","bindingLayoutTables","numUniformBuffers","numSamplers","Buffer_GL","Buffer","viewOrSize","hint","STATIC","uniformBufferMaxPageByteSize","isUBO","bindVertexArray","OES_vertex_array_object","bindVertexArrayOES","byteSize","isNumber","byteLength","byteSizeLeft","createBufferPage","gl_target","setSubData","Uint8Array","dstByteOffset","data","srcByteOffset","dstPageByteSize","virtBufferByteOffsetEnd","virtBufferByteOffset","physBufferByteOffset","target","COPY_WRITE_BUFFER","ubo","bindBuffer","bufferSubData","deleteBuffer","gl_buffer","ensureResourceExists","createBuffer","gl_hint","STATIC_DRAW","DYNAMIC","DYNAMIC_DRAW","translateBufferHint","bufferData","InputLayout_GL","e_1","e_2","_c","_d","InputLayout","U16_R","U32_R","indexBufferType","U8_R","translateIndexFormat$1","indexBufferCompByteSize","vao","createVertexArray","createVertexArrayOES","_e","_f","vertexBufferDescriptor","attributes_1","attributes_1_1","attribute","_g","vertexFormat","vertexAttribPointer","INSTANCE","vertexAttribDivisor","ANGLE_instanced_arrays","vertexAttribDivisorANGLE","enableVertexAttribArray","e_2_1","e_1_1","deleteVertexArray","deleteVertexArrayOES","ProgramCompileState_GL","Texture_GL","fake","Texture","gl_texture","clampmipLevelCount","immutable","RENDER_TARGET","pixelStore","mipmaps","createTexture","gl_type","translateTextureType","internalformat","translateTextureInternalFormat","setActiveTexture","TEXTURE0","preprocessImage","bindTexture","texStorage2D","level","DEPTH_COMPONENT","isNPOT","D24_S8","WEBGL_depth_texture","texImage2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_2D_ARRAY","texStorage3D","TEXTURE_3D","TEXTURE_CUBE_MAP","setImageData","levelDatas","lod","isTextureFormatCompressed","is3D","isCube","isTA","gl_format","translateTextureFormat","levelData","TEXTURE_CUBE_MAP_POSITIVE_X","texSubImage2D","texImage3D","generateMipmap","deleteTexture","w","unpackFlipY","pixelStorei","UNPACK_FLIP_Y_WEBGL","packAlignment","PACK_ALIGNMENT","unpackAlignment","UNPACK_ALIGNMENT","TEXTURE_BASE_LEVEL","TEXTURE_MAX_LEVEL","log2","TEXTURE_MAG_FILTER","RenderTarget_GL","gl_renderbuffer","useRenderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisample","renderbufferStorage","deleteRenderbuffer","Program_GL","rawVertexGLSL","Program","uniformSetters","gl_program","createProgram","gl_shader_vert","gl_shader_frag","compileState","NeedsCompile","tryCompileProgram","deleteProgram","deleteShader","vertex","glsl","fragment","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","attachShader","linkProgram","Compiling","readUniformLocationsFromLinkedProgram","readAttributesFromLinkedProgram","count","getProgramParameter","ACTIVE_ATTRIBUTES","shader","locations","vert","getAttributeLocations","_loop_1","getActiveAttrib","this_1","name_1","getAttribLocation","definedLocation","numUniforms","ACTIVE_UNIFORMS","getActiveUniform","name_2","location_2","getUniformLocation","contents","createShader","shaderSource","setUniformsLegacy","programUsed","uniformName","useProgram","textureIndex","QueryPool_GL","QueryPool","gl_query","elemCount","createQuery","gl_query_type","OcclusionConservative","ANY_SAMPLES_PASSED_CONSERVATIVE","translateQueryPoolType$1","queryResultOcclusion","dstOffs","getQueryParameter","QUERY_RESULT_AVAILABLE","QUERY_RESULT","deleteQuery","Readback_GL","Readback","gl_pbo","gl_sync","clientWaitAsync","sync","interval_ms","clientWaitSync","WAIT_FAILED","TIMEOUT_EXPIRED","setTimeout","clamp","MAX_CLIENT_WAIT_TIMEOUT_WEBGL","getBufferSubDataAsync","dstBuffer","dstOffset","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","flush","getBufferSubData","readTexture","formatByteSize","PIXEL_PACK_BUFFER","STREAM_READ","bindFramebuffer","READ_FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","readPixels","readTextureSync","FRAMEBUFFER","readBuffer","deleteSync","RenderPipeline_GL","RenderPipeline","drawMode","TRIANGLES","POINTS","TRIANGLE_STRIP","LINES","LINE_STRIP","translatePrimitiveTopology","megaState","ComputePipeline_GL","ComputePipeline","Sampler_GL","Sampler","gl_sampler","createSampler","samplerParameteri","TEXTURE_WRAP_R","addressModeW","samplerParameterf","TEXTURE_MIN_LOD","TEXTURE_MAX_LOD","TEXTURE_COMPARE_MODE","COMPARE_REF_TO_TEXTURE","TEXTURE_COMPARE_FUNC","EXT_texture_filter_anisotropic","TEXTURE_MAX_ANISOTROPY_EXT","setTextureParameters","deleteSampler","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","heap","TextEncoder","GPUTextureUsage$1","GPUMapMode","translateTextureViewDimension","translateAddressMode","translateMinMagFilter","texFilter","translateMipFilter","getPlatformBuffer","gpuBuffer","translateQueryPoolType","translateCompareFunction","NEVER","LESS","EQUAL","GREATER","NOTEQUAL","GEQUAL","translateVertexStepMode","translateVertexFormat","U8_RG","U8_RGB","U8_RGBA","U8_RG_NORM","U8_RGBA_NORM","S8_RGB_NORM","S8_RGBA_NORM","U16_RG_NORM","U16_RGBA_NORM","S16_RG_NORM","S16_RGBA_NORM","S16_RG","F16_RG","F16_RGBA","F32_R","F32_RG","F32_RGB","F32_RGBA","allocateAndCopyTypedBuffer","sizeOrDstBuffer","sizeInBytes","copyBuffer","S8_R","S8_R_NORM","S8_RG_NORM","buffer_1","ArrayBuffer","Int8Array","U8_R_NORM","U8_RGB_NORM","U8_RGB_SRGB","U8_RGBA_SRGB","buffer_2","S16_R","S16_RGB_NORM","S16_RGBA","buffer_3","Int16Array","U16_RGB","U16_RGBA_5551","U16_R_NORM","buffer_4","Uint16Array","S32_R","buffer_5","U32_RG","buffer_6","buffer_7","GPUTextureUsage","ResourceBase_WebGPU","Bindings_WebGPU","pipeline","storageBufferBindings","gpuBindGroupEntries","numBindings","gpuBufferBinding","resource","samplerEntry","gpuTextureView","gpuSampler","gpuBindGroup","entries","createBindGroup","getBindGroupLayout","Buffer_WebGPU","useMapRead","MAP_READ","usage_","GPUBufferUsage","STORAGE","COPY_SRC","COPY_DST","translateBufferUsage","mapBuffer","view","mappedAtCreation","getMappedRange","unmap","chunkStart","chunkEnd","alignedLength","tempView","maxChunk","queue","writeBuffer","ComputePipeline_WebGPU","gpuComputePipeline","computeStage","compute","createComputePipeline","InputLayout_WebGPU","buffers","indexFormat","translateIndexFormat","Program_WebGPU","vertexStage","fragmentStage","createShaderStage","shaderStage","entryPoint","code","wgsl","console","depthTextureName","includes","sub","createShaderModule","QueryPool_WebGPU","querySet","createQuerySet","resolveBuffer","QUERY_RESOLVE","cpuBuffer","results","BigInt","Readback_WebGPU","blockInformation","bytesPerRowAligned","commandEncoder","getBlockInformationFromFormat","gpuTextureformat","ceil","createCommandEncoder","copyTextureToBuffer","gpuTexture","mipLevel","origin","bytesPerRow","submit","finish","dstArrayBufferView","_size","noDataConversion","floatFormat","BYTES_PER_ELEMENT","gpuReadBuffer","copyBufferToBuffer","mapAsync","READ","copyArrayBuffer","getHalfFloatAsFloatRGBAArrayBuffer","ctor","reason","dataLength","arrayBuffer","destArray","srcData","pow","NaN","Infinity","RenderPipeline_WebGPU","isCreatingAsync","gpuRenderPipeline","Sampler_WebGPU","Texture_WebGPU","skipCreate","createTextureShared","textureFromImageBitmapOrCanvas","sources","textureDescriptor","TEXTURE_BINDING","RENDER_ATTACHMENT","copyExternalImageToTexture","isImageBitmapOrCanvases","datas","ImageBitmap","HTMLCanvasElement","OffscreenCanvas","isVideo","HTMLVideoElement","importExternalTexture","createView","DeviceProgram","preprocessedVert","preprocessedFrag","both","frag","definesChanged","setDefineString","setDefineBool","getDefineString","getDefineBool","DynamicUniformBuffer","currentBufferWordSize","currentWordOffset","shadowBufferF32","shadowBufferU8","limits","queryLimits","uniformBufferWordAlignment","uniformBufferMaxPageWordSize","isSupportedUBO","queryVendorInfo","platformString","findPageIndex","wordOffset","allocateChunk","wordCount","ensureShadowBuffer","newWordCount","newBuffer","mapBufferF32","prepareToRender","hashCodeNumberUpdate","hash","hashCodeNumberFinish","nullHashFunc","HashBucket","values","HashMap","keyEqualFunc","keyHashFunc","buckets","Map","findBucketIndex","bucket","findBucket","bw","get","bi","add","delete","clear","acc","preprocessProgramObj_GLSL","obj","preprocessProgram_GLSL","programDescriptorSimpleEquals","blendStateHash","attachmentStateHash","megaStateDescriptorHash","colorHash","_h","renderPipelineDescriptorHash","bindingsDescriptorHash","ToneMapping","RGAttachmentSlot","RenderCache","bindingsCache","renderPipelinesCache","inputLayoutsCache","programCache","samplerCache","createBindings","bindings","descriptorCopy","createRenderPipeline","renderPipeline","createInputLayout","createProgramSimple","deviceProgram","preprocessedVert_1","preprocessedFrag_1","_j","_k","_l","_m","_o","_p","_q","RendererLayer","RenderGraphPass","renderTargetIDs","renderTargetLevels","resolveTextureOutputIDs","resolveTextureOutputExternalTextures","resolveTextureOutputExternalTextureLevel","resolveTextureInputIDs","renderTargetExtraRefs","resolveTextureInputTextures","renderTargets","colorAttachment","colorAttachmentLevel","colorResolveTo","colorResolveToLevel","colorStore","depthStencilAttachment","depthStencilResolveTo","depthStencilStore","colorClearColor","depthClearValue","stencilClearValue","occlusionQueryPool","viewportX","viewportY","viewportW","viewportH","execFunc","postFunc","debugThumbnails","setDebugName","debugName","pushDebugThumbnail","attachmentSlot","setViewport","attachRenderTargetID","renderTargetID","attachResolveTexture","resolveTextureID","attachOcclusionQueryPool","queryPool","func","post","addExtraRef","slot","RGRenderTarget","desc","needsClear","age","attachment","createRenderTarget","createRenderTargetFromTexture","setResourceName","matchesDescription","SingleSampledTexture","GraphImpl","renderTargetDescriptions","resolveTextureRenderTargetIDs","passes","renderTargetDebugNames","RenderGraph","currentPass","renderTargetDeadPool","singleSampledTextureDeadPool","currentGraph","renderTargetOutputCount","renderTargetResolveCount","resolveTextureUseCount","renderTargetAliveForID","singleSampledTextureForResolveTextureID","acquireRenderTargetForDescription","freeRenderTarget","acquireSingleSampledTextureForDescription","freeSingleSampledTexture","beginGraphBuilder","pushPass","setupFunc","pass","createRenderTargetID","createResolveTextureID","findMostRecentPassThatAttachedRenderTarget","resolveRenderTargetPassAttachmentSlot","renderPass","findPassForResolveRenderTarget","resolveRenderTarget","resolveRenderTargetToExternalTexture","getRenderTargetDescription","scheduleAddUseCount","graph","acquireRenderTargetForID","newRenderTarget","releaseRenderTargetForID","forOutput","renderTarget","acquireResolveTextureInputTextureForID","singleSampledTexture","determineResolveParam","resolveTextureOutputID","externalTexture","hasResolveTextureOutputID","hasExternalTexture","resolveTo","store","schedulePass","depthStencilRenderTargetID","DepthStencil","Color0","ColorMax","colorRenderTargetID","colorRenderTarget","store_1","depthStencilRenderTarget","rtWidth","rtHeight","rtSampleCount","scheduleGraph","execPass","createRenderPass","pushDebugGroup","popDebugGroup","submitPass","execGraph","beginFrame","endFrame","execute","getDebug","getPasses","getPassDebugThumbnails","getPassRenderTargetID","getRenderTargetIDDebugName","getResolveTextureForID","currentGraphPass","getRenderTargetAttachment","getRenderTargetTexture","newGraphBuilder","MAX_DEPTH","DEPTH_BITS","makeDepthKey","flipDepth","maxDepth","normalizedDepth","setSortKeyLayer","sortKey","layer","setSortKeyProgramKey","programKey","makeSortKeyOpaque","setSortKeyOpaqueDepth","depthKey","makeSortKeyTranslucent","setSortKeyTranslucentDepth","mtxOpenGLFromD3D","mat4.fromValues","RenderInstFlags","mtxD3DFromOpenGL","fillVec4","offs","v0","v1","v2","v3","RenderInstExecutionOrder","RenderInst","debug","bindingDescriptors","bindingLayout","dynamicUniformBufferByteOffsets","vertexBuffers","indexBuffer","drawStart","drawCount","drawInstanceCount","renderPipelineDescriptor","AllowSkippingIfPipelineNotReady","setFromTemplate","uniformBuffer","InheritedFlags","tbd","obd","setBindingLayout","setSamplerBindingsFromTextureMappings","validate","bd","setProgram","getMegaStateFlags","setVertexInput","drawIndexes","indexCount","indexStart","Indexed","drawIndexesInstanced","instanceCount","drawPrimitives","primitiveCount","primitiveStart","setUniforms","bufferIndex","uboBuffer","array","emptySpace_1","emptySpace","allocateUniformBuffer","mapUniformBufferF32","setUniformBuffer","getUniformBufferOffset","getUniformBuffer","mappings","setAllowSkippingIfPipelineNotReady","setAttachmentFormatsFromRenderPass","passRenderer","passDescriptor","queryRenderPass","colorAttachmentDescriptor","queryRenderTarget","depthStencilAttachmentDescriptor","drawOnPass","gfxPipeline","pipelineQueryReady","pipelineForceReady","setPipeline","uniformsMap","gfxBindings","setBindings","drawIndexed","draw","renderInstCompareSortKey","RenderInstList","executionOrder","Forwards","renderInsts","usePostSort","checkUsePostSort","insertSorted","renderInst","idx","lo","hi","mid","bisectRight","submitRenderInst","Draw","ensureSorted","drawOnPassRendererNoReset","drawOnPassRenderer","RenderInstPool","pool","allocCount","allocRenderInstIndex","popRenderInst","RenderInstManager","renderCache","instPool","templatePool","simpleRenderInstList","currentRenderInstList","newRenderInst","templateIndex","renderInstIndex","list","setCurrentRenderInstList","pushTemplateRenderInst","newTemplateIndex","newTemplate","Template","popTemplateRenderInst","getTemplateRenderInst","resetRenderInsts","disableSimpleMode","RenderHelper","parameters","getDevice","setDevice","renderGraph","renderInstManager","template","getCache","USE_TONEMAPPING","toneMapping","RGRenderTargetDescription","setDimensions","copyDimensions","makeAttachmentClearDescriptor","clearColor","AntialiasingMode","standardFullClearRenderPassDescriptor","opaqueBlackFullClearRenderPassDescriptor","opaqueWhiteFullClearRenderPassDescriptor","setBackbufferDescSimple","renderInput","antialiasingMode","MSAAx4","selectSampleCount","backbufferWidth","backbufferHeight","makeBackbufferDescSimple","clearDescriptor","pixelFormat","U8_RGBA_RT","selectFormatSimple","FogType","TextureMapping","lodBias","TemporalTexture","inputTexture","outputTexture","setDescription","getTextureForSampling","getTextureForResolving","Light","intensity","Fog","start","end","density","makeDataBuffer","GeometryEvent","BufferGeometry","props","vertices","inputLayoutDescriptor","vertexCount","instancedCount","dirty","mesh","build","AABB","setIndexBuffer","indices","isView","setVertexBuffer","byteStride","bufferByteOffset","existed","getVertexBuffer","updateVertexBuffer","bufferDescriptor","CHANGED","updateIndices","FXAAProgram","features","textureMapping","pushFXAAPass","builder","renderHelper","mainColorTargetID","mainColorResolveTextureID","fxaaProgram","scope","SceneUniform","RenderGraphPlugin","lightPool","texturePool","batchManager","options","renderLists","world","picking","getSwapChain","swapChain","getRenderLists","renderingService","config","canvas","renderingContext","root","ownerDocument","defaultView","disableRenderHooks","handleMounted","object","nodeName","renderable3D","handleUnmounted","remove","handleAttributeChanged","attrName","newValue","parentNode","child","changeRenderOrder","sortable","renderOrder","updateAttribute","handleBoundsChanged","hooks","initAsync","tapPromise","addEventListener","ElementEvent","MOUNTED","UNMOUNTED","ATTR_MODIFIED","BOUNDS_CHANGED","renderer","getConfig","enableDirtyRectangleRendering","$canvas","contextService","getDomElement","resize","deviceContribution","createSwapChain","configureSwapChain","CanvasEvent","RESIZE","attach","tap","removeEventListener","checkForLeaks","getCanvas","background","backgroundColor","parseColor","alpha","mainRenderDesc","mainDepthDesc","mainDepthTargetID","enableFXAA","getOnscreenTexture","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","camera","PROJECTION_MATRIX","getPerspective","VIEW_MATRIX","getViewTransform","CAMERA_POSITION","getPosition","DEVICE_PIXEL_RATIO","getDPR","VIEWPORT","IS_ORTHO","isOrtho","IS_PICKING","render","enableCapture","resolveCapturePromise","captureOptions","encoderOptions","dataURL","toDataURL","loadTexture","successCallback","getOrCreateTexture","capturePromise","PickingPlugin","renderGraphPlugin","pickingIdGenerator","pickingId","encodedPickingColor","init","pickSync","pick","topmost","position","dpr","xInDevicePixel","yInDevicePixel","picked","pickedDisplayObjects","pickByRectangleInDepth","Rectangle","round","rect","targets","pickByRectangle","restorePickingColor","displayObjects","mainPickingDesc","pickingColorTargetID","currentView","getView","rt","pickedColors","readback","createReadback","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","setEnableUpdate","pickedFeatureIdx","pickedDisplayObject","isVisible","isInteractive","canvasWidth","canvasHeight","RENDER_ORDER_SCALE","Batch","clipPathMeshCreated","beforeUploadUBO","beforeInitMesh","afterInitMesh","MaterialEvent","Material","textures","samplers","programDirty","textureDirty","geometryDirty","depthTest","dithering","wireframe","wireframeColor","wireframeLineWidth","vertexShader","fragmentShader","compile","defineProperty","blendEquation","blendEquationAlpha","blendSrc","blendDst","blendSrcAlpha","blendDstAlpha","stencilRef","dispatchMutationEvent","USE_WIREFRAME","uniformNames","structs","uniformStr","struct","getUniforms","shoudDispatchMutationEvent","existedTexture","LOADED","ShaderMaterial","USE_UV","USE_MAP","USE_FOG","enumToObject","enumObject","compareDefines","d1","d2","d1Keys","every","definedProps","fromEntries","packUint8ToFloat","floor","VertexAttributeBufferIndex","VertexAttributeLocation","FILL_TEXTURE_MAPPING","SDFVertexAttributeBufferIndex","SDFVertexAttributeLocation","Instanced","drawcallCtors","gradientAttributeName","objects","materialDirty","textureMappings","mergeAnchorIntoModelMatrix","checkNodeName","maxInstances","inited","observeGeometryChanged","observeMaterialChanged","renderable","dirtify","shouldMergeColor","o1","o2","isCSSRGB","isPattern","image","shouldMerge","instance","clipPath","createGeometry","modelMatrix","mat4.create","modelViewMatrix","packedModelMatrix","packedFillStroke","packedStyle","packedPicking","stroke","opacity","fillOpacity","strokeOpacity","visibility","increasedLineWidthForHitTesting","fillColor","strokeColor","mat4.mul","anchor_1","translateX","translateY","translateZ","contentBounds","getGeometryBounds","halfExtents","getWorldTransform","mat4.fromTranslation","vec3.fromValues","mat4.copy","MODEL_MATRIX","MODEL_MATRIX0","MODEL_MATRIX1","MODEL_MATRIX2","MODEL_MATRIX3","PACKED_COLOR","PACKED_STYLE","PACKED_STYLE1","PACKED_STYLE2","PICKING_COLOR","applyRenderInst","useFog","clipPathTarget","REPLACE","createMaterial","oldDefines","fillTextureMapping","createFillGradientTextureMapping","mapping","generateWireframe","useIndexes","uploadUBO","OPAQUE","updateBatchedAttribute","startIndex","packedFillStroke_1","findIndex","packed_1","packed_2","modelMatrix_1","packed_3","indiceNum","originalVertexBuffers","cursor","uniqueIndices","barycentricBuffer","BARYCENTRIC","useLight","uploadFog","uploadMaterial","counter_1","materialMegaState","currentAttachmentsState","materialUniforms","texImageSource","getOrCreateGradient","gradients","getOrCreatePattern","getOrCreateCanvas","fillMapping","SDF_Shape","CIRCLE","ELLIPSE","RECT","SDFDrawcall","instanced","circle","radius","omitStroke","shouldOmitStroke","getSize","isBillboard","isSizeAttenuation","POSITION","UV","SIZE","PACKED_STYLE3","parsed","tagName","lineDash","hasStroke","isNone","hasLineDash","item","earcut","holeIndices","dim","minX","minY","maxX","maxY","invSize","hasHoles","outerLen","outerNode","linkedList","triangles","prev","steiner","getLeftmost","compareX","filterPoints","eliminateHole","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","equals","removeNode","again","area","ear","zOrder","prevZ","nextZ","q","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","stop","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","maxTX","maxTY","minZ","maxZ","intersects","locallyInside","isValidDiagonal","splitPolygon","hole","bridge","qx","mx","my","tanMin","sectorContainsSector","findHoleBridge","bridgeReverse","filteredBridge","leftmost","ax","ay","bx","by","px","py","intersectsPolygon","inside","middleInside","p1","p2","q1","q2","sign","o3","o4","onSegment","num","Node","an","bp","sum","earcutModule","earcut$2","default","deviation","polygonArea","trianglesArea","flatten","holes","dimensions","holeIndex","distance","dx","dy","pointAt$3","cubicAt","p0","p3","onet","cubicLength","x3","y3","x4","y4","iterationCount","xArr","yArr","totalLength","snapLength","cubics","xt","yt","c3","c12","c23","divideCubic","left","right","quadraticAt","quadraticLength","quadratics","controlPoint1","controlPoint2","divideQuadratic","SEGMENT_LENGTH","MIN_SEGMENT_NUM","MAX_SEGMENT_NUM","quadCurveTo","cpX","cpY","toX","toY","points","segmentNum","fromX","fromY","xa","ya","bezierCurveTo","cpX2","cpY2","dt","dt2","dt3","t2","t3","LineVertexAttributeBufferIndex","LineVertexAttributeLocation","INF","TinySDF","runtime","fontSize","cutoff","fontFamily","fontWeight","fontStyle","$offscreenCanvas","offscreenCanvasCreator","ctx","getOrCreateContext","willReadFrequently","font","textBaseline","textAlign","fillStyle","gridOuter","Float64Array","gridInner","char","measureText","glyphAdvance","actualBoundingBoxDescent","actualBoundingBoxLeft","actualBoundingBoxRight","glyphTop","actualBoundingBoxAscent","glyphWidth","glyphHeight","Uint8ClampedArray","glyph","glyphLeft","clearRect","fillText","imgData","getImageData","edt","x0","y0","gridSize","edt1d","grid","stride","qr","packBoolean","is3DPolyline","POLYLINE","polylineControlPoints","JOINT_TYPE","InstancedPathDrawcall","calcSegmentNum","calcSubpathNum","PATH","updateBuffer","calcSubpathIndex","fillDrawcallCount","InstancedFillDrawcall","pointsBuffer","travelBuffer","packedDash","pBuffer","tBuffer","lineDashOffset","PACKED","PREV","POINT1","VERTEX_JOINT","POINT2","NEXT","VERTEX_NUM","TRAVEL","DASH","pointsBuffer_1","travelBuffer_1","instancedCount_1","packedDash_1","stridePoints","strideFloats","needEarcut","subPathIndex","lineCap","lineJoin","zIndex","defX","defY","markerStart","markerEnd","markerStartOffset","markerEndOffset","POLYGON","length_1","startOffsetX_1","startOffsetY_1","endOffsetX_1","endOffsetY_1","isDisplayObject","atan2","isPolyline_1","reduce","cur","addTailSegment","path","parsePath","convertToPath","mat4.identity","absolutePath_1","absolutePath","segments_1","segments","startOffsetX_2","startOffsetY_2","endOffsetX_2","endOffsetY_2","getStartTangent","getEndTangent","startPointIndex_1","mCommandsNum_1","command","params","nextSegment","useStartOffset","useEndOffset","prePoint","i_1","epsilon","jointType","joint","JOINT_BEVEL","JOINT_ROUND","JOINT_MITER","getJointType","capType","CAP_SQUARE","CAP_ROUND","CAP_BUTT","getCapType","endJoint","JOINT_CAP_ROUND","JOINT_CAP_BUTT","JOINT_CAP_SQUARE","points_1","dist","z1","z2","vec","FillVertexAttributeBufferIndex","FillVertexAttributeLocation","InstancedLineVertexAttributeBufferIndex","InstancedLineVertexAttributeLocation","trianglesHash","compareTrianglesHash","some","uvsBuffer","halfExtents_1","uvBuffer_1","packedStyle_1","billboardRotation","INSTANCED","segmentInstanceGeometry","ImageVertexAttributeBufferIndex","ImageVertexAttributeLocation","LineCap_MAP","butt","square","InstancedLineDrawcall","isLine","subpathIndex","mSegmentCount","mCommandIndex","tangent","interleaved","packedCap","parsedLineStyleProps","LINE","getTotalLength","defX_2","defY_2","lineCap_2","isBillboard_2","isSizeAttenuation_2","calcOffset","startOffsetX","startOffsetY","endOffsetX","endOffsetY","calcDash","dashOffset","dashSegmentPercent","dashRatioInEachSegment","POINTA","POINTB","CAP","parsedLineStyle","segmentsLength","ImageDrawcall","img","u_Map","createImage","channels","RangeError","copyImage","srcImg","dstImg","srcPt","dstPt","dstData","srcOffset","AlphaImage","newImage","resizeImage","clone","GlyphAtlas","stacks","positions","bins","stack","glyphs","stackPositions","bitmap","bin","metrics","boxes","maxWidth","boxes_1","boxes_1_1","box","spaces","boxes_2","boxes_2_1","space","potpack","TextVertexAttributeBufferIndex","TextVertexAttributeLocation","TextUniform","GlyphManager","sdfGeneratorCache","textMetricsCache","glyphMap","getMap","getAtlas","glyphAtlas","getAtlasTexture","glyphAtlasTexture","fontStack","lineHeight","letterSpacing","positionedGlyphs","justify","lineStartIndex","charCode","charCodeAt","scale","advance","generateAtlas","text","newChars","charSet","String","fromCharCode","getDefaultCharacterSet","existedChars","Set","generateSDF","atlasWidth","atlasHeight","ALPHA","sdfGenerator","top","TextDrawcall","packedBufferObjectMap","WeakMap","tmpMat4","fontHash","calcFontHash","glyphManager","fontScale","uvOffsets","packed","indicesOff","linePositionY","enableCSSParsing","buildTextBuffers","indicesOffset","charUVOffsetBuffer","charPackedBuffer","TEX","OFFSET","BACK","allText","offscreenCanvas","SDF_MAP","SDF_MAP_SIZE","FONT_SIZE","GAMMA_SCALE","STROKE_BLUR","HAS_STROKE","vertice","bytes","sliced","vertice_1","bytes_1","glyphQuads","quads","positionedGlyph","glyphPositions","halfAdvance","builtInOffset","BASE_FONT_BUFFER","tl","tr","bl","br","tex","glyphOffset","getGlyphQuads","quad","temp","MeshDrawcall","CircleRenderer","getDrawcallCtors","needDrawStrokeSeparately","hasFill","hasDash","PathRenderer","subpathNum","GroupRenderer","ImageRenderer","TextRenderer","LineRenderer","MeshRenderer","RectRenderer","hasDifferentRadius","stencilRefCounter","BatchManager","rendererFactory","pendingUpdatePatches","stencilRefCache","drawcall","isPicking","updatePendingPatches","renderer_1","drawcallCtor","existedDrawcall","batchKey","deletedDrawcall","attributeName","immediately","objectIdx","patchKey","objectIndices","getStencilRef","entity","updatePatches","lastUpdateBatch","TexturePool","textureCache","image_1","isBrowser","window","Image","onload","onSuccess","globalThis","createImageBitmap","catch","onerror","crossOrigin","imagePool","gradient","fillRect","pattern","callback","repetition","transform","canvasPattern","getImageSync","createPattern","mat","parsedTransformToMat4","parseTransform","setTransform","Plugin","toneMappingExposure","geometryUpdaterFactory","circleRenderer","pathRenderer","IMAGE","TEXT","GROUP","HTML","addRenderingPlugin","getRenderGraphPlugin","plugins","setParameters","AbstractRendererPlugin","TRANSLUCENT","NEGATIVE_ONE","projectionMatrixOpenGLFromD3D","projectionMatrixD3DFromOpenGL","bias","isTranslucent"],"mappings":"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","x_google_ignoreList":[0,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,57]}